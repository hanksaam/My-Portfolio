"use strict";function moveScroller(){var e=$("#scroller").width(),t=function(){var t="lg"===StackExchange.responsive.currentRange(),n=$(window).scrollTop(),r=$("#scroller-anchor").offset().top,i=$("#scroller"),o=StackExchange.scrollPadding.getPaddingTop(),a=o+"px";t&&n>r?i.height()>$(window).height()?i.css({"position":"fixed","top":"","bottom":"0","width":e,"z-index":3}):i.css({"position":"fixed","top":a,"bottom":"","width":e,"z-index":3}):i.css({"position":"relative","top":"","bottom":"","width":""})};StackExchange.responsive.addBreakpointListener(function(){var n=$("#scroller"),r=n[0].style.width,i=n[0].style.position;n.css({"position":"relative","width":""}),e=n.width(),n.css({"position":i,"width":r}),t()}),$(window).scroll(t).resize(t),t()}function initTagRenderer(e,t,n){window.tagRenderer||(n=n||{"tags":[],"id":""},window.tagRendererRaw=function(r,i,o,a){i=i||"",o=o||"a";var s="",c=a?"s-tag":"post-tag";i||(e&&$.inArray(r,e)>-1?s=a?"s-tag__required":"required-tag":t&&$.inArray(r,t)>-1&&(s=a?"s-tag__moderator":"moderator-tag"));var u=$("<"+o+">").addClass(c).addClass(s).addClass($.inArray(r,n.tags)>-1?"channel"+n.id+"-tag":"").text(r);return"a"===o.toLowerCase()&&u.attr({"rel":"tag","href":i+"/questions/tagged/"+encodeURIComponent(r),"title":function(e){return"show questions tagged '"+e.tag+"'"}({"tag":r})}),u.outerHTML()},window.tagRenderer=function(e,t,n,r){return $(tagRendererRaw(e,t,n,r))})}function showFadingHelpText(e){e.wrap('<div class="dno" />').show().parent().fadeIn("slow",function(){$(this).children().unwrap()})}function initFadingHelpText(){var e={"wmd-input":"#how-to-format","tagnames":"#how-to-tag","tag-editor":"#how-to-tag","title":"#how-to-title","wmd-input-42":"#how-to-format","edit-comment":"#how-to-comment"},t=$(".wmd-input, #tagnames, #title, .tag-editor input, #wmd-input-42, .edit-comment"),n=function(t){var n=$(t);return n.parent().hasClass("tag-editor")&&!n.closest(".js-mentions-input").length?e["tag-editor"]:n.hasClass("wmd-input")?e["wmd-input"]:n.hasClass("edit-comment")?e["edit-comment"]:e[$(t).attr("id")]};$(".js-help-pointer").click(function(e){var t=null;$(e.target).hasClass("js-dismiss-pointer")||$(e.target).closest(".js-dismiss-pointer").length?$($(this).data("focus-on-dismiss")).focus():t=$($(this).attr("data-for"));var n=this;return setTimeout(function(){$(n).remove(),$("html,body").animate({"scrollTop":t.offset().top-20})}),!1}),$(".js-back-to-edit-field").click(function(){var e=$($(this).attr("href")),t=$(this).attr("data-focus"),n=t?$(t):e;return $("html,body").animate({"scrollTop":e.offset().top-40},function(){n.focus()}),!1}),t.focus(function(){var e=n(this);t.each(function(){var t=n(this);t!=e&&$(t).hide()});var r=$(e);r.is(":visible")||showFadingHelpText(r),$(".js-help-pointer").addClass("d-none");var i=$(".js-help-pointer[data-for='"+e+"']");i.removeClass("d-none"),i.data("focus-on-dismiss",this)})}!function(e){function t(){}function n(e,t){if(o)return t.indexOf(e);for(var n=t.length;n--;)if(t[n]===e)return n;return-1}var r=t.prototype,i=[],o=i.indexOf?!0:!1;r.getListeners=function(e){var t=this._events||(this._events={});return t[e]||(t[e]=[])},r.addListener=function(e,t){var r=this.getListeners(e);return-1===n(t,r)&&r.push(t),this},r.removeListener=function(e,t){var r=this.getListeners(e),i=n(t,r);return-1!==i&&(r.splice(i,1),0===r.length&&(this._events[e]=null)),this},r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"==typeof t)for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));else for(r=n.length;r--;)o.call(this,t,n[r]);return this},r.removeEvent=function(e){return e?this._events[e]=null:this._events=null,this},r.emitEvent=function(e,t){for(var n=this.getListeners(e),r=n.length;r--;)n[r].apply(null,t||i)===!0&&this.removeListener(e,n[r]);return this},"function"==typeof define&&define.amd?define(function(){return t}):e.EventEmitter=t}(this);var StackExchange=StackExchange||{};StackExchange.realtime=function(){function e(){return{"creationfailed":null,"onopen":null,"onmessage":null,"onclose":null,"onerror":null}}function t(t){function n(){try{return"WebSocket"in window?new WebSocket(t):new MozWebSocket(t)}catch(e){return e.message}}var r;return{"on":new e,"isOpen":function(){return r&&1===r.readyState},"readyState":function(){return r?r.readyState:null},"start":function(){if(!r){var e=this.on,t=n();"string"==typeof t?e.creationfailed&&e.creationfailed(t):(r=t,r.onopen=function(){e.open&&e.open()},r.onclose=function(){e.close&&e.close(),r=null},r.onmessage=function(t){e.message&&e.message(t)},r.onerror=function(){e.error&&e.error(),r=null})}},"close":function(){r&&(r.close(),r=null)},"dispose":function(){this.close()},"send":function(e){r&&r.send(e)},"open":function(){}}}function n(){V&&(V.dispose(),V=null)}function r(e){return new t(e)}function i(e){var t=e.split(","),i=t.length,c=H%i,u=t[c],l=StackExchange.options.realtime.staleDisconnectIntervalInHours;if("WebSocket"in window||"MozWebSocket"in window){if(V)return;if(V=new r(u),null===V)return;V.on.open=function(){if(K||(K=!0),H=0,a("WebSocket opened"),V&&1===V.readyState()){var e="",t=StackExchange.options;if(t){var e="|";t.routeName&&(e+=t.routeName.toString()),e+="|",t.user&&t.user.userId&&(e+=t.user.userId.toString()),e+="|",t.user&&t.user.accountId&&(e+=t.user.accountId.toString()),e+="|",t.user&&t.user.rep&&(e+=t.user.rep.toString()),e=e+"|"+window.location.host+"|",t.serverTime&&(e+=t.serverTime.toString()),e+="|",a("analytic: "+e),V.send(e)}}o(),s(),setInterval(U,6e4),l>0&&setTimeout(F,1e3*l*60*60)},V.on.message=function(e){var t=$.parseJSON(e.data||e);if("realtime-broadcast"===t.action){a("broadcast message - "+t.data);var r=$.parseJSON(t.data).a;("killWebSocket"===r||"restartWebSocket"===r)&&(a("Applying action: "+r),Y="killWebSocket"===r,Y?n():V.close())}else Z.emitEvent(t.action,[t.data])},V.on.close=function(){V=null,a("WebSocket closed"),!Y&&5>H&&J>0&&(H++,J--,a("reconnect attempt:"+H+" max retries:"+J),setTimeout(function(){StackExchange.realtime.init(e)},(new Date).getTime()%50/20*1e3))},V.on.error=function(){a("WebSocket failed"),n()},V.on.creationfailed=function(e){a("Sockets disabled - "+e),n()},V.start(),G.length>0&&V&&V.open()}}function o(){if(null!=V&&V.isOpen())for(var e=0,t=G.length;t>e;e++)a("sending "+G[e]),V.send(G[e])}function a(e){(StackExchange&&StackExchange.options&&StackExchange.options.enableLogging||$&&$.cookie&&$.cookie("devlog"))&&console.log("realtime: "+e)}function s(){Z.addListener("hb",function(e){a("heartbeat received; responding"),V.send(e)})}function c(e,t){G.push(e),t=t===!1?!1:!0,t&&o()}function u(e,t){Z.removeListener(e,t),d(e)}function l(e,t){Z.addListener(e,t),c(e)}function d(e){a("unsubscribing "+e);var t=$.inArray(e,G);-1!=t&&(G.splice(t,1),null!=V&&V.isOpen()&&V.send("-"+e))}function f(e,t){var n=e+"-question-"+t;d(n)}function p(e,t){var n=e+"-question-"+t;c(n),Z.addListener(n,function(e){if(!StackExchange.realtime.pauseQuestionNotifications){var t=$.parseJSON(e);if(t.acctid!=StackExchange.options.user.accountId)switch(a(n+" "+e),t.a){case"score":j(t);break;case"comment-add":m(t);break;case"answer-add":P(t);break;case"accept":g(t);break;case"unaccept":g(t,!0);break;case"post-edit":_(t);break;case"post-deleted":h(t)}}})}function h(e){var t=e.aId||e.qId,n=!!e.aId,r=n?$("#answer-"+e.aId):$("#question");r.css("opacity",.1);var i=$('<div class="realtime-post-deleted-notification" />').css({"width":r.outerWidth(),"height":r.outerHeight()});i.insertBefore(r);var o=StackExchange.options.user.canSeeDeletedPosts?"This post has been deleted - click to refresh the page":"This post has been deleted and is no longer viewable",a=$("<p>").text(o).appendTo(i);a.click(function(){window.location.reload(!0)}),$(".popup[data-postid="+t+"]").fadeOutAndRemove()}function g(e,t){$(".js-accepted-answer-indicator").each(function(){var n=!t&&$(this).closest(".js-voting-container").data("post-id")===e.answerid;$(this).toggleClass("d-none",!n)})}function m(e){0==$("#comment-"+e.commentid).length&&StackExchange.comments.realtimeMessage(e.id)}function v(e,t,n,r,i){var o=e+"-"+t;c(o),Z.addListener(o,function(e){a("received (active) on "+o);var s=$.parseJSON(e);(!r||r(s))&&(q(s,n,t),i&&i(s))})}function b(e,t,n,r,i,o,a){B=n,Q=o,v(e,t,r,function(e){if(i)for(var t=0;t<i.length;t++)if(-1==$.inArray(i[t],e.tags))return!1;return!0},a)}function y(e){var t=[],n=[];return e.forEach(function(e){"or"===e?n.length>0&&(t.push(n),n=[]):e.length>0&&"and"!==e&&n.push(e)}),n.length>0&&t.push(n),t}function k(e,t,n,r,i){var o=function(e){return r.noAnswers&&!e.noAnswers?(a("ignoring because has answers"),!1):r.hasBounty&&!e.hasBounty?(a("ignoring because no bounty"),!1):!0},s=function(e){for(var t=e.length-1;t>=0;t--)if("-"!==e[t][0])return e[t];return null};B=i,0===n.length?v(e,"questions-"+t,!1,o):y(n).forEach(function(n){var r=s(n);if(null!==r){var i="questions-"+t+"-tag-"+r;v(e,i,!1,function(e){if(!o(e))return!1;for(var t=0;t<n.length;t++){var r=n[t];if("-"!==r[0]){if(-1===$.inArray(r,e.tags))return a("ignoring because post does not contain "+r+" in "+i),!1}else{var s=r.substr(1);if(-1!==$.inArray(s,e.tags))return a("ignoring because post contains "+s+" in "+i),!1}}return!0})}})}function w(e){c(e+"-qcnt-feed"),Z.addListener(e+"-qcnt-feed",function(e){$("div#q-cnt").html(e)}),c(e+"-evc-feed"),Z.addListener(e+"-evc-feed",function(e){$("div#evc-cnt").html(e)}),c(e+"-acnt-feed"),Z.addListener(e+"-acnt-feed",function(e){$("div#a-cnt").html(e)})}function x(e){var t=e+"-review-dashboard-update";c(t),Z.addListener(t,function(e){var t=$.parseJSON(e),n=$('.dashboard-activity[data-review-task="'+t.i+'"]');0==n.find('.dashboard-user[data-user="'+t.u+'"]').length&&(n.find(".dashboard-user:nth-child(6)").remove(),n.css("overflow","hidden"),n.children().css({"left":"-44px"}),n.prepend(t.html).children().animate({"left":0},function(){n.css("overflow","visible")}))})}function S(){if(null!=StackExchange.options.user.accountId){var e=StackExchange.options.user.accountId+"-topbar";c(e),Z.addListener(e,function(e){StackExchange.topbar.handleRealtimeMessage(e)})}}function C(e){if(null!=StackExchange.options.user.accountId){var t=e+"-"+StackExchange.options.user.userId+"-reputation";c(t),Z.addListener(t,function(e){T(e)})}}function E(e){var t=e+"-suggested-edits-count-update";c(t),Z.addListener(t,function(){O()})}function j(e){var t=$(".js-voting-container").filter(function(){return $(this).data("post-id")===e.id}).find(".js-vote-count");t.data("value")!==e.score&&(t.data("value",e.score).text(e.score),0===$(":animated").length&&t.fadeTo("fast",.7).fadeTo("fast",1),StackExchange.question.canViewVoteCounts()&&StackExchange.vote.bindFetchVoteCounts())}function T(e){var t=$("#hlinks .reputation-score, .links-container .reputation, .js-header-rep");t.text()!=e.score&&(0==$(":animated").length&&t.fadeTo("fast",.8).fadeTo("fast",1),t.text(e).attr("title",function(e){return"your reputation: "+e.reputation}({"reputation":e})),t.trigger("reputationchange"))}function O(){$.ajax({"type":"POST","url":"/review/suggested-edit-count","data":{"fkey":StackExchange.options.user.fkey},"dataType":"json","success":function(e){e&&e.count&&A(e.count)}})}function A(e){var t=$(".suggested-edits-count");t.text()!=e&&(0==$(":animated").length&&t.fadeTo("fast",.5).fadeTo("fast",1),t.text(e))}function P(e){if(0==$("#answer-"+e.answerid).length&&(z.push(e.answerid),StackExchange.cardiologist)){if(StackExchange.cardiologist.isHeartBeating()){var t=StackExchange.helpers.DelayedReaction(I,5e3);t.trigger()}else I();StackExchange.cardiologist.notifiedOfNewAnswer()}}function I(){$(".js-new-answer-activity").remove(),$("#answers-header").prepend(X)}function _(e){var t=$(".question[data-questionid="+e.id+"], .answer[data-answerid="+e.id+"]");if(!(t.find(".js-new-post-activity[data-postid="+e.id+"]").length>0)){var n=$('<div class="new-post-activity bar-sm ta-center mb16 js-new-post-activity" data-postid="'+e.id+'">').append($('<a class="d-block py8" href="#">').text("An edit has been made to this post")),r=0===t.find(".inline-editor").length,i=function(){$(".js-new-post-activity[data-postid="+e.id+"]").remove(),r&&t.off("click",i),0==$("#review-content").length&&$.get("/posts/ajax-load-realtime/{postIdsSemiColonDelimited}?title=true".formatUnicorn({"postIdsSemiColonDelimited":e.id}),et(t.find(".postcell, .answercell"),e)),$(document).trigger("refreshEdit",e.id)};r&&t.click(i),n.prependTo(t).find("a").click(function(e){return e.stopPropagation(),i(),!1})}}function M(){$("#tabs").show(),$(".js-new-answer-activity").remove();var e=$("#answers #answers-header"),t=e.find(".answers-subheader h2"),n=parseInt(t.text())+z.length;isNaN(n)&&(n=z.length),t.text(function(e){return 1==e.answerCount?e.answerCount+" Answer":e.answerCount+" Answers"}({"answerCount":n})),$.ajax({"url":"/posts/ajax-load-realtime/{postIdsSemiColonDelimited}".formatUnicorn({"postIdsSemiColonDelimited":z.join(";")})}).done(function(t){var n=$('<div class="dno" />').append(t);n.insertAfter(e).fadeIn(400,function(){n.removeClass("dno"),styleCode(),StackExchange.vote.init($(".question").data("questionid")),n.find(".answer").each(function(){StackExchange.comments.init({"post":$(this)})})})}),StackExchange.question.bindSuggestedEditPopupLinks(),U(),z=[]}function q(e,t,n){null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.isIgnored(e.body)||(e.fetch&&$.ajax({"url":"/posts/"+e.id+"/"+n}).done(function(t){e.body=t,W[e.id]={"id":e.id,"body":e.body,"index":(new Date).getTime(),"siteid":e.siteid}}),W[e.id]={"id":e.id,"body":e.body,"index":(new Date).getTime(),"siteid":e.siteid},$(".js-new-post-activity").remove(),$("#question-mini-list, #questions").prepend(tt),$(".tag-sponsorship").length>0&&$("#question-mini-list, #questions").css("margin-top","0px"),t&&N())}function D(e,t){return e.index<t.index?-1:e.index>t.index?1:0}function N(){var e=[];for(var t in W)W.hasOwnProperty(t)&&e.push(W[t]);for(var n=e.sort(D),r=0;r<n.length;r++){var i=n[r];$("#question-summary-"+i.id).remove(),$(i.body).prependTo("#question-mini-list, #questions").hide().fadeIn()}L(0),null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.applyPrefs(!0,B),styleCode(),U(),$(".js-new-post-activity").remove(),W={}}function L(e){var t=document.title.replace(/^\(\d*\*?\) /,"");e>0&&(t="("+e+") "+t),window.setTimeout(function(){$(document).attr("title",t)},200)}function F(){Y=!0,StackExchange.notify.show('Instant updates have been disabled due to inactivity <a href=".">refresh</a> to reconnect',312),V.dispose()}function U(){for(var e=$("span.relativetime, span.relativetime-clean"),t=0;t<e.length;t++)if(e[t].title){var n=R(e[t].title);n&&(e[t].innerHTML=n)}}function R(e){if(null!=e&&20==e.length){e=e.substr(0,10)+"T"+e.substr(11,10);var t=new Date(e),n=((new Date).getTime()-t.getTime())/1e3+StackExchange.options.serverTimeOffsetSec,r=Math.floor(n/86400);if(!(isNaN(r)||0>r||r>=31))return 0==r&&(2>n&&"just now"||60>n&&(Q?function(e){return 1==e.seconds,e.seconds+"s ago"}({"seconds":Math.floor(n)}):function(e){return 1==e.seconds?e.seconds+" sec ago":e.seconds+" secs ago"}({"seconds":Math.floor(n)}))||120>n&&(Q?"1m ago":"1 min ago")||3600>n&&(Q?function(e){return 1==e.minutes,e.minutes+"m ago"}({"minutes":Math.floor(n/60)}):function(e){return 1==e.minutes?e.minutes+" min ago":e.minutes+" mins ago"}({"minutes":Math.floor(n/60)}))||7200>n&&(Q?"1h ago":"1 hour ago")||86400>n&&(Q?function(e){return 1==e.hours,e.hours+"h ago"}({"hours":Math.floor(n/3600)}):function(e){return 1==e.hours?e.hours+" hour ago":e.hours+" hours ago"}({"hours":Math.floor(n/3600)})))}}var B,V=null,W={},z=[],H=0,G=[],J=10,K=!1,Q=!1,Y=!1,Z=new EventEmitter,X=function(){var e=Object.keys(z).length;0==e&&$(".js-new-answer-activity").remove();var t=$('<div class="new-answer-activity ta-center bar-sm mb16 js-new-answer-activity">').append($('<a class="d-block py8" href="#">').text(function(e){return 1==e.count?e.count+" new answer to this question":e.count+" new answers to this question"}({"count":e})));return t.click(function(){StackExchange.realtime.expandAnswers()}),t.find("a").click(function(e){return e.stopPropagation(),StackExchange.realtime.expandAnswers(),!1}),t},et=function(e,t){return function(n){var r=$(n).filter(".question, .answer"),i=r.find(".postcell, .answercell"),o=e.closest(".question"),a=o.length>0,s=$("h1 a.question-hyperlink"),c=r.data("title"),u=a&&$.trim(s.text())!=c,l=$(".question-status"),d=150,f=function(e,t){return function(){return $.Deferred(function(n){null==t||t()?e.animate({"opacity":0},d).promise().done(function(){n.resolve()}):n.resolve()})}},p=f(s,function(){return u}),h=f(e),g=f(l);if($.when(p(),h(),g()).done(function(){u&&s.text(c).animate({"opacity":1},d);var t=function(e,t){return new $.Deferred(function(n){t.css({"opacity":0}),e.replaceWith(t),t.animate({"opacity":1},d,function(){n.resolve()})})};t(e,i).done(function(){styleCode(),StackExchange.question.bindSuggestedEditPopupLinks()});var r=$(n).find(".question-status:last");r.length?(l.length||(l=$("<div>").addClass("question-status").insertAfter(o)),t(l,r)):a?l.remove():l.animate({"opacity":1},d)}),window.history){var m=u?function(e){return e.pageTitle+" - "+e.siteName}({"pageTitle":c,"siteName":StackExchange.options.site.name}):document.Title;window.history.replaceState(window.history.state,m,"#"+t.id)}}},tt=function(){var e=Object.keys(W).length;L(e);var t=$('<div class="js-new-post-activity bg-black-050 bar-sm ta-center mt8 ml8">').append($('<a class="d-block py8" href="#">').text(function(e){return 1==e.count?e.count+" question with new activity":e.count+" questions with new activity"}({"count":e})));return t.click(function(){StackExchange.realtime.expandActiveQuestions()}),t.find("a").click(function(e){return e.stopPropagation(),StackExchange.realtime.expandActiveQuestions(),!1}),t};return{"init":i,"log":a,"expandActiveQuestions":N,"expandAnswers":M,"subscribeToActiveQuestions":b,"subscribeToUQL":k,"subscribeToQuestion":p,"unsubscribeToQuestion":f,"pauseQuestionNotifications":!1,"subscribeToReputationNotifications":C,"subscribeToSuggestedEdits":E,"updateRelativeDates":U,"subscribeToReviewDashboard":x,"subscribeToTopBarNotifications":S,"subscribeToCounts":w,"genericSubscribe":l,"genericUnsubscribe":u}}(),StackExchange.anonymous={},!function(e,t,n){"function"==typeof define?define(n):"undefined"!=typeof module?module.exports=n():t[e]=n(t)}("klass",this,function(e){function t(e){return o.call(n(e)?e:function(){},e,1)}function n(e){return typeof e===s}function r(e,t,n){return function(){var r=this.supr;this.supr=n[u][e];var i={}.fabricatedUndefined,o=i;try{o=t.apply(this,arguments)}finally{this.supr=r}return o}}function i(e,t,i){for(var o in t)t.hasOwnProperty(o)&&(e[o]=n(t[o])&&n(i[u][o])&&c.test(t[o])?r(o,t[o],i):t[o])}function o(e,t){function r(){}function a(){this.initialize?this.initialize.apply(this,arguments):(t||l&&s.apply(this,arguments),d.apply(this,arguments))}r[u]=this[u];var s=this,c=new r,l=n(e),d=l?e:this,f=l?{}:e;return a.methods=function(e){return i(c,e,s),a[u]=c,this},a.methods.call(a,f).prototype.constructor=a,a.extend=o,a[u].implement=a.statics=function(e,t){return e="string"==typeof e?function(){var n={};return n[e]=t,n}():e,i(this,e,s),this},a}e=e||this;var a=e.klass,s="function",c=/.*/,u="prototype";return t.noConflict=function(){return e.klass=a,this},t}),StackExchange.topbar=function(){function e(e,t){var n=e.data("cookie");if(n){var r=t($.cookie(n));r&&$.cookie(n,r,{"expires":new Date(e.data("expire-date")),"path":"/"})}}function t(e){StackExchange.options.enableLogging&&console.log("topbar: "+e)}function n(e){for(var t=0;t<M.length;t++){var n=M[t].$button;if(n&&n[0]==e)return!0}return!1}function r(){for(var e=0;e<M.length;e++)M[e].toggle(!1)}function i(e){var n;if(e&&(n=JSON.parse(e))){t("realtime message - "+e);for(var r in n)for(var i=0;i<M.length;i++)if(r==M[i].name){M[i].handleRealtimeMessage(n[r]);break}}}function o(e){if(!o.styleAdded){var t=$("<style>").text('.ac-result:hover, .ac-result[data-selected="true"] {background-color: #F4F8FB;}');$(document.head).append(t),o.styleAdded=!0}var n=e.parent();this.resultsCache={};var r=$('<div class="d-none ps-absolute bg-white ba bc-black-3 btw0 bs-md l0 r0 t100 z-dropdown fs-body1 p0 m0 mt2 wmx100" />');n.append(r),StackExchange.mobile&&e.css("font-size","16px"),this.$searchBox=e,this.$resultsDiv=r,e.on(/Trident/.test(navigator.userAgent)?"textinput":"input",this.suggest.bind(this)),e.on("keydown",this.onKeyDown.bind(this)),$(document).on("click",function(t){t.target!==e.get(0)&&this.hideResults()}.bind(this)),r.on("mousemove",this.selected.bind(null)),r.on("click",".ac-result",this.choose.bind(this))}function a(){var e=$(".js-top-bar"),t=$(".js-search-field"),n=$(".js-search-submit"),r=!1;t.on({"focus":function(){e.addClass("_search-open")},"blur":function(){r?(t.focus(),r=!1):e.removeClass("_search-open")},"keydown":function(e){27==e.keyCode&&t.blur()}}),n.mousedown(function(){r=!0}),$("#search-channel-selector").change(function(){var e=$(this).find("option:selected");if(e&&1==e.length){var t=e.data("url");if(t){var n=!!$("#search").data("action");n?$("#search").data("action",t):$("#search").attr("action",t)}var r=e.data("mixed");void 0===r?$("#search-channel-mixed").attr("disabled","disabled"):$("#search-channel-mixed").removeAttr("disabled").val(r)}}).trigger("change"),$("#search").on("submit",function(e){var t=$(this).data("action");if(t){var n=location.pathname+location.hash.replace(/%20/g,"+"),r=t+"#"+$(this).serialize();return n!==r&&(location.href=r),e.preventDefault(),!1}}),$("input.js-search-autocomplete").each(function(){new o($(this))})}function s(){function e(e){n.toggleClass(i,e),t.toggleClass(o,e)}var t=$(".js-searchbar"),n=$(".js-searchbar-trigger a"),r=$(".js-search-field"),i="topbar-icon-on",o="searchbar__open",a=!0;n.on("mousedown",function(){a=!t.hasClass(o)}).on("click",function(t){t.preventDefault(),a&&(e(!0),r.focus()),a=!0});var s=StackExchange.helpers.DelayedReaction(function(){e(!1)},0);$(".js-searchbar").focusout(s.trigger).focusin(s.cancel)}function c(e){var t=$("html").hasClass("html__unpinned-leftnav");if(arguments.length||(e=!t),t!==!!e){var n,r;e?($("html").addClass("html__unpinned-leftnav"),n="sm md lg",r=""):($("html").removeClass("html__unpinned-leftnav"),n="sm",r="md lg"),$(".js-pinned-left-sidebar").attr("data-is-here-when",r),$(".js-unpinned-left-sidebar").attr("data-is-here-when",n),StackExchange.responsive.forceCheck()}}function u(){function e(){if(i.is(":visible")){var e=i.offset(),t=e.top-a.scrollTop()+StackExchange.scrollPadding.getPaddingTop(),n=Math.max(StackExchange.scrollPadding.getPaddingTopMinimal(),t)+o,s=r.height(),c=n+s-t-i.height();n-=Math.max(0,c),r.css("top",n),i.css("min-height",s+o)}}var t=!1,n=(navigator.userAgent||"").match(/\bEdge\/(\d+)/);if(n&&parseInt(n[1],10)<17&&(t=!0),t||!window.CSS||!CSS.supports||!CSS.supports("(position: sticky) or (position: -webkit-sticky)")){var r=$(".js-sticky-leftnav");if(r.length){t&&r.addClass("left-sidebar__fake-sticky");var i=$(".js-pinned-left-sidebar"),o=parseInt(i.css("padding-top"),10),a=$(window);a.on("scroll",e),StackExchange.responsive.addBreakpointListener(e),e()}}}function l(){var e=$("#js-gdpr-consent-banner"),t=e.find(".js-notice-close");t.click(function(){t.prop("disabled",!0),$.ajax({"method":"POST","url":"/accounts/accept-gdpr-consent-banner","data":{"fkey":StackExchange.options.user.fkey},"dataType":"json","success":function(t){t&&e.remove()},"complete":function(){t.prop("disabled",!1)}})})}function d(){function e(){function e(){if(c++,c>30)throw StackExchange.debug.log("checkSize ran into an infinite loop"),"checkSize ran into an infinite loop"}var o,a,s=$(window).width(),c=0;do if(e(),o=!1,!(t.length&&(i||s>=t[0][1])&&(t.shift()[0].removeClass("d-none"),o=!0,i))){i=!1,a=!1;for(var u=n.find("[data-remove-order]:visible");u.length&&r();){e();var l,d=null;u.each(function(){var e=parseInt($(this).attr("data-remove-order"),10);(!d||l>e)&&(d=$(this),l=e)}),d.addClass("d-none"),u=u.not(d),t.unshift([d,s+1]),a=!0}}while(o&&!a)}var t=[],n=$(".js-secondary-topbar-links");if(n.length){n.addClass("the-js-is-handling-responsiveness");var r;r=/Trident/.test(navigator.userAgent)?function(){var e=n.find(".-item:visible:last");return e.offset().left+e.width()>$(window).width()}:function(){return n.position().left+n.width()>n.offsetParent().width()};var i=!1,o=StackExchange.helpers.DelayedReaction(e,100);StackExchange.responsive.addBreakpointListener(function(e,t){$(window)["sm"===e?"on":"off"]("resize",o.trigger),("sm"===e||"sm"===t)&&o.trigger()}),"sm"===StackExchange.responsive.currentRange()&&($(window).on("resize",o.trigger),e()),_=function(){i=!0,e()}}}var f=klass({"name":"","url":"","cssClass":"","button":null,"$dialog":null,"$loadingPlaceholder":null,"$preloadedDialog":null,"alignment":null,"hasRead":!1}).statics({"$corral":$(".js-topbar-dialog-corral")}).methods({"isLoading":function(){return null!=this.$loadingPlaceholder},"isLoaded":function(){return null!=this.$dialog},"isVisible":function(){var e=this.$dialog||this.$loadingPlaceholder;return null!=e&&e.is(":visible")},"toggle":function(e,t){if("boolean"!=typeof e)throw new Error("showOrHide is a required parameter");if(!e){if(this.isLoading())return this.showOrHide(!1),void 0;if(!this.isLoaded())return}if(this.isLoaded()||this.isLoading()?(e||t||!this.hasRead||this.markAsRead(),this.showOrHide(e)):this.$preloadedDialog?this.loadChildContent():this.loadDialog(),e)for(var n=0;n<M.length;n++)this.button!=M[n]&&M[n].toggle(!1,t)},"showOrHide":function(e){e?(this._bound_pdub||(this._bound_pdub=this.positionDialogUnderButton.bind(this)),this.positionDialogUnderButton(),StackExchange.responsive&&StackExchange.responsive.addBreakpointListener(this._bound_pdub)):StackExchange.responsive&&this._bound_pdub&&StackExchange.responsive.removeBreakpointListener(this._bound_pdub);var t=this.$dialog||this.$loadingPlaceholder;t&&t.toggle(e),e&&this.$dialog&&(this.hasRead=!0)},"loadChildContent":function(){var e=this.$preloadedDialog.find(".child-content");if(this.$dialog=this.$preloadedDialog,this.showOrHide(!0),this.url){$("<div>",{"class":"child-content-loading"}).addSpinner().appendTo(e);var t=this;this.fetchUrl().done(function(n){e.html(n),t.afterLoad()})}},"loadDialog":function(){if(!this.isLoading()){this.$loadingPlaceholder=this.getLoadingPlaceholder().appendTo(f.$corral),this.showOrHide(!0);var e=this;this.fetchUrl().done(function(t){e.$dialog=$(t).appendTo(f.$corral),e.afterLoad();var n=e.$loadingPlaceholder.is(":visible");e.showOrHide(n)}).always(function(){e.$loadingPlaceholder.remove(),e.$loadingPlaceholder=null})}},"afterLoad":function(){this.$dialog.find(".js-close-button").click(function(){StackExchange.topbar.hideAll()}),StackExchange.gps.bindTrackClicks(this.$dialog)},"getLoadingPlaceholder":function(){var e=$("<div/>").append(StackExchange.helpers.getSpinnerImg()).html(),t=this.cssClass+(StackExchange.options.user.isAnonymousNetworkWide?" anon":""),n=['<div class="topbar-dialog ',t,' dno">','<div class="header">',e,"</div>",'<div class="modal-content"/>',"</div>"];return $(n.join(""))},"positionDialogUnderButton":function(){var e=this.alignment||"right",t=this.button.$button.outerHeight(),n=this.$dialog||this.$loadingPlaceholder,r=n.parent();for(["top","left","right","max-width"].forEach(function(e){n[0].style.removeProperty(e)});r.not("body").length&&"static"===r.css("position");)r=r.parent();r=r.length?r:$("body");var i,o=this.button.$button.offset().left-r.offset().left;"right"===e&&(o=r.outerWidth()-o-this.button.$button.outerWidth(),i=r.offset().left+r.outerWidth()-o);var a={"top":t};StackExchange.responsive&&"sm"===StackExchange.responsive.currentRange()||(a[e]=o,i&&(a.maxWidth=i)),(this.$dialog||this.$loadingPlaceholder).css(a)},"fetchUrl":function(){t("fetching "+this.url);var e=$.ajax({"type":"GET","url":this.url,"dataType":"html"});return e},"markAsRead":function(){this.button.markAsRead(),this.isLoaded()&&this.$dialog.find(".unread-item").removeClass("unread-item")},"handleRealtimeMessage":function(){this.clearLoadedDialog()},"clearLoadedDialog":function(){this.isLoaded()&&(this.$dialog.remove(),this.$dialog=null,this.hasRead=!1)}}),p=klass({"name":"","selector":"","dialog":null,"$button":null,"onClass":"","unreadCountPrefix":"","queuedUnreadCount":0,"showsOnMouseOver":!1}).methods({"initialize":function(){this.dialog.name=name,this.dialog.button=this,q.push(this.dialog);var e=this;this.$button=$(this.selector),this.$button.click(function(){return e.toggle(),!1}),this.showsOnMouseOver&&this.$button.mouseover(function(){e.showOnMouseOver()}),this.onClass="topbar-icon-on"+(this.onClass?" ":"")+this.onClass},"toggle":function(e,t){e="boolean"==typeof e?e:!this.$button.hasClass(this.onClass),this.$button.toggleClass(this.onClass,e),this.dialog.toggle(e,t)},"showOnMouseOver":function(){for(var e=!1,t=0;t<M.length;t++){var n=M[t];if(n!=this&&n.showsOnMouseOver&&n.isOn()){e=!0;break}}e&&this.toggle(!0,!0)},"isOn":function(){return this.$button.hasClass(this.onClass)},"markAsRead":function(){this.$button.find(".unread-count,.js-unread-count").fadeOut();var e=this.$button.data("unread-class");e&&this.$button.removeClass(e),this.dequeuePendingUnreadCount()},"dequeuePendingUnreadCount":function(){this.queuedUnreadCount&&(this.setUnreadCount(this.queuedUnreadCount),this.queuedUnreadCount=0,this.dialog.clearLoadedDialog())},"setUnreadCount":function(e,t){var n=t!==!1;if(void 0===e);else if(0>=e)this.queuedUnreadCount=0,this.isOn()||this.markAsRead();else if(e>0)if(this.isOn())this.queuedUnreadCount=e;else{var r=this.$button.find(".unread-count,.js-unread-count");r.text(this.unreadCountPrefix+e).fadeIn(),n&&this.addUnreadClass(),this.dialog.clearLoadedDialog()}},"addUnreadClass":function(){var e=this.$button.data("unread-class");e&&this.$button.addClass(e)},"handleRealtimeMessage":function(){}}),h=f.extend({"url":"/topbar/site-switcher/site-list","cssClass":"siteSwitcher-dialog","$searchItems":null,"$pinnedSiteSearchItems":null,"isPreloaded":!0,"$preloadedDialog":f.$corral.find(".siteSwitcher-dialog")}).methods({"afterLoad":function(){this.$dialog.find("#js-site-filter-txt").typeWatch({"highlight":!1,"wait":250,"captureLength":-1,"callback":$.proxy(this.filterSites,this)}),this.$searchItems=this.$dialog.find(".js-other-sites li").clone().map(function(){return{"title":$(".site-icon",this).attr("title").toLowerCase(),"description":$(".site-desc",this).text().toLowerCase(),"hostname":$("a",this).first().attr("href"),"li":this}});var e=this.$dialog;this.$dialog.find("#js-site-filter-txt").focus(function(){var t=e.offset().top+e.height(),n=e.find(".other-sites li:nth-child(2)"),r=n.offset().top+n.height();r>t&&e.animate({"scrollTop":e.scrollTop()+r-t},750)}),StackExchange.options.user.isAnonymous&&!StackExchange.options.user.isAnonymousOnThisSite||!$(".pinned-site-editor-container").length||($(".js-found-sites").css({"width":$("#js-site-search-txt").outerWidth()}),$(".js-found-sites").hide(),this.$dialog.find("#js-site-search-txt").typeWatch({"highlight":!1,"wait":100,"captureLength":-1,"callback":$.proxy(this.findSitesToPin,this)}),this.$dialog.find("#edit-pinned-sites").click($.proxy(this.editPinnedSites,this)),this.$dialog.find("#cancel-pinned-sites").click({"forceListRefresh":$("#save-pinned-sites-btn").is(":enabled")},this.cancelSiteListEdits),this.$dialog.find("#pin-site-btn").click($.proxy(this.pinSite,this)),this.$dialog.on("click",".remove-pinned-site-link",function(){return $(this).parent().remove(),$("#save-pinned-sites-btn").enable(),$("#reset-pinned-sites").show(),!1}),this.$dialog.find("#save-pinned-sites-btn").click($.proxy(this.savePinnedSites,this)),this.$dialog.find("#reset-pinned-sites").click($.proxy(this.resetPinnedSites,this))),this.supr()
},"showOrHide":function(e){this.supr(e)},"pinSite":function(){$("#pin-site-btn").disable();var e=$("#js-site-search-txt").val(),t=$.grep(this.$pinnedSiteSearchItems,function(t){return t.sitename===e});if(!t.length)return $("#pin-site-btn").enable(),void 0;var n=t[0],r=$(".pinned-site-link").map(function(e,t){return $(t).data("id")}).toArray();if(r.indexOf(n.siteid)>-1)return $("#pin-site-btn").enable(),void 0;var i=this;$.ajax({"type":"GET","url":"/topbar/site-switcher/pin-site","data":{"siteId":n.siteid},"dataType":"html"}).done(function(e){var t=$(e);t.hide(),$(".pinned-site-list").append(t),t.fadeIn("slow"),$("#js-site-search-txt").val(""),$("#save-pinned-sites-btn").enable(),i.toggleSiteListResetLink(!0)}).fail(function(){$("#pin-site-btn").parent().showErrorMessage("Something bad happened; please try again"),$("#pin-site-btn").enable()})},"savePinnedSites":function(){var e=$(".pinned-site-list li .pinned-site-link").map(function(e,t){return $(t).data("id")}).toArray(),t=!$("#reset-pinned-sites").is(":visible")||!e.length;this.toggleSiteListResetLink(!t);var n=$("#reset-pinned-sites").siblings("input[name=fkey]").val();return $.ajax({"type":"POST","url":"/topbar/site-switcher/save-pinned-sites","data":{"siteIds":t?[]:e,"fkey":n||StackExchange.options.user.fkey},"dataType":"html","traditional":!0}).done($.proxy(function(e){$(".my-sites").html(e),this.cancelSiteListEdits(!1),$(".pinned-site-list").data("custom-list",!t),StackExchange.using("gps",function(){StackExchange.gps.track("site_switcher.edit",{})})},this)).fail(function(){$("#save-pinned-sites-btn").parent().showErrorMessage("Something bad happened; please try again")}),!1},"resetPinnedSites":function(){var e=this;return $.ajax({"type":"GET","url":"/topbar/site-switcher/default-active-sites","dataType":"html"}).done(function(t){$(".pinned-site-list").html(t),$("#save-pinned-sites-btn").enable(),e.toggleSiteListResetLink(!1)}).error(function(){$("#reset-pinned-sites").parent().showErrorMessage("Something bad happened; please try again")}),!1},"doSearch":function(e,t,n){var r;t=t.toLowerCase();var i=[];return $.each(e,function(e,n){var r={"index":e,"li":n.li,"item":n},o=n.title.indexOf(t);n.title==t?r.priority=1:0==o?r.priority=2:o>-1?r.priority=3:n.description.indexOf(t)>-1?r.priority=4:n.hostname.indexOf(t)>-1&&(r.priority=5),r.priority&&i.push(r)}),r=i.sort(function(e,t){return e.priority-t.priority||e.index-t.index}),n&&StackExchange.using("gps",function(){StackExchange.gps.track("sitesearch.submit",{"term":t,"numresults":i.length},!1)}),r},"_findSitesToPin":function(e){var t=$(".js-found-sites"),n=this.$pinnedSiteSearchItems;if(t.empty(),""===e)return t.hide(),$("#pin-site-btn").disable(),void 0;if(n=this.doSearch(n,e,!1),n.length){t.show(),$("#pin-site-btn").enable();var r=$(".pinned-site-link").map(function(e,t){return $(t).data("id")}).toArray();$.each(n,function(e,n){var i=$('<li class="pinned-site-candidate">'+n.item.sitename+"</li>");r.indexOf(n.item.siteid)>-1?i.addClass("already-pinned-site"):i.click(function(){var e=$(this).text();return $("#js-site-search-txt").val(e),$(".js-found-sites").hide(),!1}),i.appendTo(t)})}},"findSitesToPin":function(e){if(this.$pinnedSiteSearchItems)return this._findSitesToPin(e),void 0;var t=this;$.ajax({"type":"GET","url":"/topbar/site-switcher/all-pinnable-sites","dataType":"json"}).done(function(n){t.$pinnedSiteSearchItems=n,t._findSitesToPin(e)})},"filterSites":function(e){var t=$(".js-other-sites"),n=this.$searchItems;t.empty(),""!=e&&(n=this.doSearch(n,e,!0)),t.append(n.map(function(e){return this&&this.li||e.li}))},"editPinnedSites":function(){$(".siteSwitcher-dialog .header").not("#your-communities-header").css("opacity",.2),$(".siteSwitcher-dialog .modal-content").not("#your-communities-section").css("opacity",.2),$(".my-sites").hide(),$(".pinned-site-editor-container").show(),$("#edit-pinned-sites").hide(),$("#cancel-pinned-sites").show();var e=$(".pinned-site-list");if(""===e.html().trim()){var t=$("<div/>").append(StackExchange.helpers.getSpinnerImg()).html();e.append('<li style="text-align:center;">'+t+"</li>"),$.ajax({"type":"GET","url":"/topbar/site-switcher/current-pinned-sites","dataType":"html"}).done(function(t){e.html(t)}).fail(function(){e.showErrorMessage("Something bad happened; please try again")}).always(function(){e.find(".ajax-loader").remove()})}this.toggleSiteListResetLink("true"===e.data("custom-list").toString().toLowerCase());var n=$(".sortable"),r=this;return n.data("isSortable")||StackExchange.loadJqueryUi().done(function(){n.sortable({"axis":"y","update":function(){$("#save-pinned-sites-btn").enable(),r.toggleSiteListResetLink(!0)}}).disableSelection().data("isSortable",!0)}),!1},"toggleSiteListResetLink":function(e){$("#reset-pinned-sites").toggle(e)},"cancelSiteListEdits":function(e){return $(".header").not("#your-communities-header").css("opacity",1),$(".modal-content").not("#your-communities-section").css("opacity",1),$(".my-sites").show(),$("#edit-pinned-sites").show(),$(".pinned-site-editor-container").hide(),$("#cancel-pinned-sites").hide(),$("#save-pinned-sites-btn").disable(),e&&($(".pinned-site-list").empty(),$(".js-found-sites").hide(),$("#js-site-search-txt").val(""),$("#pin-site-btn").disable()),!1}}),g=p.extend({"name":"SiteSwitcher","selector":".js-site-switcher-button","dialog":new h,"showsOnMouseOver":!1,"onClass":"icon-site-switcher-on"}),m=f.extend({"cssClass":"feature-notice-dialog","alignment":"left"}).methods({"loadDialog":function(){this.$dialog=$(".js-feature-notice-dialog").appendTo(f.$corral);var e=this.button,t=e.$button;this.$dialog.find(".js-close-button").click(function(){return e.mark(4),t.hide(),e.toggle(!1),_(),!1}),this.$dialog.find(".js-cta-button").click(function(){return e.didClickCTA=!0,e.mark(2),!0}),this.showOrHide(!0)}}),v=p.extend({"name":"FeatureNotice","selector":".-feature-notice","dialog":new m}).methods({"initialize":function(){p.prototype.initialize.apply(this,arguments);var t=this.$button;e(t,function(e){return e?"!"==e.substring(0,1)?"!"+(1+parseInt(e.substring(1))):null:"!1"}),t.data("autopopup")&&this.toggle(!0,!1,!0)},"mark":function(t){e(this.$button,function(e){if(e){var n=e.split(";");if(2==n.length&&!isNaN(n[0])&&!isNaN(n[1]))return(n[0]|t)+";"+n[1]}return t+";"+Date.now()})},"markAsRead":function(){this.didClickCTA&&p.prototype.markAsRead.apply(this,arguments)},"toggle":function(e,t,n){e="boolean"==typeof e?e:!this.$button.hasClass(this.onClass),n=!!n,p.prototype.toggle.apply(this,arguments);{var r=this.$button;this.dialog.$dialog}e&&(this.mark(1),n||this.mark(8),r.hasClass("js-sample")&&StackExchange.using("gps",function(){StackExchange.gps.track("new_feature.show",{"campaign":r.data("campaign"),"location":r.data("location"),"auto_popup":n})}))}}),b=f.extend({"url":"/topbar/inbox","cssClass":"inbox-dialog"}),y=p.extend({"name":"Inbox","selector":".js-inbox-button","dialog":new b,"showsOnMouseOver":!1}).methods({"handleRealtimeMessage":function(e){this.setUnreadCount(e.UnreadInboxCount)}}),k=f.extend({"url":"/topbar/achievements","cssClass":"achievements-dialog"}).methods({"afterLoad":function(){this.alignRep(),this.bindDateGroupToggles(),this.displayUtcTime(),this.bindGpsTracker(),this.supr()},"alignRep":function(){var e=this.$dialog.find(".js-items .js-faux-column"),t=0;e.filter(".js-rep-change").each(function(){var e=$.trim($(this).text()).length;e>t&&(t=e)}),t>0&&e.width(6*(t+1))},"bindDateGroupToggles":function(){this.$dialog.find(".js-date-group-toggle").click(function(){var e=$(this),t=e.closest(".js-date-group"),n=t.find(".js-items"),r=t.find(".rep-site-container");e.find(".date-group-toggle").toggleClass("toggle-hidden"),n.add(r).fadeToggle("fast")}),this.$dialog.find(".rep-site-container").on("click",function(e){e.stopImmediatePropagation()})},"displayUtcTime":function(){var e=this.$dialog,t=function(){var t=new Date;t.setTime(t.getTime()+1e3*StackExchange.options.serverTimeOffsetSec);var n=t.getUTCHours(),r=t.getUTCMinutes();10>n&&(n="0"+n),10>r&&(r="0"+r),e.find(".js-utc-time").text(n+":"+r)};t(),setInterval(t,6e4)},"bindGpsTracker":function(){var e=$("#js-gps-container.js-empty-achiev");e.find("a:first").addClass("js-gps-track").data("gps-track","achievements_popup.click({ item_type:6 })"),e.find("a:last").addClass("js-gps-track").data("gps-track","achievements_popup.click({ item_type:7 })"),StackExchange.gps.bindTrackClicks(e)}}),w=p.extend({"name":"Achievements","selector":".js-achievements-button","dialog":new k,"unreadCountPrefix":"+","showsOnMouseOver":!1}).methods({"handleRealtimeMessage":function(e){var t=e.UnreadNonRepCount>0,n=0===(e.UnreadRepCount||0),r=n&&t;r?this.addUnreadClass():this.setUnreadCount(e.UnreadRepCount,t)}}),x=f.extend({"cssClass":"help-dialog"}).methods({"loadDialog":function(){this.$dialog=$(".js-help-dialog").appendTo(f.$corral),this.showOrHide(!0)}}),S=p.extend({"name":"Help","selector":".js-help-button","dialog":new x}),C=f.extend({"cssClass":"network-logo-dialog","alignment":"left"}).methods({"loadDialog":function(){this.$dialog=$(".js-network-logo-dialog").appendTo(f.$corral),this.showOrHide(!0);var e=this.button;this.$dialog.find(".js-close-button").click(function(){return e.toggle(!1),!1})}}),E=p.extend({"name":"NetworkLogo","selector":".js-network-logo","dialog":new C}),j=f.extend({"url":"/topbar/review","cssClass":"review-dialog"}),T=p.extend({"name":"Review","selector":".js-review-button","dialog":new j}),O=f.extend({"url":"/topbar/mod-inbox","cssClass":"modInbox-dialog"}).methods({}),A=p.extend({"name":"ModInbox","selector":".js-mod-inbox-button","dialog":new O}),P=f.extend({"cssClass":"js-leftnav-dialog","alignment":"left"}).methods({"loadDialog":function(){this.$dialog=$(".js-leftnav-dialog"),this.showOrHide(!0);var e=this;StackExchange.responsive&&StackExchange.responsive.addBreakpointListener(function(t,n){$("html").hasClass("html__unpinned-leftnav")||"sm"===n&&e.button.toggle(!1)})}}),I=p.extend({"name":"LeftNav","selector":".js-left-sidebar-toggle","dialog":new P});o.prototype={"query":function(e){return 0===arguments.length?this.$searchBox.val().trim():(this.$searchBox.val(e),void 0)},"hasResults":function(){return this.$resultsDiv[0].childElementCount>0},"hideResults":function(){this.showResults("")},"showResults":function(e){this.$resultsDiv.html(e).toggleClass("d-none",0===$.trim(e).length)},"suggest":function(){var e=this,t=e.query();if(""===t)return e.hideResults(),void 0;var n=e.resultsCache[t];if(void 0!==n)e.showResults(n);else{var r=new URL("/search/ac?q="+encodeURIComponent(t),location.href);$.get(r.href).done(function(n){e.resultsCache[t]=n,e.showResults(n)}).fail(function(e,t,n){StackExchange.debug.log("Autocomplete Error: "+n.toString())})}},"selected":function(e){if(0===arguments.length)return this.$resultsDiv.find("[data-selected]");if(e){if(e=$(e),!e.hasClass("ac-result"))return;e.siblings().removeAttr("data-selected"),e.attr("data-selected","true"),e.length>0&&this.query(e.attr("title"))}else this.$resultsDiv.children().removeAttr("data-selected")},"selectNext":function(){if(this.hasResults()){var e=this.selected();e.length>0?this.selected(e.next()):this.$resultsDiv.children().first().attr("data-selected","true")}},"selectPrev":function(){if(this.hasResults()){var e=this.selected();this.selected(e.prev())}},"onKeyDown":function(e){switch(e.key){case"ArrowDown":this.hasResults()?this.selectNext():this.query().length>0&&this.suggest(),e.preventDefault();break;case"ArrowUp":this.hasResults()&&this.selectPrev(),e.preventDefault();break;case"Enter":var t=this.selected().attr("data-question-id");this.selected()&&t&&(e.preventDefault(),location.href="/q/"+t);break;case"Escape":this.hideResults()}},"choose":function(e){e.stopPropagation();var t=$(e.target).closest(".ac-result"),n=t.attr("data-question-id");n?location.href="/q/"+n:(this.query(t.text()),this.hideResults(),this.$searchBox.focus().closes("form").find(".js-search-submit").click())}};var _=function(){},M=[],q=[];return{"init":function(e){e=e||{},window.devicePixelRatio>=1.5&&$(".js-avatar-me").attr("src",function(e,t){return t.replace("?s=24","?s=48")}),M.push(new g),M.push(new E),$(".js-left-sidebar-toggle").length&&M.push(new I),StackExchange.settings.userMessaging&&StackExchange.settings.userMessaging.showNewFeatureNotice&&M.push(new v),M.push(new y),M.push(new w),M.push(new S),M.push(new T),StackExchange.options.user.isModerator&&M.push(new A),$(document).click(function(e){n(e.target)||$.contains(f.$corral[0],e.target)||r()});var t=document.body.style;"justifyContent"in t||"WebkitJustifyContent"in t||$(".top-bar *:visible").css({"display":"inline-block","white-space":"nowrap","vertical-align":"middle"}).not(".-logo, .-logo *, svg, .-badges *").css("width","auto"),a(),s(),u(),l(),e.observeSize&&d()},"hideAll":r,"handleRealtimeMessage":i,"toggleUnpinnedLeftNav":c}}(),StackExchange.notify=function(){function e(e,t){var n=$("#dismissed-messages");n.val(n.val()+"~"+e+(t?" "+t:"")+"~")}function t(e,t){var n=$("#dismissed-messages").val();return n?new RegExp("~"+e+(t?" "+t:"")+"~").test(n):!1}function n(e,t,n){var r=parseInt($("body").css("margin-top").match(/\d+/)),i=t*r/e;n?$("body:not(.no-message-slide), body:not(.no-message-slide) .js-top-bar").animate({"marginTop":i+"px"},"fast","linear"):$("body:not(.no-message-slide), body:not(.no-message-slide) .js-top-bar").css("marginTop",i+"px")}var r=0,i=-1,o="m",a=function(t,o){var a=$("#notify-"+t+(o?"-"+o:""));a.length&&(t==i?c():t>i&&$.post("/messages/mark-as-read",{"messagetypeid":t,"id":o?o:null}),e(t,o),r--,a.fadeOut("fast",function(){n(r+1,r,!0),a.remove(),0===$("#notify-container div").length&&$("#notify-container").hide()}))},s=function(e){if(r++,t(e.messageTypeId,e.id))return!1;var n="";e.messageTypeId&&(n=' id="notify-'+e.messageTypeId+(e.id?"-"+e.id:"")+'"');var i="<div"+n+' style="display:none"><span class="notify-close">'+$("<a>&times;</a>").attr("title","dismiss this notification").outerHTML()+'</span><span class="notify-text">'+e.text+"</span>";if(e.showProfile){var o=encodeURIComponent("/users/"+e.userId+"?tab=badges&sort=recent");i+=" "+function(e){return'See your <a href="'+e.url+'">profile</a>.'}({"url":"/messages/mark-as-read?messagetypeid="+e.messageTypeId+"&returnurl="+o})}i+="</div>";var s=$(i);return e.cssClass&&s.addClass(e.cssClass),s.find(".notify-close").click(function(){e.close&&e.close(),a(e.messageTypeId,e.id)}),$("#notify-container").append(s),$("#notify-container").show(),!0},c=function(e){$.cookie(o,e?e:"0",{"expires":90,"path":"/"})},u=function(){$("#notify-container div").fadeIn("slow")},l=function(){$("body:not(.no-message-slide), body:not(.no-message-slide) .js-top-bar").animate({"marginTop":"2.5em"},"fast","linear")},d=function(e,t){var n=$('<div class="link-more">').append($("<a>").text(function(e){return 1==e.numNotifications?"view "+e.numNotifications+" more notification":"view "+e.numNotifications+" more notifications"}({"numNotifications":e})));$("#notify-container").append(n),n.click(function(){n.detach();for(var e=0;e<t.length;e++)s(t[e]);u()})};return{"showMessages":function(e,t){for(var i=0,o=r,a=t?2:e.length,c=0;a>c&&c<e.length;c++)s(e[c])&&i++;if(n(o,i,!1),u(),t&&i<e.length){var l=e.slice(a);d(e.length-i,l)}},"show":function(e,t,n){l(),s({"text":e,"messageTypeId":t,"cssClass":n}),u()},"close":a,"getMessageText":function(e){return $("#notify-"+e+" .notify-text").text()}}}();var styleCode=function(){function e(e){var t=$("#prettify-lang").text();return""!=t?(e.addClass(t),!0):!1}return function(){"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]),StackExchange.ifUsing("snippets",function(){StackExchange.snippets.redraw&&StackExchange.snippets.redraw()});var t=!1;if($("pre code").parent().each(function(){$(this).hasClass("prettyprint-override")&&($(this).removeClass("prettyprint-override").addClass("prettyprint"),t=!0),$(this).hasClass("prettyprint")||e($(this))&&($(this).addClass("prettyprint"),t=!0)}),t){if("undefined"!=typeof jtab)return jtab.renderimplicit(),void 0;StackExchange.using("prettify",function(){StackExchange.prettify.applyCodeStyling()})}$(".spoiler").click(function(){$(this).toggleClass("spoiler")})}}();styleCode.updateLangdivDelayed=StackExchange.helpers.DelayedReaction(function(e){var t=$("#prettify-lang");t.length&&$.get("/api/tags/langdiv",{"tags":e.join(" ")}).done(function(e){e?t.replaceWith(e):t.empty(),StackExchange.MarkdownEditor.refreshAllPreviews(),styleCode()})},1500,{"sliding":!0}),StackExchange.helpers.MagicPopup=function(e){function t(t,r){if($.contains(document.documentElement,t)&&(!e.predicate||e.predicate(t))){var o=$("<div />").attr("id",e.id).addClass(e.className).html(r),a=$(".lightbox, .lightbox-panel"),s=a.length>0?+a.css("z-index"):1e3,c=$("<div />").css({"position":"absolute","z-index":s+2,"width":1,"height":1,"top":0,"left":0});e.unclipped||c.css({"overflow":"hidden"}),c.append(o).appendTo("body"),window.MathJax&&MathJax.Hub.Typeset(o[0]);var u=e.showing(t,o),l={"left":u.left};u.hasOwnProperty("bottom")?(l.bottom=u.bottom,l.top="auto"):l.top=0|u.top;var d;e.shown&&(d=function(){e.shown(t,o)}),c.css(l);var f={"height":o.outerHeight()+8,"width":o.outerWidth()+8};e.fade?c.css(f).css("display","none").fadeIn(300,d):c.animate(f,300,d),n=function(){c.stop().remove(),e.removed&&e.removed(t,o),i=null,n=null},i=StackExchange.helpers.DelayedReaction(n,e.dismissDelay||5);var p=c;u.additional&&(p=p.add(u.additional)),p.hover(i.cancel,i.trigger)}}var n,r,i,o,a={},s=StackExchange.helpers.DelayedReaction(function(r,i){if(!o&&r){var s;e.cache&&"c_"+r in a?s=$.Deferred().resolve(a["c_"+r]):(s=$.ajax({"type":"GET","url":r,"dataType":"html"}),e.cache&&s.done(function(e){a["c_"+r]=e})),s.done(function(e){n&&n(),""!=e&&t(i,e)})}},500);$(document).delegate(e.selector,{"mouseenter":function(){return i&&this===r?(i.cancel(),void 0):(r=this,s.trigger(e.getUrl(this),this),o=!1,!1)},"mouseleave":function(){o=!0,s.cancel(),i&&i.trigger()}})},StackExchange.tagmenu=function(){function e(e){return function(n){var r=t(n);return null!==r?r+e:r}}function t(e){var t=$(e);if(t.closest(".mixed-site-content, .post-text, .js-tag-preferences-container").length)return null;var n=t.attr("href"),r=t.data("tag-menu-tagname");if(r&&(r=r.toString()),!(r||n&&"/"===n.charAt(0)))return null;var i=r||t.text();return i.indexOf("*")>-1?null:(t.attr("title",""),"/tags/"+encodeURIComponent(i))}function n(e,t){var n=$(e),r=$(window),i=t.find(".js-source-arrow"),o=$(".left-sidebar:visible"),a=n.offset(),s=n.outerHeight(),c=a.left+n.outerWidth()/2,u=t.outerWidth(),l={"left":c-u/2},d=a.top+s,f=r.scrollTop(),p=f+r.height()+-StackExchange.scrollPadding.getPaddingTop();t.outerHeight()+d>p&&a.top+8-t.outerHeight()>f?(l.bottom=r.height()-a.top-8,i.addClass("-bottom")):(l.top=d,i.addClass("-top"));var h=o.length?o.offset().left+o.outerWidth():0,g=r.width();a.left+u>g&&(l.left=g-u),l.left<h&&(l.left=h);var m=c-(l.left+u/2);return i.css("margin-left",m+"px"),l}var r=!1,i=function(){if(!r&&(r=!0,!StackExchange.options.isMobile)){var t={"selector":".post-tag:not(.user-tag,.no-tag-menu,.invalid-tag,.job-link)","className":"tag-popup","getUrl":e("/popup"),"showing":n,"fade":!0,"unclipped":!0};StackExchange.helpers.MagicPopup(t)}};return{"init":i}}(),StackExchange.usermenu=function(){function e(e,t){var n=$(e),r=n.find("img:last"),s=r.offset(),c=r.height(),u=r.width(),l=Math.max(u,c),d=64*c/l,f=64*u/l,p=t.find("img:first").css({"width":f,"height":d}),h=p.offset();p.css("visibility","hidden"),i=r.clone().css({"position":"absolute","zIndex":1003,"left":s.left,"top":s.top,"width":u,"height":c}).appendTo("body");var g=function(){return p[0].complete?(p.css("visibility","visible"),i.fadeOutAndRemove(),void 0):(setTimeout(g,100),void 0)},m=Math.max(0,s.left-h.left+t.outerWidth()-$(window).width()+8);i.animate({"width":f,"height":d,"top":s.top+h.top,"left":s.left-m},200,g),t.trigger("userhovershowing",e),o=!0;var v=t.find(".um-header-info a:not(.um-user-link), .um-about-me a, .um-links a").length>0;return StackExchange.gps.track("user_popup.show",{"is_own":a,"has_links":v}),setTimeout(function(){o&&StackExchange.gps.track("user_popup.read",{"is_own":a,"has_links":v})},2e3),t.on("click",".um-gravatar a, a.um-user-link",function(){StackExchange.gps.track("user_popup.click",{"clicked_link":0,"is_own":a})}),t.on("click",".um-header-info a:not(.um-user-link)",function(){StackExchange.gps.track("user_popup.click",{"clicked_link":1,"is_own":a})}),t.on("click",".um-about-me a",function(){StackExchange.gps.track("user_popup.click",{"clicked_link":2,"is_own":a})}),t.on("click",".um-links a",function(){StackExchange.gps.track("user_popup.click",{"clicked_link":3,"is_own":a})}),{"top":s.top,"left":s.left-h.left-m,"additional":i}}function t(e,t){t.trigger("userhovershown")}function n(e){$(e).trigger("userhoverremoved"),i.remove(),o=!1}var r,i,o,a,s=function(){function i(e){var t=$(e),n=t.closest(".user-hover"),r=n.find(".user-details a").attr("href"),i=new RegExp("/users/([^/]+).*$"),o=i.exec(r);return o?(a=StackExchange.options.user.isAnonymous?!1:(0|o[1])>0&&(0|o[1])==(0|StackExchange.options.user.userId),"/users/user-info/"+o[1]):null}r||(r=!0,StackExchange.options.isMobile||StackExchange.helpers.MagicPopup({"selector":".user-hover .user-gravatar48, .user-hover .user-gravatar32","predicate":function(e){return!$(e).closest(".mixed-site-content").length},"getUrl":i,"cache":!0,"id":"user-menu","showing":e,"shown":t,"removed":n}))};return{"init":s}}(),StackExchange.chatAd=function(){function e(e){if(/^\/questions\/\d+/i.test(window.location.pathname)&&(m=0),f=e.chatUrl,p=e.reloadUrl,e.tagBased){var n=t();if(!n)return;p&&(p+=(/\?/.test(p)?"&":"?")+"tags="+encodeURIComponent(n))}null===e.preloadedData?o():d(e.preloadedData,null,null)}function t(){var e=$(".question .post-taglist .post-tag");return e.length?e.map(function(e,t){return $(t).text()}).get().join(" "):null}function n(e){return 10>e?"0"+e:e}function r(e){var t=new Date;return t.setTime(1e3*e),[t.getUTCFullYear(),"-",n(t.getUTCMonth()+1),"-",n(t.getUTCDate())," ",n(t.getUTCHours()),":",n(t.getUTCMinutes()),":",n(t.getUTCSeconds()),"Z"].join("")}function i(e){var t=Math.floor((new Date).getTime()/1e3),r=t-e,i=r%60,o=Math.floor(r/60),a=Math.floor(r/3600);if(1>r)return"just now";if(60>r)return function(e){return 1==e.seconds?e.seconds+" sec ago":e.seconds+" secs ago"}({"seconds":i});if(3600>r)return function(e){return 1==e.minutes?e.minutes+" min ago":e.minutes+" mins ago"}({"minutes":o});if(86400>r)return function(e){return 1==e.hours?e.hours+" hour ago":e.hours+" hours ago"}({"hours":a});var s=Math.floor(r/86400);if(1==s)return"yesterday";if(2>=s)return function(e){return 1==e.__count?e.__count+" day ago":e.__count+" days ago"}({"__count":s});var c=new Date(1e3*e);return function(e){return e.month+" "+e.date+" at "+e.hours+":"+e.minutes}({"month":v[c.getMonth()],"date":c.getDate(),"hours":c.getHours(),"minutes":n(c.getMinutes())})}function o(){p&&$.get(p,null,d)}function a(e){if("!"===e.charAt(0)){var t=e.substr(1);if(/^https?:\/\/i.stack.imgur.com\//.test(t)){var n=/\?/.test(t)?"&":"?";t+=n+"g&s=32"}return t}return"https://www.gravatar.com/avatar/"+e+"?s=23&d=identicon&r=PG"}function s(e){for(var t=$('<div class="grid gs4 ai-center fw-wrap" />'),n=0;n<e.length&&7>n;n++){var r=e[n],o=r.name;r.lastPost&&(o+=": "+i(r.lastPost));var s=$('<img class="bar-sm">').attr({"title":o,"src":a(r.emailhash),"width":23,"height":23}),c=$('<a class="grid--cell">').attr("href",f+"/users/"+r.id).append(s);t.append(c)}return t}function c(e){return $('<div class="grid--cell"><img src="'+f+"/rooms/users/"+e+'.jpeg" /></div>')}function u(e){var t=e.user,n=e.userid;return n?$("<a>").attr("href",f+"/users/"+n).text(t):$("<span>").text(t)}function l(){p&&(m>=h&&window.setTimeout(o,1e3*h),h+=g)}function d(e){var t=$(".js-chat-ad-rooms");if(e.error)return l(),void 0;t.empty();for(var n=e.rooms,o=0;o<n.length&&2>o;o++){var a=n[o],d=f+"/rooms/"+a.id,p=(a.messages||[]).length>0?a.messages[0]:null,h=$('<div class="grid fd-column gs2" />');$('<a class="grid--cell" />').attr("href",d).text(a.name).appendTo(h),p&&$('<div class="grid--cell fs-fine fc-black-300 mb4" />').attr("title",r(a.lastPost)).html(i(a.lastPost)+" - ").append(u(p)).appendTo(h),a.singleImage?h.append(c(a.id)):h.append(s(a.users)),t.append($('<div class="s-sidebarwidget--item" />').append(h))}t.toggleClass("d-none",0===n.length);var g=$(".js-chat-ad-link");e.activeUsers>1?g.text(function(e){return 1==e.num,e.num+" people chatting"}({"num":e.activeUsers})):g.text("Visit chat"),g.attr("title",function(e){return 1==e.users&&1==e.rooms?e.users+" user active in "+e.rooms+" room the last 60 minutes":1==e.users?e.users+" user active in "+e.rooms+" rooms the last 60 minutes":1==e.rooms?e.users+" users active in "+e.rooms+" room the last 60 minutes":e.users+" users active in "+e.rooms+" rooms the last 60 minutes"}({"users":e.activeUsers,"rooms":e.activeRooms})),l()}var f,p,h=180,g=30,m=480,v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return{"init":e}}(),$.extend(StackExchange.helpers,function(){function e(e){for(var t in r)r.hasOwnProperty(t)&&(e=e.replace(new RegExp("["+t+"]","g"),r[t]));return e}function t(e){if(e=$.trim(e),/^\|.*\|$/.test(e))return"|";var t=StackExchange.settings.tags.allowNonAsciiTags?i:"";return!/\s/.test(e)&&RegExp("[A-Za-z"+t+"0-9#\\-.*]\\+[A-za-z"+t+"0-9#\\-.]").test(e)?"+":/[\s|,;]+/}function n(e,t,n,r){for(var o=$.trim(e).split(StackExchange.helpers.tagSeparator(e)),a=[],s=0;s<o.length;s++){var c=o[s];r||(c=c.toLowerCase()),StackExchange.settings.tags.allowNonAsciiTags||(c=StackExchange.helpers.noDiacritics(c)),c=c.replace(/_/g,"-");var u=(r?"[^A-Za-z0-9.#+":"[^a-z0-9.#+")+(t?"*":"")+(StackExchange.settings.tags.allowNonAsciiTags?i:"")+"-]";c=c.replace(new RegExp(u,"g"),""),c=c.replace(/^[#+-]+/,""),c=c.replace(/[.-]+$/,"");var l=["or","and","not"],d=-1!==l.indexOf(c),f=-1!==a.indexOf(c);c.length>0&&(!d&&!f||n)&&a.push(c)}return a}var r={"":"a","":"ae","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"oe","":"r","":"s","":"ss","":"t","":"th","":"u","":"v","":"w","":"y","":"z"},i="\\u0030-\\u0039\\u0041-\\u005a\\u005f\\u0061-\\u007a\\u00aa\\u00b5\\u00ba\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376-\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0621-\\u064a\\u0660-\\u0669\\u066e-\\u066f\\u0671-\\u06d3\\u06d5\\u06e5-\\u06e6\\u06ee-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07c0-\\u07ea\\u07f4-\\u07f5\\u07fa\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0966-\\u096f\\u0971-\\u0972\\u097b-\\u097f\\u0985-\\u098c\\u098f-\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc-\\u09dd\\u09df-\\u09e1\\u09e6-\\u09f1\\u0a05-\\u0a0a\\u0a0f-\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32-\\u0a33\\u0a35-\\u0a36\\u0a38-\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a66-\\u0a6f\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2-\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0-\\u0ae1\\u0ae6-\\u0aef\\u0b05-\\u0b0c\\u0b0f-\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32-\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c-\\u0b5d\\u0b5f-\\u0b61\\u0b66-\\u0b6f\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99-\\u0b9a\\u0b9c\\u0b9e-\\u0b9f\\u0ba3-\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0be6-\\u0bef\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58-\\u0c59\\u0c60-\\u0c61\\u0c66-\\u0c6f\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0-\\u0ce1\\u0ce6-\\u0cef\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d28\\u0d2a-\\u0d39\\u0d3d\\u0d60-\\u0d61\\u0d66-\\u0d6f\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32-\\u0e33\\u0e40-\\u0e46\\u0e50-\\u0e59\\u0e81-\\u0e82\\u0e84\\u0e87-\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa-\\u0eab\\u0ead-\\u0eb0\\u0eb2-\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0ed0-\\u0ed9\\u0edc-\\u0edd\\u0f00\\u0f20-\\u0f29\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8b\\u1000-\\u102a\\u103f-\\u1049\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065-\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u1090-\\u1099\\u10a0-\\u10c5\\u10d0-\\u10fa\\u10fc\\u1100-\\u1159\\u115f-\\u11a2\\u11a8-\\u11f9\\u1200-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u1676\\u1681-\\u169a\\u16a0-\\u16ea\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u17e0-\\u17e9\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u1900-\\u191c\\u1946-\\u196d\\u1970-\\u1974\\u1980-\\u19a9\\u19c1-\\u19c7\\u19d0-\\u19d9\\u1a00-\\u1a16\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b50-\\u1b59\\u1b83-\\u1ba0\\u1bae-\\u1bb9\\u1c00-\\u1c23\\u1c40-\\u1c49\\u1c4d-\\u1c7d\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u203f-\\u2040\\u2054\\u2071\\u207f\\u2090-\\u2094\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2183-\\u2184\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2c6f\\u2c71-\\u2c7d\\u2c80-\\u2ce4\\u2d00-\\u2d25\\u2d30-\\u2d65\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3006\\u3031-\\u3035\\u303b-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31b7\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fc3\\ua000-\\ua48c\\ua500-\\ua60c\\ua610-\\ua62b\\ua640-\\ua65f\\ua662-\\ua66e\\ua67f-\\ua697\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78c\\ua7fb-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8d0-\\ua8d9\\ua900-\\ua925\\ua930-\\ua946\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa50-\\uaa59\\uac00-\\ud7a3\\uf900-\\ufa2d\\ufa30-\\ufa6a\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe33-\\ufe34\\ufe4d-\\ufe4f\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff10-\\uff19\\uff21-\\uff3a\\uff3f\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc";return{"noDiacritics":e,"tagSeparator":t,"sanitizeAndSplitTags":n}}()),StackExchange.question=function(){function e(){$(".js-answer-help").removeClass("d-none").attr("aria-hidden","false")}function t(e){e.preventDefault(),$(".js-answer-help").addClass("d-none").attr("aria-hidden","true")}function n(){$("#qualityBanWarningShown").val("true"),$(".js-answer-ban").removeClass("d-none").attr("aria-hidden","false")}function r(e){e.preventDefault(),$(".js-answer-ban").addClass("d-none").attr("aria-hidden","true")}function i(){var e="hashchange.highlightDestination";$(window).off(e).on(e,function(){var e=window.location.href;if(!(e.indexOf("#")<0)){var t=decodeURI(e).match(/#(\d+|comment(\d+)_(\d+))/i);t&&(t[2]?p(t[2],t[3]):f(t[1]))}}).trigger(e)}var o,a,s,c=function(e,t){return e?function(e){return"share link to this question on "+e.socialNetwork}({"socialNetwork":t}):function(e){return"share link to this answer on "+e.socialNetwork}({"socialNetwork":t})},u=function(e,t,n,r,i,o){return $("<a>",{"id":"share-"+r+"-"+e,"class":"share-"+r,"title":c(t,n),"text":i,"data-svc":o})
},l=function(e){var t=null!=e;e||(e=$("div.question div.post-menu a.short-link"));var n=e.closest(".post-menu, .help-menu");if(e.hasClass("share-link"))n.find(".close-share-tip").click();else{e.addClass("share-link");var r=e.attr("id").substring("link-post-".length),i=e.closest("div.question").length,o=!e.closest(".col-section").length&&!i,a=StackExchange.options.site.protocol||"http",s=a+"://"+document.location.host+e.attr("href"),c=$("#question-header a.question-hyperlink").text(),l=o?function(e){return"Answer: "+e.title}({"title":c}):c,d=StackExchange.options.user&&StackExchange.options.user.userId&&StackExchange.options.user.userId>0,f='<div class="share-tip" style="display:none">'+(i?d?"share a link to this question (includes your user id)":"share a link to this question":d?"share a link to this answer (includes your user id)":"share a link to this answer")+'<input type="text" style="display:block; width:292px;" value="'+s+'">';StackExchange.options.site.enableSocialMediaInSharePopup&&(f+=$("<div>",{"id":"share-icons"}).append(u(r,i,"Facebook","fb","share [fb]",2)).append(u(r,i,"Twitter","tw","share [tw]",3)).prop("outerHTML")),StackExchange.gps.track("share.show",{"location":i?1:2}),f+='<a class="close-share-tip" style="float:right">close</a></div>';var p=$(f);if(StackExchange.options.site.enableSocialMediaInSharePopup){var h="2";StackExchange.share.facebook($("#share-fb-"+r,p),s,l,h),StackExchange.share.twitter($("#share-tw-"+r,p),s,l,h),$("#share-icons a",p).click(function(){p.fadeOutAndRemove(),StackExchange.gps.track("share.click",{"location":i?1:2,"service":$(this).data("svc")})})}p.appendTo(n).fadeIn(t?"fast":0).bind("removing",function(){e.removeClass("share-link")}).find(".close-share-tip").click(function(){p.fadeOutAndRemove()}).end().find("input[type=text]").select()}},d=function(e){var t=e?e.closest(".question"):$(".question"),n=t.data("questionid");if(!n)throw new Error("getQuestionId could not find an id");return n},f=function(e){h($(".answer[data-answerid="+e+"]"))},p=function(e,t){var n="#comment-"+e,r=$(n);if(r.length)StackExchange.comments.flashHighlight(r),r[0].scrollIntoView(!0);else{var i=$("#comments-link-"+t);i.length&&StackExchange.comments.loadAll(i).done(function(){StackExchange.comments.flashHighlight(e),($(n)[0]||i.closest(".question, .answer")[0]).scrollIntoView(!0)})}},h=function(e){var t=s;e.css({"backgroundColor":o}).animate({"backgroundColor":t},2e3,"linear",function(){$(this).css("background-color","")})},g=function(e){e=e||{},$(document).on("click",".post-menu a.short-link",function(t){return t.ctrlKey||t.metaKey?void 0:(l($(this),e.showCitation),!1)}).on("click",".bottom-share-links a",function(){var e=$(this).attr("href"),t=null;e&&e.length&&(e.indexOf("%3fsgp%3d")>=0?t=1:e.indexOf("%3fsfb%3d")>=0?t=2:e.indexOf("%3fstw%3d")>=0?t=3:e.indexOf("%3fsem%3d")>=0&&(t=4)),t&&StackExchange.gps.track("share.click",{"location":3,"service":t},!0)});var t=$(".bottom-notice");t&&t.length&&!t.data("bn")&&t.data("loc")&&(t.data("bn","bn"),t.on("click","a",function(){var e=0,n=t.data("loc"),r=$(this).attr("href");$(this).hasClass("post-tag")?e=1:/\/ask$/.test(r)?e=2:/\/tags$/.test(r)?e=4:/\/unanswered$/.test(r)?e=5:(/\/questions$/.test(r)||/\/questions[?\/]/.test(r))&&(e=3),StackExchange.gps.track("next_action.click",{"type":e,"location":n},!0)}))},m=function(e,t,n){var r,i,o=document.title,a=n.searchRouteOverride||"/search/titles",s=n.onResults||function(){},c=0;e.attr("autocomplete","off");var u=function(u){var l=e.val();if(!(""==l||l==r&&u!==!0||StackExchange.settings.site.newTitleSearchBoxEnabled&&$(".title-float-selected:visible").length>0)){for(var d=l.split(" "),f=0,p=0;p<d.length;p++)$.trim(d[p]).length>0&&f++;var h=(new Date).getTime(),g=(h-c)/1e3;(u===!0||!(3>f||5>g)||e.hasClass("edit-field-overlayed"))&&(c=h,r=l,n.siteName&&(document.title=l?l+" - "+n.siteName:o),$(".js-similar-questions-loader").length?(t.empty(),StackExchange.helpers.addStacksSpinner(t,"lg","fc-orange-400 ml16 mt12")):(t.empty(),StackExchange.helpers.addSpinner(t)),i&&i.fadeOutAndRemove(),$.ajax({"url":a,"dataType":"json","data":{"title":l,"similarQuestionsBreakout":n.similarQuestionsBreakout},"success":function(e){e&&e.content?(t.html(e.content),setTimeout(function(){s(t.find(".answer-link a").attr("target","_blank"))},1),$(".js-link").attr("target","_blank"),$(".js-similar-questions-outer-div").length&&($(".js-similar-questions-outer-div").removeClass("d-none"),$(".js-question-summary-scroll").one("scroll",function(){StackExchange.using("gps",function(){StackExchange.gps.track("similarquestions.title_scroll")})}))):s(null)},"complete":function(e){e.responseJSON.content.length>0&&StackExchange.helpers.removeSpinner(t)}}))}},l=!1;return t.mouseenter(function(){l=!0}).mouseleave(function(){l=!1}),e.keyup(u).blur(function(){var e=function(){c=0,u()};l?t.one("mouseleave",e):e()}),function(e){c=0,u(e)}},v=function(){try{localStorage.removeItem("nextPrevTrackState"),localStorage.removeItem("nextPrevTrackState2"),localStorage.removeItem("nextPrevState")}catch(e){}},b=function(){var e,t;$(document).on({"mouseenter":function(){var n=$(this),r=n.find(".js-new-contributor-label"),i=n.find(".js-new-contributor-popover");t&&this===e?t.cancel():(i.addClass("is-visible").css({"top":n.height()+4,"left":r.position().left+r.width()/2-n.width()/2,"width":n.width()}),e=this,t=StackExchange.helpers.DelayedReaction(function(){i.removeClass("is-visible"),t=null},100))},"mouseleave":function(){t&&t.trigger()}},".js-new-contributor-indicator")},y=function(){var e=window.location.hash.replace("#","").toLowerCase();if(e){var t=e.split("_"),n=t[0],r=t[1],i=!0;switch(n){case"answer":StackExchange.using("editor",function(){var e=$("#wmd-input");e.is(":visible")?e.focus():window.setTimeout(function(){$(".js-add-another-answer").click()},10)});break;case"addcomment":r&&$("#comments-link-"+r).find(".js-add-link").click();break;case"notify":$(".js-inline-mentions-edit-link").click();break;default:i=!1}i&&window.history.replaceState(null,null,window.location.href.split("#")[0])}};return{"initTitleSearch":m,"showShareTip":l,"getQuestionId":d,"initShareLinks":g,"canViewVoteCounts":function(){return a},"init":function(c){a=c.canViewVoteCounts,StackExchange.question.fullInit?StackExchange.question.fullInit(c):StackExchange.question.bindAnonymousVoteDisclaimers(),StackExchange.comments.init({"autoShowCommentHelp":c.autoShowCommentHelp,"commentHighlightFocus":c.commentHighlightFocus}),g(c),c.showAnswerBanWarning&&$("#wmd-input").one("focus",n),$(".js-answer-ban-close-btn").on("click",r),c.showAnswerHelp&&!c.showAnswerBanWarning&&$("#wmd-input").one("focus",e),$(".js-answer-help-close-btn").on("click",t),c.focusPostEditor&&($("#wmd-input").focus(),$("#post-form")[0].scrollIntoView(!0)),c.showCitation&&$(document).on("click","div .cite-link",function(){var e=$(this).closest(".post-menu");e.find(".close-share-tip").click(),citation.show($(this))}),s=c.backgroundColor,o=c.highlightColor,i(),v(),b(),window.setTimeout(y,0)}}}(),StackExchange.question.bindAnonymousVoteDisclaimers=function(){function e(e){var t=$(this),n=t.closest(".js-voting-container"),r=t.hasClass("js-vote-up-btn"),i=t.hasClass("js-vote-down-btn"),o=t.hasClass("js-favorite-btn"),a=t.closest(".answer").length;if(e.preventDefault(),r||i){if(StackExchange.options.inReadOnly)return n.showErrorMessage("Voting isn't available in read-only mode.",{"transient":!0}),void 0;var s=n.data("post-id");if(StackExchange.options.isMobile){StackExchange.helpers.fireAndForget("/posts/popup/anon-vote/"+s+"?voteTypeId="+(r?2:3));var c="Thank you for your feedback.<br />"+(a?function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to vote for this answer."}({"startAnchor":'<a href="/users/login?returnurl='+escape(document.location)+'">',"endAnchor":"</a>"}):function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to vote for this question."}({"startAnchor":'<a href="/users/login?returnurl='+escape(document.location)+'">',"endAnchor":"</a>"}));StackExchange.helpers.showMessage(t,c,{"type":"info","position":{"my":"left top","at":"right center"},"css":{"margin-left":"-10px"}})}else{var u="anon-vote-popup-"+s;if(n.is(":working")||$("."+u).length)return;n.data("working",!0),$(".anon-vote-popup").fadeOutAndRemove(),StackExchange.helpers.removeMessages();var l=$('<div class="anon-vote-popup vote-popup popup">'+function(e){return"Sending feedback"+e.nbsp}({"nbsp":"&nbsp;"})+"</div>").addClass(u).addSpinner();l.appendTo("body").center().fadeIn("fast"),StackExchange.using("gps",function(){StackExchange.gps.track("vote_popup.show",{"type":a?2:1})}),$.ajax({"type":"POST","url":"/posts/popup/anon-vote/"+s+"?voteTypeId="+(r?2:3),"dataType":"html","success":function(e){l.html(e).attr("data-controller","se-draggable")},"error":function(){l.remove()},"complete":function(){n.data("working",!1)}})}}else if(o){if(StackExchange.options.inReadOnly)return n.showErrorMessage("Favoriting isn't available in read-only mode.",{"transient":!0}),void 0;$(".anon-vote-popup").fadeOutAndRemove();var c=a?function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to favorite this answer."}({"startAnchor":'<a href="/users/login?ssrc=fav_answer&returnurl='+escape(document.location)+'">',"endAnchor":"</a>"}):function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to favorite this question."}({"startAnchor":'<a href="/users/login?ssrc=fav_question&returnurl='+escape(document.location)+'">',"endAnchor":"</a>"});StackExchange.using("gps",function(){StackExchange.gps.track("favorite_popup.show",{})}),StackExchange.helpers.showMessage(t,c,{"type":"info","position":{"my":"left top","at":"right center"},"css":{"margin-left":"-10px"}})}}$(".js-vote-down-btn, .js-vote-up-btn, .js-favorite-btn:not(.disabled)").each(function(){var t=$(this);t.data("bound-anonymous")||(t.data("bound-anonymous",!0),t.click(e))}),StackExchange.question.bindFetchAcceptedAnswerDates()},StackExchange.question.bindFetchAcceptedAnswerDates=function(){$(".js-accepted-answer-indicator").on("mouseenter mouseleave focus",function(){var e=$(this);if(!e.is(":working")){e.working(!0);var t=e.closest(".answer").data("answerid");if(!t)return e.attr("title",""),void 0;var n="/posts/"+t+"/accepted-answer-date";$.get(n,function(t){e.attr("title",t)})}})},StackExchange.comments=function(){function e(e,t,n){this.postId=e,this.jPost=t.closest(".question, .answer, div[id^='post-']"),this.jDiv=t,this.jCommentsList=t.find(".js-comments-list"),this.jCommentsLinkContainer=$("#comments-link-"+e),this.context=n}function t(e){"string"==typeof e&&(e=$("#comment-"+e)),e.addClass("comment__highlight"),setTimeout(function(){e.removeClass("comment__highlight new_comment")},0)}function n(e){var t=$("#comments-"+e);if(t.length){var n=r(t),i=n.jCommentsLinkContainer,o=(n.jCommentsList,n.remainingCommentsCount());o++,i.data("comments-count",o),i.attr("title","expand to show all comments on this post, or add one of your own"),n.setCommentsMenu(o),i.removeClass("disabled-link"),n.remainingCommentsCount(o),i.show().fadeTo("fast",.7).fadeTo("fast",1)}}function r(t){var n=t.constructor===$?t:$(t),r=n.closest(".js-comments-container");0===r.length&&(r=n.closest(".question, .answer, div[id^='post-']").find(".js-comments-container"));var i=r.data("post-id"),o=r.data("comment-context")||"none",a=i+"-"+o;if(d[a])return d[a];var s=new e(i,r,o);return d[a]=s,s}function i(e){return 0===window.location.pathname.indexOf("/review")?0:e.closest(".question").length?1:e.closest(".answer").length?2:0}function o(e){var t=$(this),n=r(t),o=0===n.remainingCommentsCount(),s=t.hasClass("disabled-link"),c=n.jCommentsLinkContainer.data("rep");o&&n.jCommentsLinkContainer.data("anon")&&(StackExchange.options.isMobile?StackExchange.helpers.showMessage(n.jCommentsLinkContainer,function(e){return 1==e.rep,"Commenting requires an account with "+e.rep+" reputation"}({"rep":c}),{"type":"info","position":{"my":"left top","at":"right center"},"relativeToBody":!0}):a(n.jCommentsLinkContainer.attr("id").replace("comments-link-",""),i(t))),o&&n.jCommentsLinkContainer.data("reg")&&StackExchange.helpers.showMessage(t,function(e){return 1==e.rep,"You must have "+e.linkStart+e.rep+" reputation"+e.linkEnd+" to comment"}({"rep":c,"linkStart":"<a href='/help/privileges/comment'>","linkEnd":"</a>"}),{"type":"info","position":{"my":"left top","at":"right center"},"relativeToBody":!0}),t.hasClass("js-show-link")&&StackExchange.using("gps",function(){StackExchange.gps.track("comment.show")});var u=!1;if(t.hasClass("js-add-link")){u=!0;var l="other";n.jPost.hasClass("question")?l="question":n.jPost.hasClass("answer")&&(l="answer");var d=o?"all_shown":"hidden";StackExchange.using("gps",function(){StackExchange.gps.track("comment.add",{"location":l,"type":d})})}s||(e.preventDefault(),n.addShow(!1,u))}function a(e,t){var n="anon-vote-popup-"+e;if(!$("."+n).length){$(".anon-vote-popup").fadeOutAndRemove(),StackExchange.helpers.removeMessages();var r=$('<div class="anon-vote-popup comment-popup popup">'+function(e){return"Loading"+e.nbsp}({"nbsp":"&nbsp;"})+"</div>").addClass(n).addSpinner();r.appendTo("body").center().fadeIn("fast"),StackExchange.using("gps",function(){StackExchange.gps.track("comment_popup.show",{"type":t})}),$.ajax({"type":"POST","url":"/posts/popup/anon-comment/"+e,"dataType":"html","success":function(e){r.html(e).attr("data-controller","se-draggable")},"error":function(){r.remove()}})}}function s(e){var t=e&&e.post||document;d={},$(t).off("click","a.js-add-link",o).on("click","a.js-add-link",o),$(t).off("click","a.js-show-link",o).on("click","a.js-show-link",o),t==document&&u(),c(null,!0),e&&e.commentHighlightFocus&&(l=e.commentHighlightFocus)}function c(t,n){n||(p=t),t=t||p||{};for(var r in t)t.hasOwnProperty(r)&&(e.prototype[r]=t[r])}function u(){if(0!=$(".question[data-questionid]").length){var e=StackExchange.question.getQuestionId();$(".js-comment .comment-date > span").each(function(){var t=$(this),n=t.closest(".answer"),r=n&&n.length?n.data("answerid"):0,i=t.closest(".js-comment").attr("id").substr("comment-".length),o=r?r:e,a="#comment"+i+"_"+o;location.href.indexOf("/questions/")>0?t.wrap('<a class="comment-link" href="{hash}"></a>'.formatUnicorn({"hash":a})):t.wrap('<a class="comment-link" href="/q/{pid}/{hash}"></a>'.formatUnicorn({"hash":a,"pid":o}))})}}var l,d={},f=function(){};e.prototype={"checkDiscussion":f,"ensureInput":f,"renderTextInput":f,"alterAddEditDataBeforeSubmit":f,"saveEditingComments":f,"restoreEditingComments":f,"isInputShown":function(){var e=this.jDiv.find('form[id^="add-comment-"]');return e.children().length&&e.is(":visible")},"commentsShown":function(){this.remainingCommentsCount(0)},"remainingCommentsCount":function(e){return"undefined"==typeof e?parseInt(this.jCommentsList.data("remaining-comments-count"))||0:(this.jCommentsList.data("remaining-comments-count",e),void 0)},"addShow":function(e,t){var n=this,r=this.loadAllComments().done(function(){n.checkDiscussion()});if(t){var i=this.ensureInput();i&&!e&&i.focus()}r.done(function(){i&&i.length>0&&n.jCommentsLinkContainer.hide()})},"ajax":function(e,t,n,r){n&&!r&&StackExchange.helpers.addSpinner(n,{"margin-left":"10px"});var i=this;return $.ajax(e).fail(function(e){var o=e.responseText;(!o||o.indexOf("<html")>=0)&&(o=t||"An error occured"),StackExchange.helpers.showErrorMessage(n||i.jDiv,o,{"transient":409==e.status}),n&&!r&&StackExchange.helpers.removeSpinner()}).done(StackExchange.helpers.removeSpinner).promise()},"setCommentsMenu":function(e){var t="",n="";e>0&&(n=function(e){return 1==e.count?"show <b>"+e.count+"</b> more comment":"show <b>"+e.count+"</b> more comments"}({"count":e})),this.isInputShown()||!this.jCommentsList.data("cansee")&&!this.jCommentsList.data("canpost")||(t=StackExchange.settings.comments.addButtonSaysSuggestImprovements?"suggest improvements":"add a comment"),t.length||n||!this.jCommentsList.data("comments-unavailable")||(t="comments disabled on deleted / locked posts / reviews"),StackExchange.options.inReadOnly&&(t="");var r=this.jCommentsLinkContainer.find(".js-add-link"),i=this.jCommentsLinkContainer.find(".js-show-link");r.html(t),i.html(n),t.length?r.removeClass("dno"):r.addClass("dno"),n.length?i.removeClass("dno"):i.addClass("dno"),t.length&&n.length?this.jCommentsLinkContainer.find(".js-link-separator").removeClass("dno"):this.jCommentsLinkContainer.find(".js-link-separator").addClass("dno"),this.jCommentsList.data("addlink-disabled")&&r.addClass("disabled-link")},"clearHighlights":function(){this.jCommentsList.find(".js-comment").removeClass("new_comment").css("background-color","")},"showComments":function(e,n,r,i){this.saveEditingComments(n);var o=!r,a={};if(this.clearHighlights(),o&&this.jCommentsList.find(".js-comment").each(function(e,t){t.id&&t.id.length&&(a[t.id]=!0)}),this.jCommentsList.html(e),o){var s=null;this.jCommentsList.find(".js-comment").each(function(e,t){t.id&&t.id.length&&!a[t.id]&&(s||(s=t),$(t).addClass("new_comment"))});var c=this.jCommentsList.find(".new_comment");t(c),l&&c.length&&!i&&c[0].scrollIntoView(!0)}this.restoreEditingComments(),this.setCommentsMenu(0),"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]),u(),this.commentsShown()},"loadAllComments":function(e,t,n,r){this.jDiv.removeClass("dno");var i=0===this.remainingCommentsCount();if(!e&&i)return $.Deferred().resolve().promise();var o=this;return this.ajax({"type":"GET","url":"/posts/"+this.postId+"/comments"+(t||""),"dataType":"html"},"An error occurred while fetching comments").done(function(e){o.showComments(e,null,n,r)}).promise()}};var p;return{"init":s,"loadAll":function(e,t){return r(e).loadAllComments(!0,t,!0,!0)},"realtimeMessage":n,"flashHighlight":t,"extendPostUi":c,"uiForPost":r}}(),StackExchange.share=function(){function e(e,t,n){window.open(e,t,n)||(window.location.href=e)}function t(e,t,n){n="undefined"!=typeof n?n:"1",t+="="+n;var r=e.indexOf("?"),i=e.indexOf("#");return-1==r?-1==i?e+"?"+t:e.substring(0,i)+"?"+t+e.substring(i):-1==i?e+"&"+t:e.substring(0,i)+"&"+t+e.substring(i)}return{"twitter":function(n,r,i,o){r=t(r,"stw",o);var a=117;i.length>a&&(i=i.substring(0,a-3)+"..."),n.click(function(){e("https://twitter.com/share?url="+encodeURIComponent(r)+"&ref=twitbtn&text="+encodeURIComponent(i),"sharetwitter","toolbar=1,status=1,resizable=1,scrollbars=1,width=800,height=526")})},"facebook":function(n,r,i,o){r=t(r,"sfb",o),n.click(function(){e("https://www.facebook.com/sharer.php?u="+encodeURIComponent(r)+"&ref=fbshare&t="+encodeURIComponent(i),"sharefacebook","toolbar=1,status=1,resizable=1,scrollbars=1,width=626,height=436")})}}}(),StackExchange.newsletterAd=function(){function e(e){var t=$('<div class="popup newsletter-popup lightbox-panel" style="display:block"></div>').append($("<div />",{"class":"popup-close"}).append("<a>&times;</a>",{"title":"close this popup (or hit Esc)"})).append(e);$("body").loadPopup({"lightbox":!0,"html":t,"target":$("body")})}function t(t){$("#newsletter-signup").click(function(){var e=$(this);StackExchange.helpers.addSpinner("#newsletter-signup-container"),$.ajax({"url":t.subscribeUrl.replace(/-1/,StackExchange.options.user.userId),"type":"POST","dataType":"json","data":{"fkey":StackExchange.options.user.fkey,"siteId":StackExchange.options.site.id},"success":function(t){t.url?window.location.href=t.url:"confirmed"==t.status?$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>'):"unconfirmed"==t.status?$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>'):e.parent().showErrorMessage(function(e){return"there was a problem signing up for the newsletter"+e.br+"please try again later"}({"br":"<br />"}))},"error":function(){e.parent().showErrorMessage(function(e){return"there was a problem signing up for the newsletter"+e.br+"please try again later"}({"br":"<br />"}))},"complete":function(){StackExchange.helpers.removeSpinner("#newsletter-signup-container")}})}),$("#newsletter-preview").click(function(){var t=$(window).height(),n=Math.min(600,t-100),r=['<div id="newsleter-preview-pane" style="overflow: hidden; width: 660px; height: ',n,'px;">','<iframe src="',$(this).attr("href"),'" width="660" height="',n,'" frameborder="0"></iframe>',"</div>"].join("");return e(r),!1})}return{"init":t,"loader":function(e,t){var e=t||e,n=$(".newuser-greeting");$.ajax({"url":"/newsletter/targetted/ajax","data":{"domain":e},"success":function(e){$("#newsletter-ad").remove(),n.empty().append($(e))},"complete":function(){n.attr("class","").attr("style","")}}),t||(window.sessionStorage.tNewsletter=e+"-continued")}}}(),function(e,t,n,r){var i=!("selectionStart"in e("<input type='text' />")[0]);e.fn.caret=function(e,o){var a,s,c=this[0];if("object"==typeof e&&"number"==typeof e.start&&"number"==typeof e.end)a=e.start,s=e.end;else if("number"==typeof e&&"number"==typeof o)a=e,s=o;else if("string"==typeof e)(a=c.value.indexOf(e))>-1?s=a+e[t]:a=null;else if("[object RegExp]"===Object.prototype.toString.call(e)){var u=e.exec(c.value);null!=u&&(a=u.index,s=a+u[0][t])}if("undefined"!=typeof a){if(i){var l=this[0].createTextRange();l.collapse(!0),l.moveStart("character",a),l.moveEnd("character",s-a),l.select()}else this[0].selectionStart=a,this[0].selectionEnd=s;return this[0].focus(),this}if(i){var d=document.selection;if("textarea"!=this[0].tagName.toLowerCase()){var f=this.val(),p=d[n]()[r]();p.moveEnd("character",f[t]);var h=""==p.text?f[t]:f.lastIndexOf(p.text);p=d[n]()[r](),p.moveStart("character",-f[t]);var g=p.text[t]}else{var p=d[n](),m=p[r]();m.moveToElementText(this[0]),m.setEndPoint("EndToEnd",p);var h=m.text[t]-p.text[t],g=h+p.text[t]}}else var h=c.selectionStart,g=c.selectionEnd;var v=c.value.substring(h,g);return{"start":h,"end":g,"text":v,"replace":function(e){return c.value.substring(0,h)+e+c.value.substring(g,c.value[t])}}}}(jQuery,"length","createRange","duplicate"),StackExchange.nocaptcha=function(){function e(e,n){var r=['<div class="popup captcha-popup lightbox-panel" style="display: block; text-align: left;">','<div class="popup-close">',$("<a>",{"title":"close this popup (or hit Esc)","text":""}).prop("outerHTML"),"</div>",e,"</div>"].join("");$("body").loadPopup({"target":$("body"),"html":r,"lightbox":!0,"loaded":function(e){t(e,n)}})}function t(e,t){var n=e.find("form:first");StackExchange.helpers.enableSubmitButton(n),n.submit(function(){return StackExchange.helpers.disableSubmitButton(n),n.find('input[type="submit"]').addSpinnerAfter(),$.ajax({"url":"/nocaptcha","type":"POST","dataType":"json","data":n.serialize(),"success":function(r){r.captchaError?(StackExchange.helpers.removeSpinner(),StackExchange.helpers.enableSubmitButton(n),n.find(".form-error").html(r.captchaError),Recaptcha.reload()):(e.find(".popup-close a").click(),t(r))},"error":function(){StackExchange.helpers.removeSpinner(),StackExchange.helpers.enableSubmitButton(n),StackExchange.helpers.showErrorMessage(n,"An error occurred submitting the CAPTCHA")}}),!1})}return{"init":e}}(),StackExchange.gps=function(){function e(e){return m?!0:(m=!0,e&&t()?(StackExchange.gps.sendPending=a,StackExchange.gps.track=s,u(),a(),n(".tagged-questions-page, .questions-page, .tags-page",".js-gps-related-tags .post-tag","related_tags.click",", item_type:1"),n(".question-page",".js-gps-related-questions .spacer","related_questions.click"),n(".question-page .post-taglist",".post-tag","question_tags.click",", location:1"),n(".question-page #sidebar .tagged",".post-tag","question_tags.click",", location:2"),r(),!0):(StackExchange.gps.track=function(e,t,n,r){r&&r()},delete StackExchange._gps_track,!1))}function t(){if(!window.localStorage)return!1;try{if(window.localStorage["gps-probe"]="1","1"!=window.localStorage["gps-probe"])return!1;window.localStorage.removeItem("gps-probe")}catch(e){return!1}return!0}function n(e,t,n,r){$(e).find(t).each(function(e){$(this).addClass("js-gps-track").data("gps-track",n+"({ position:"+(e+1)+r+" })")})}function r(e){var t=$(e||document).find(".js-gps-track").off("click.gps").one("click.gps",function(){var e=$.trim($(this).data("gps-track"));if(e)for(var t=i(e),n=0;n<t.length;n++){var r=t[n];StackExchange.gps.track(r[0],r[1],!0)}});h("bindTrackClicks bound {0} elements in {1}",t.length,e||"document")}function i(e){function t(e){if("true"===e)return!0;if("false"===e)return!1;if("'"===e[0]||'"'===e[0])return e.substring(1,e.length-1);var t=parseFloat(e);return isNaN(t)?e:t}for(var n=[],r=e.match(/([a-z._-]+)(\([^)]+\))?/gi),i=0;i<r.length;i++){var o=r[i];if(o.indexOf("{")<0)n.push([o,{}]);else{for(var a=o.match(/([a-z._-]+)\s*\(\s*\{([^}]+)\}\s*\)/i)||[],s=a[1],c=$.trim(a[2])||"",u=c.match(/[^,]+/gi)||[],l={},d=0;d<u.length;d++){var f=u[d],p=f.indexOf(":"),h=$.trim(f.substr(0,p)),g=$.trim(f.substr(p+1)),m=t(g);l[h]=m}n.push([s,l])}}return n}function o(e,t){$(e).on("click",t+" a[href]:not(.question-hyperlink, .answer-hyperlink)",function(){var e=$(this),t=e.attr("href");StackExchange.helpers.isInNetwork(t)||("undefined"==typeof ga?h("outbound link clicked "+t):ga("send","event","outbound","click",t,{"useBeacon":!0}))})}function a(e){var t=l();if(t.length>0){for(var n=(new Date).getTime(),r=[],i=0;i<t.length&&r.length<20;i++){var o=t[i],a=n-o.now;0>a||a>36e5?f(o):r.push(o)}r.length>0?p(r,e):e&&e()}}function s(e,t,n,r){var i={"evt":e,"properties":t||{},"now":(new Date).getTime()};d(i),navigator&&navigator.sendBeacon&&(n=!1),n?(r&&r(),window.setTimeout(a,1e4)):a(r)}function c(e){e&&StackExchange.options&&StackExchange.options.user&&(e.properties&&!e.properties.user_type&&(e.properties.user_type=StackExchange.options.user.user_type),!e.ab&&StackExchange.options.user.ab&&(e.ab=StackExchange.options.user.ab))}function u(){StackExchange._gps_track&&($.each(StackExchange._gps_track,function(e,t){d(t)}),delete StackExchange._gps_track)}function l(){var e=localStorage[g];return e?JSON.parse(e):[]}function d(e){c(e);var t,n=localStorage[g];if(n){var r=JSON.parse(n);r.push(e),t=JSON.stringify(r)}else t=JSON.stringify([e]);h("addToPending "+JSON.stringify(e)),localStorage[g]=t}function f(e){var t=localStorage[g];if(t){for(var n=JSON.parse(t),r=JSON.stringify(e),i=-1,o=0;o<n.length;o++){var a=JSON.stringify(n[o]);if(r==a){i=o;break}}if(-1!=i)return n.splice(i,1),0==n.length?(localStorage.removeItem(g),void 0):(localStorage[g]=JSON.stringify(n),void 0)}}function p(e,t){$.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=JSON.stringify(e[n]);v[r]&&(e.splice(n,1),n--)}for(var n=0;n<e.length;n++){var r=JSON.stringify(e[n]);v[r]=!0}var i=JSON.stringify(e);if(navigator&&navigator.sendBeacon)try{h("sending (beacon): "+i);var o="/gps/event";if(StackExchange&&StackExchange.options&&StackExchange.options.site&&StackExchange.options.site.routePrefix&&StackExchange.options.site.routePrefix.length&&(o=StackExchange.options.site.routePrefix+o),navigator&&navigator.sendBeacon(o,i)){for(var n=0;n<e.length;n++){f(e[n]);var r=JSON.stringify(e[n]);delete v[r]}return t&&t(),void 0}}catch(a){h(a)}h("sending (AJAX): "+i),$.ajax({"type":"POST","url":"/gps/event","data":{"data":i},"success":function(){for(var t=0;t<e.length;t++)f(e[t])},"complete":function(){for(var n=0;n<e.length;n++){var r=JSON.stringify(e[n]);delete v[r]}t&&t()}})}function h(e){if((StackExchange.options&&StackExchange.options.enableLogging||$.cookie("devlog"))&&"string"==typeof e){if(arguments.length>1){var t=Array.prototype.slice.call(arguments,1);e=String.prototype.formatUnicorn.apply(e,t)}console.log("gps: "+e)}}var g="gps-pending",m=!1,v={},b=StackExchange.gps.track,y=StackExchange.gps.sendPending;return{"init":e,"bindTrackClicks":r,"track":b,"sendPending":y,"trackOutboundClicks":o}}(),StackExchange.openid=function(){function e(e,t){return e?(t&&$(e).data("ssrc",t),$(e).data("ssrc")):c}function t(t,n){var r=e(n);t&&(StackExchange.gps.track("openid.click",{"openid_provider":t,"location":r},!0),StackExchange.gps.track("signup.openid.click",{"openid_provider":t,"location":r},!0)),StackExchange.gps.track("signup.start",{"openid_provider":t,"location":r,"tid":StackExchange.options.user.tid},!0)}function n(n,r,c){var u=decodeURIComponent(r),l="unknown";c&&c.length?l=c:(0===u.indexOf("/questions/")&&(l="question_page"),"/questions/ask"===u&&(l="question_ask"));var d=$(n);e(d,l),d.removeClass("dno");var f=d.find(".google-login");f.click(function(){t("Google",d),o(d)});var p=d.find(".facebook-login");p.click(function(){t("Facebook",d),i(d)});var h=d.find(".stackexchange-login");h.click(a(function(){t("Stack Exchange",d),StackExchange.navPrevention.stop(),window.location="/users/signup?ssrc="+encodeURIComponent(l)+"&returnUrl="+encodeURIComponent(u)})),d.find(".submit-openid").click(function(){s(d,u)})}function r(n,r,a,c,u){var l=decodeURIComponent(r);e(n,a);var d=n.find(".google-login");d.click(function(){t("Google",n),o(n)});var f=n.find(".facebook-login");f.click(function(){t("Facebook",n),i(n)});var p=n.find(".stackexchange-login");p.click(function(){t("Stack Exchange",n),window.location="/users/signup?ssrc="+encodeURIComponent(a)+"&returnUrl="+encodeURIComponent(l)}),n.find(".submit-openid").click(function(){s(n,l,c,u)})}function i(t){t.find(".ssrc").val(e(t)),t.find(".use-facebook").val("true"),t.find(".use-google").val(""),t.find(".submit-openid").click()}function o(t){t.find(".ssrc").val(e(t)),t.find(".use-google").val("true"),t.find(".use-facebook").val(""),t.find(".submit-openid").click()}function a(e){return function(){StackExchange.using("editor",function(){StackExchange.cardiologist.ensureDraftSaved(e)})}}function s(t,n,r,i){var o=t.find(".use-facebook").val(),s=t.find(".use-google").val();a(function(){var a=!!StackExchange.options.site.isChildMeta,c=(a?StackExchange.options.site.parentUrl:"")+"/users/signup?returnurl="+encodeURIComponent(n),u=$('<form method="post" action="'+c+'"></form>'),l=$('<input type="hidden" name="oauth_version" />'),d=$('<input type="hidden" name="oauth_server" />');u.append(l),u.append(d),l.val("2.0"),o?d.val("https://www.facebook.com/v2.0/dialog/oauth"):s&&d.val("https://accounts.google.com/o/oauth2/auth"),u.append("<input type='hidden' name='fkey' value='"+StackExchange.options.user.fkey+"' />"),$('<input type="hidden" name="ssrc" />').val(e(t)).appendTo(u),r&&i&&($('<input type="hidden" name="anon_vote_type" />').val(r).appendTo(u),$('<input type="hidden" name="anon_vote_hash" />').val(i).appendTo(u)),StackExchange.navPrevention.stop(),u.hide().appendTo("body").submit()})()}var c="unknown";return{"initPostLogin":n,"initAnonPopup":r}}();var UniversalAuth=function(){var e=1,t=200,n=1e4,r=5*n,i=!1;return{"redirectOnCompletion":function(e,o){if(i)return window.location.replace(e),void 0;var a,s=0,c=function(){if(i)return window.location.replace(e),clearInterval(a),void 0;var c=n>s,u=r>s;s+=t;var l=s>=n,d=s>=r,f=c&&l;f&&o&&o();var p=u&&d;p&&clearInterval(a)};a=setInterval(c,t)},"performAuth":function(){if(UniversalAuth.enabled()){var t=$.cookie("uauth");null!==t&&($.post("/users/login/universal/request",function(t){var n=[],r=function(){var e=null!==$.cookie("uauth");if(!e&&n){for(var t=0;t<n.length;t++){var r=n[t],o=r[0];if(!o.complete)return}i=!0}};$.each(t,function(t,i){var o="//"+i.Host+"/users/login/universal.gif?authToken="+encodeURIComponent(i.Token)+"&nonce="+encodeURIComponent(i.Nonce);$(document).ready(function(){var t=$("<img/>").attr({"style":"display:none","src":o,"crossOrigin":"use-credentials"});n.push(t),t.one("load",function(){var i=t[0].width,o=t[0].height;if(2===i&&2===o&&e>0){e--;var a=$.cookie("uauth");if(!a){var s=new Date,c=new Date(s.getTime()+3e5);$.cookie("uauth","true",{"path":"/","domain":document.domain,"expires":c}),n=null,setTimeout(function(){UniversalAuth.performAuth()},10)}}r()}),$("#footer").append(t)})})},"json"),$.cookie("uauth",null,{"path":"/","domain":document.domain}))}},"enabled":function(){return!0
}}}();StackExchange.ready(function(){function e(){try{$.cookie("fkey",StackExchange.options.user.fkey,{"path":"/","expires":1/144})}catch(e){}}if(StackExchange.options.user.isAnonymous){var t=/\bfkey=/i;$(document).ajaxSend(function(n,r,i){"post"===i.type.toLowerCase()&&(t.test(i.url)||t.test(i.data))&&e()}),$(document).on("submit","form",function(){var t=$(this);"post"===t.attr("method").toLowerCase()&&t.find("input[name='fkey']").length&&e()})}}),StackExchange.loadJqueryUi=function(){var cssLink=StackExchange.settings.paths.jQueryUICSSPathOverride,jsLink=StackExchange.settings.paths.jQueryUIJSPathOverride;if(cssLink||(cssLink="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.0/themes/smoothness/jquery-ui.css"),jsLink||(jsLink="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.0/jquery-ui.min.js"),$.ui)return $.Deferred().resolve();$("<link>").attr({"href":cssLink,"rel":"stylesheet","type":"text/css","media":"all"}).appendTo("head");var result=$.Deferred(),locale=StackExchange.options.locale,datepickerLanguageGetter,datepickerLanguageScript;return $.ajaxSetup({"cache":!0}),"en"!==locale&&(datepickerLanguageGetter=$.ajax({"url":"/content/js/third-party/jquery-ui/datepicker-"+locale+".js","dataType":"text","type":"GET"}).done(function(e){datepickerLanguageScript=e})),$.when(datepickerLanguageGetter||$.Deferred().resolve(),$.getScript(jsLink)).done(function(){eval(datepickerLanguageScript),result.resolve()}),$.ajaxSetup({"cache":!1}),result.promise()},StackExchange.processTimings=function(){function e(e,t){var n={};t=t||e.name||!1;for(var r in e)if("toJSON"!==r&&"entryType"!==r)if(t){if("subresources"===r)continue;var i=Math.round(e[r]);n[r]=i?i:e[r]}else 0!==e[r]&&(n[r]=0===e[r]?null:e[r]-e.navigationStart);return n}function t(){if(StackExchange.options.timingsGuid&&window.performance&&window.performance.timing&&window.performance.getEntriesByType){var t=[],n=[],r=!1,i=function(i){for(var o=0;o<n.length;o++)n[o].cancel();if(!r){r=!0;var a=$.extend(e(window.performance.timing,!1),{"guid":StackExchange.options.timingsGuid,"Info":StackExchange.options.timingsInfo,"fkey":StackExchange.options.user.fkey,"subresources":t.map(function(t){return e(t,!0)})}),s=JSON.stringify(a);if(navigator&&navigator.sendBeacon&&-1===location.search.indexOf("__debug=1"))try{var c="/_/client-timings";if(StackExchange.options.site&&StackExchange.options.site.routePrefix&&StackExchange.options.site.routePrefix.length&&(c=StackExchange.options.site.routePrefix+c),navigator&&navigator.sendBeacon(c,s))return}catch(u){}i||$.post("/_/client-timings",s)}},o=StackExchange.helpers.DelayedReaction(i,StackExchange.settings.monitoring.clientTimingsDebounceTimeout,{"sliding":!0});n.push(o);var a=StackExchange.helpers.DelayedReaction(i,StackExchange.settings.monitoring.clientTimingsAbsoluteTimeout);a.trigger(),n.push(a);var s={},c=window.setInterval(function(){for(var e=window.performance.getEntriesByType("resource"),n=!1,r=0;r<e.length;r++)if(!s[r]){var i=e[r];t.push(i),n=!0,s[r]=!0}n&&o.trigger()},50);n.push({"cancel":function(){c&&(window.clearInterval(c),c=null)}}),window.performance.onresourcetimingbufferfull=function(){window.performance.clearResourceTimings(),s={}},$(window).unload(function(){i(!0)})}}return t}(),StackExchange.showFlashMessageIfAny=function(){var e="flash-message-json",t=$.cookie(e);if(t)try{$.cookie(e,null,{"path":"/","domain":document.domain});var n=decodeURIComponent(t.replace(/[+]/g," ")),r=JSON.parse(n);if(StackExchange.options.enableLogging&&console.log("flash message: showing "+n),StackExchange.options.isMobile)return StackExchange.helpers.showMobileMessage(r.message,r.type),void 0;switch(r.position){case"toast":var i={"type":r.type,"position":r.position,"transient":!0};StackExchange.helpers.showMessage(document.body,r.message,i);break;case"notice":StackExchange.helpers.showStacksNotice(r.message,r.type);break;default:StackExchange.helpers.showBannerMessage(r.message,r.type)}}catch(o){}},StackExchange.prepareEditor=function(e){var t=e.postfix||"",n=function(){setTimeout(function(){StackExchange.editor.initIfShown(e)},1)};if(!e.onDemand)return StackExchange.using("editor",n),void 0;for(var r="bold-button italic-button spacer1 link-button quote-button code-button image-button spacer2 olist-button ulist-button heading-button hr-button spacer3 undo-button redo-button".split(" "),i=$('<ul id="wmd-button-row'+t+'" class="wmd-button-row" />').appendTo(".wmd-button-bar"),o=0,a=0;a<r.length;a++){var s=r[a],c=/spacer/.test(s),u=$("<li id='wmd-"+s+t+"' />").prop("className","wmd-"+(c?"spacer":"button")).css("left",25*a).appendTo(i);$("<span />").css("background-position",o+"px -20px").appendTo(u),c||(o-=20)}var l=document.createElement("li");l.className="wmd-spacer wmd-spacer-max",i.append(l);var d=!1;$("#wmd-input, #title, #tagnames, #edit-comment, #m-address, #display-name").one("focus click keydown",function(){if(!d){d=!0;var t=function(){i.remove(),e.autoShowMarkdownHelp&&(e.immediatelyShowMarkdownHelp=!0),n()};i.addSpinner({"float":"right"}),StackExchange.using("editor",t)}})},StackExchange.Auth=function(){var e=function(e,t){for(var n=!1,r=0;r<e.length;r++)if(e[r].id==t.id){t.changed=e[r].message==t.message,e[r].message=t.message,n=!0;break}n||(t.changed=!0,t.index>=e.length?e.push(t):e.splice(t.index,0,t))},t=function(t,n,r){var i=15,o=8,a=t.val(),s=/[a-z]/.test(a),c=/[A-Z]/.test(a),u=/\d/.test(a),l=/(_|[^\w\d])/.test(a),d=0;if(s&&d++,c&&d++,u&&d++,l&&d++,2===d&&a.length>=i)return r(n,"pw-weak",t),r(n,"pw-short",t),void 0;var f=$("<span><p>"+function(e){return"Please add one of the following things to make your password stronger:"+e.pEnd+" "+e.listStart+" "+e.char+" letters "+e.itemEnd+" "+e.num+" numbers "+e.itemEnd+" "+e.listEnd}({"pEnd":"</p>","listStart":"<ul>","listEnd":"</ul>","itemEnd":"</li>","char":'<li id="ch">',"num":'<li id="num">'})+"</span>");(s||c)&&u?r(n,"pw-weak",t):3>d?((s||c)&&f.find("#ch").remove(),u&&f.find("#num").remove(),e(n,{"id":"pw-weak","index":1,"attachTo":t,"message":f})):r(n,"pw-weak",t);var p=t.val().length;if(o>p){var h=o-p;e(n,{"id":"pw-short","index":2,"attachTo":t,"message":function(e){return 1==e.remaining?"Must contain at least "+e.remaining+" more character.":"Must contain at least "+e.remaining+" more characters."}({"remaining":h})})}else r(n,"pw-short",t)};return{"addOrUpdateError":e,"passwordStrengthValidation":t}}(),StackExchange.Hero=function(){var e={"name":null,"version":null},t=function(){var t="hero-dismissed",r={"ld":"","d":[]},i=$.cookie(t);if(i){var o=i.split("!");o.shift(),r.d=o}r.ld=(new Date).getTime();var a=e.name+"_"+e.version,s=!0;for(var c in r.d){var u=r.d[c],l=u.split("_");if(l===e.name){r.d[c]=a,s=!1;break}}s&&r.d.push(a),$.cookie(t,n(r),{"path":"/","expires":365})},n=function(e){return[e.ld].concat(e.d).join("!")},r=function(t,n){e.name=t,e.version=n};return{"init":r,"dismiss":t}}(),StackExchange.checklist=function(){function e(e,t,n){return $.post(e,{"fkey":StackExchange.options.user.fkey,"preference":t,"hideCompletedOrDismiss":n})}$(document).on("click",".js-toggle-completed-requirements",function(t){var n=$(t.target),r=n.closest(".js-checklist"),i=n.hasClass("is-visible"),o=n.data("preference"),a=n.data("url");e(a,o,i).always(function(){r.find(".js-requirement.is-finished").closest("li").toggleClass("dno"),n.toggleClass("is-visible is-hidden").text(i?"Show all items":"Hide completed items")})})}(),StackExchange.responsiveness=StackExchange.responsiveness||{},function(){StackExchange.responsiveness.addSwitcher=function(){var e=!!$.cookie("no-responsiveness");$('<li class="-item"><a class="-link" role="button" /></a></li>').find("a").text(e?"Enable Responsiveness":"Disable Responsiveness").click(function(){$.cookie("no-responsiveness",e?null:"1",e?{"path":"/"}:{"path":"/","expires":180}),location.reload(!0)}).end().appendTo(".js-primary-footer-links")}}(),StackExchange.userQuestionList=function(){function e(e){var t=e.split(/[\s|,;]+/).filter(function(e){return e.length>0});t=i(t.join(" ")).split(" ");for(var n=t.length-2;n>=0;n--)"not"===t[n]&&t.splice(n,2,"-"+t[n+1]);return t.join(" ")}function t(e,t){for(var n=function(t,n){return t.test(e[n])},r=function(e){return n(/^not$/i,e)?v:n(/^and$/i,e)?g:n(/^or$/i,e)?m:h},i=[],o=t-1;o>=0;o--){var a=r(o);if(a===m)break;a===h&&i.push(e[o])}return i}function n(e,t){var n=e.map(function(){return!0}),r=function(t,n){return t.test(e[n])},i=function(e){return r(/^not$/i,e)?v:r(/^and$/i,e)?g:r(/^or$/i,e)?m:h},o=function(t,r){for(var o=[],a=[],s=-1,c=t;r>=c;c++)switch(i(c)){case m:o=[],a=[],s=-1;break;case g:s=-1;break;case v:s=c;break;case h:var u=e[c],l=-1!==s?a:o;-1===l.indexOf(u)?l.push(u):(n[c]=!1,-1!==s&&(n[s]=!1)),s=-1}},a=function(e,t){for(var r=h,o=t,a=t;a>=e;a--)if(n[a]){var s=i(a);if(r!==h){if(s===v){n[a]=!1;continue}if(s===g&&(r===g||r===m)){n[a]=!1;continue}s!==m||r!==g&&r!==m||(n[o]=!1)}r=s,o=a}};o(0,t-1),o(t,e.length-1),a(0,t-1),a(t,e.length-1);var s;for(s=0;t>s&&r(p,s);s++)n[s]=!1;for(s=e.length-1;s>=t&&r(f,s);s--)n[s]=!1;return n}function r(e){for(var t=e.split(StackExchange.helpers.tagSeparator(e)),n=t.length-1;n>=0;n--){var r=t[n];/^-[^-]/.test(r)&&(t.splice(n+1,0,r.substring(1)),t[n]="not")}return StackExchange.helpers.sanitizeAndSplitTags(t.join(" "),!0,!0)||[]}function i(e){var t,i=r(e||"");return i.length>0&&(t=n(i,0),i=i.filter(function(e,n){return t[n]})),i.length>0&&(t=n(i,i.length),i=i.filter(function(e,n){return t[n]})),i.join(" ")}function o(e){var t="";switch(e.tagModeId){case"Watched":t="";break;default:t=encodeURIComponent(e.tagQuery)}var n=[];e.sortId.length>0&&n.push("sort="+e.sortId),e.filterIds.length>0&&n.push("filters="+e.filterIds),"Specified"!==e.tagModeId&&n.push("tagMode="+e.tagModeId),e.uqlId&&n.push("uqlId="+e.uqlId),n.push("edited=true");var r="Watched"===e.tagModeId?"/questions/tagged":t?"/questions/tagged/"+t:"/questions",i=StackExchange.options.site.routePrefix||"";return window.location.origin+i+r+"?"+n.join("&")}function a(e,t,n,r,i){r.prop("disabled",!0),$.ajax({"type":"POST","url":e,"data":$.extend({},t,{"fkey":StackExchange.options.user.fkey,"name":n}),"dataType":"json","success":function(e){if(e.Success)i?i(e):e.RedirectUrl?location.href=e.RedirectUrl:e.Message&&StackExchange.helpers.showToast(e.Message,{"type":"info","transient":!0});else{var t=e.Message||"An error occurred during save.";if($(".js-modal-container").hasClass("d-none"))StackExchange.helpers.showToast(t,{"type":"danger","transient":!0});else{var n=StackExchange.stacksValidation.handlerFor($("#uql-name-field"));n.add("error",t)}}},"error":function(e){var t=e.responseText&&e.responseText.length<100?e.responseText:"An error occurred during save.";if($(".js-modal-container").hasClass("d-none"))StackExchange.helpers.showToast(t,{"type":"danger","transient":409===e.status});else{var n=StackExchange.stacksValidation.handlerFor($("#uql-name-field"));n.add("error",t)}},"complete":function(){r.prop("disabled",!1)}})}function s(e,t,n,r){confirm(function(e){return'Are you sure you want to delete "'+e.name+'"?'}({"name":t}))&&a("/questions/user-lists/"+e+"/delete",{},null,n,r)}function c(e,i){StackExchange.using("tagEditor",function(){StackExchange.tagEditor(e,null,null,{"excerpts":!1,"columns":1,"operators":f,"customFilterTags":n,"customSafeTags":r,"customExistingTags":t,"useStacksClasses":!0}),e.next(".tag-editor").on("change",function(){i.prop("checked",!0)}).on("keypress",function(e){0!==e.which&&i.prop("checked",!0)}).on("click",".js-delete-tag",function(){i.prop("checked",!0)})})}function u(){Stacks.addController("se-uql",{"targets":["tagQuery","name","toggleMoreButton","morePopover","toggleFormButton","form","saveButton","saveTemplate","applyButton"],"resetForm":function(){this.formTarget.reset();var e=this.tagQueryTarget;if(e.func_clear){var t=i(e.value);e.func_clear(),t.split(/ +/).forEach(e.func_add,e)}},"showSaveModal":function(e){e.preventDefault();var t=$($(this.saveTemplateTarget).text());t.data("passed-data",this.readForm()),StackExchange.helpers.showModal(t,{"returnElements":$(e.currentTarget)})},"toggleEditor":function(){$(this.toggleFormButtonTarget).click().focus()},"cancelEditor":function(){this.resetForm(),$(this.formTarget).hasClass("is-expanded")&&$(this.toggleFormButtonTarget).click()},"readForm":function(){function t(e){return $(n[e]).filter(":checked")}var n=this.formTarget.elements,r=t("sortId").val()||"",i=t("filterId").map(function(){return this.value}).get().join(","),o=t("tagModeId").val()||"Specified",a="Specified"===o?e(this.tagQueryTarget.value||""):"",s=$(n.uqlId).val();return{"sortId":r,"filterIds":i,"tagModeId":o,"tagQuery":a,"id":s}},"navigate":function(e){e.preventDefault();var t=this.readForm();t.uqlId=this.data.get("id");var n=t.tagQuery.trim();if("true"===this.data.get("sanitize-tag-query")&&n.length>0){var r=$(this.applyButtonTarget);r.addClass("is-loading"),$.ajax({"type":"POST","url":"/questions/sanitize-tag-query","data":{"fkey":StackExchange.options.user.fkey,"tagQuery":n},"dataType":"json","success":function(e){t.tagQuery=e.TagQuery,location.href=o(t)},"error":function(e){var t=e.responseText&&e.responseText.length<100?e.responseText:"An error occurred processing the tag query.";StackExchange.helpers.showToast(t,{"type":"danger","transient":409===e.status})},"complete":function(){r.removeClass("is-loading")}})}else location.href=o(t)},"connect":function(){var e=$(this.tagQueryTarget);e.attr("value",r(e.val()).join(" "));var t=$(this.formTarget.elements.tagModeId).filter("[value=Specified]");c(e,t)}})}function l(){Stacks.addController("se-uql-save",{"targets":["name","saveButton"],"validateName":function(e,t){var n=StackExchange.stacksValidation.handlerFor($(this.nameTarget));if(!n)return!0;if(e&&!n.hasType("error"))return!0;n.clear("error");var r=this.nameTarget.value.trim();return t||""!==r||n.add("error","Title is missing."),r.length>32&&n.add("error",function(e){return 1==e.count?"Title is "+e.count+" character too long.":"Title is "+e.count+" characters too long."}({"count":r.length-32})),"en"!==StackExchange.options.locale||/^[ -~]*$/.test(r)||n.add("error","Please only include ASCII characters."),!n.hasType("error")},"liveValidate":function(){this.validateName(!0,!0)},"updateExisting":function(e){if(e.preventDefault(),this.validateName()){var t=$(this.element).data("passed-data");a("/questions/user-lists/"+t.id+"/update",t,this.nameTarget.value.trim(),$(this.saveButtonTargets))}},"createNew":function(e){if(e.preventDefault(),this.validateName()){var t=$(this.element).data("passed-data");a("/questions/user-lists/create",t,this.nameTarget.value.trim(),$(this.saveButtonTargets))}}})}function d(){Stacks.addController("se-uql-list",{"targets":["item"],"getParentItem":function(e){return $(this.itemTargets).has(e).get(0)},"deleteCurrent":function(e){var t=e.currentTarget,n=this.getParentItem(t);s(this.getElementData(n,"id"),this.getElementData(n,"name"),$(t),function(){location.reload()})},"editCurrent":function(e){e.preventDefault(),this.triggerEvent("edit-current-requested")}})}var f=/^(?:and|or|not)$/i,p=/^(?:and|or)$/i,h=0,g=1,m=2,v=3,b=function(e){u(),l(),d(),e.sharingUrl&&history.replaceState&&history.replaceState({},document.title,e.sharingUrl+location.hash)};return{"init":b}}(),StackExchange.stacksValidation=function(){function e(e){var n=e.data("stacks-validation-handler");return n||(n=new t(e),e.data("stacks-validation-handler",n)),n.invalid?null:n}function t(e){return this.$input=e,this.$container=e.closest(".js-stacks-validation"),this.$container.length?(this.$message=this.$container.find(".js-stacks-validation-message"),this.messages=[],void 0):(this.invalid=!0,void 0)}function n(e){return e.html}function r(e){return e.type}t.prototype={"_updateMessages":function(){if(this.$message.empty().toggleClass("d-none",!this.messages.length),this.messages.length){var e;e=1===this.messages.length?this.messages[0].html:"<ul><li>"+this.messages.map(n).join("</li><li>")+"</li></ul>",this.$message.html(e).find("a").attr("target","_blank")}},"_updateIcon":function(){if(this.$container.find(".js-stacks-validation-icon").remove(),this.messages.length){var e=this.highestType();Svg[i[e]].With("s-input-icon js-stacks-validation-icon").insertAfter(this.$input)}},"_updateClass":function(){this.$container.removeClass("has-error has-warning has-success"),this.messages.length&&this.$container.addClass("has-"+this.highestType())},"_update":function(){this._updateMessages(),this._updateIcon(),this._updateClass()},"highestType":function(){return this.messages.map(r).reduce(function(e,t){return"error"===e||"error"===t?"error":"warning"===e||"warning"===t?"warning":"success"})},"hasType":function(e){return this.messages.some(function(t){return t.type===e})},"add":function(e,t){this.messages.some(function(n){return n.type===e&&n.html===t})||(this.messages.push({"type":e,"html":t}),this._update())},"clear":function(e){this.messages=e?this.messages.filter(function(t){return t.type!==e}):[],this._update()}};var i={"error":"AlertCircle","warning":"Alert","success":"Checkmark"};return{"handlerFor":e}}(),StackExchange.Notice=function(){var e={"cookieId":null,"expireDate":null},t=function(t){$.cookie(e.cookieId,t,{"expires":new Date(e.expireDate),"path":"/"})},n=function(n){if(e.cookieId){var r=n($.cookie(e.cookieId));r&&t(r)}},r=function(){t("2;"+Date.now())},i=function(){t("4;"+Date.now())},o=function(){var t=$(".js-announcement-banner");e.cookieId=t.data("cookie"),e.expireDate=t.data("expire-date"),t.find(".js-link").click(function(){r()}),t.find(".js-dismiss").click(function(){return i(),t.animate({"height":"0","opacity":0},"fast","linear",function(){t.remove()}),!1})},a=function(){var t=$(".js-research-banner"),n=new Date,o=t.data("days-to-expire");e.cookieId=t.data("cookie"),e.expireDate=n.setDate(n.getDate()+o);var a=function(){var e=$(this).closest(".research-banner__state");if(!e)return!1;var t=$(".js-research-banner"),n=t.find(".research-banner__state");n.hide();var r=n.index(e),i=$(n.get(r+1));t.removeClass(e.data("propagateClass")),t.addClass(i.data("propagateClass")),i.show()},s=function(e){StackExchange.helpers.showToast(e,{"type":"danger","transientTimeout":3e3})};$(".js-research-banner form.js-submit").submit(function(e){return e.preventDefault(),$.ajax({"type":"POST","url":t.data("cta-url"),"data":{"fkey":StackExchange.options.user.fkey}}).done(function(e){e.success?r():s(e.message)}).fail(s),a.call(this),!1}),$(".js-research-banner .js-research-dismiss").click(function(){return i(),$(".js-research-banner").remove(),!1}),$(".js-research-banner-state .js-research-confirm").click(a)},s=function(){var o=$(".js-create-team-tooltip"),a=$(".js-create-team-btn-with-tooltip");e.cookieId=o.data("cookie"),e.expireDate=o.data("expire-date");var s=function(){StackExchange.using("gps",function(){StackExchange.gps.track("teams.create.left-sidenav-tooltip.dismiss")})};o.on("click",function(){return $(this).fadeOutAndRemove(),i(),s(),!1}),a.on("click",function(){r()});var c="notice-UserMessaging-CreateTeamTooltip",u=$.cookie(c);u&&(t(u),$.cookie(c,null,{"path":"/"})),n(function(e){return e?"!"===e.substring(0,1)?"!"+(1+parseInt(e.substring(1))):null:"!1"})};return{"annoucementBannerInit":o,"researchBannerInit":a,"tooltipInit":s}}(),StackExchange.bindShowMoreHotNetworkQuestions=function(){var e=$("#hot-network-questions"),t=e.find(".js-show-more"),n=e.find(".js-hidden");if(e.length&&t.length&&n.length){var r=$("#mainbar").height(),i=$("#sidebar").height()+550;n.attr("style","visibility:hidden").removeClass("dno");var o=0,a=[];n.each(function(e,t){var n=$(t).height();a.push(n),o+=n});var s=i+o;if(r>=s)return t.remove(),n.attr("style","").show(),void 0;var c=[],u=i;n.each(function(e,t){var n=$(t),i=a[e];r>=u+i&&(c.push(n),u+=i)}),n.attr("style","").addClass("dno"),c.forEach(function(e){return e.show()}),t.click(function(){return n.show(),t.remove(),!1})}},StackExchange.mockups=function(){function e(){StackExchange.externalEditor.init({"thingName":"mockup","getIframeUrl":function(e){var t="/plugins/mockups/editor";return e&&(t+="?edit="+encodeURIComponent(e)),t},"buttonTooltip":"UI wireframe","buttonImageUrl":"/content/Shared/Balsamiq/wmd-mockup-button.png","onShow":function(e){window.addMockupToEditor=e},"onRemove":function(){window.addMockupToEditor=null}})}return{"init":e}}(),StackExchange.schematics=function(){function e(){if(!window.postMessage)return 0;var e=document.createElement("div");e.innerHTML="<svg/>";var t="http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI);if(!t)return 0;var n=navigator.userAgent;return/Firefox|Chrome/.test(n)?3:/Apple/.test(navigator.vendor)||/Opera/.test(n)?2:1}function t(){var t;StackExchange.externalEditor.init({"thingName":"schematic","getIframeUrl":function(e){var t="/plugins/schematics/editor";return e&&(t+="?edit="+encodeURIComponent(e)),t},"buttonTooltip":"Schematic","buttonImageUrl":"/content/Sites/electronics/img/wmd-schematic-button.png?v=1","checkSupport":function(){var t=e();switch(t){case 3:return!0;case 2:return confirm("Your browser is not officially supported by the schematics editor; however it has been reported to work. Launch the editor?");case 1:return confirm("Your browser is not officially supported by the schematics editor; it may or may not work. Launch the editor anyway?");default:case 0:return alert("Sorry, your browser does not support all the necessary features for the schematics editor."),!1}},"onShow":function(e){var n=$("<div class='popup'>").css("z-index",1111).text("Loading editor").appendTo("body").show().addSpinner({"marginLeft":5}).center({"dy":-200});$("<div style='text-align:right;margin-top: 10px'>").append($("<button>cancel</button>").click(function(){n.remove(),e()})).appendTo(n),t=function(t){if(t=t.originalEvent,"https://www.circuitlab.com"===t.origin){t.data||e();var r=$.parseJSON(t.data);if(r&&"success"===r.load)return n.remove(),void 0;if(r&&r.edit_url&&r.image_url){r.fkey=StackExchange.options.user.fkey;var i=$("<div class='popup'>").css("z-index",1111).appendTo("body").show(),o=function(){i.text("Storing image").addSpinner({"marginLeft":5}).center(),$.post("/plugins/schematics/save",r).done(function(t){i.remove(),e(t.img)}).fail(function(e){if(409===e.status){var t="Storing aborted";e.responseText.length<200&&(t=e.responseText),i.text(t+", will retry shortly").addSpinner({"marginLeft":5}).center(),setTimeout(o,1e4)}else i.remove(),alert("Failed to upload the schematic image.")})};o()}}},$(window).on("message",t)},"onRemove":function(){$(window).off("message",t)}})}return{"init":t}}(),StackExchange.externalEditor=function(){function e(e){if("function"==typeof e)return e;var t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n="<!-- Begin "+t+"[^>]*? -->\\s*!\\[[^\\]]*\\]\\((http://[^ )]+)[^)]*\\)\\s*<!-- End "+t+" -->";return function(e,t,r,i,o){function a(e,t,n){for(var r=-1,i=-1;;){if(i=t.indexOf(e,i+1),-1===i)break;(0>r||Math.abs(i-n)<Math.abs(i-r))&&(r=i)}return r}return e.replace(new RegExp(n,"g"),function(e,n,s){var c={"payload":n.replace(/[^-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]/g,""),"pos":a(e,t,s),"len":e.length};return-1===c.pos?e:(o.push(c),e+"\n\n"+r+i+"-"+(o.length-1)+"%")})}}function t(t){function n(e,t){function n(t){function n(){StackExchange.helpers.closePopups(g.add(i)),d()}var i,o=m||b.caret(),c=b[0].value||"",u=t?t.pos:o.start,f=t?t.len:o.end-o.start,p=c.substring(0,u),h=c.substring(u+f);m=null;var g=null,v=function(t,i){if(!t)return setTimeout(n,0),b.focus(),void 0;StackExchange.navPrevention.start();var a=void 0===i?r(t):i,s=p.replace(/(?:\r\n|\r|\n){1,2}$/,""),c=s+a+h.replace(/^(?:\r\n|\r|\n){1,2}/,""),u=o.start+a.length-p.length+s.length;setTimeout(function(){e.textOperation(function(){b.val(c).focus().caret(u,u)}),n()},0)};if(a){var y=a(t?t.payload:null);g=$("<iframe>",{"src":y})}else if(s){var k=s(t?t.payload:null);g=$(k)}g.addClass("esc-remove").css({"position":"fixed","top":"2.5%","left":"2.5%","width":"95%","height":"95%","background":"white","z-index":1001}),$("body").loadPopup({"html":g,"target":$("body"),"lightbox":!0}).done(function(){$(window).resize(),l(v)})}$('<style type="text/css"> .wmd-'+i+"-button span { background-position: 0 0; } .wmd-"+i+"-button:hover span { background-position: 0 -40px; }</style>)").appendTo("head");var h,g,m,v=e.getConverter().hooks,b=$("#wmd-input"+t);b.on("keyup",function(e){var t=e.keyCode||e.charCode;if(8===t||46===t){var n=b.caret().start;b.caret(n,n)}}),v.chain("preConversion",function(e){var t=(e.match(/%/g)||[]).length,n=b.length?b[0].value||"":"";return h=new Array(t+2).join("%"),g=[],o(e,n,h,i,g)}),v.chain("postConversion",function(e){return e.replace(new RegExp(h+i+"-(\\d+)%","g"),function(e,t){return"<sup><a href='#' class='edit-"+i+"' data-id='"+t+"'>"+f+"</a></sup>"})});var y="The "+i+" editor does not support touch devices.",k=!1;$("#wmd-preview"+t).on("touchend",function(){k=!0}).on("click","a.edit-"+i,function(e){return k?(alert(y),k=!1,!1):(k=!1,(!p||p())&&n(g[$(e.target).attr("data-id")]),!1)}),$("#wmd-input"+t).keyup(function(e){e.shiftKey||e.altKey||e.metaKey||!e.ctrlKey||77!==e.which||(!p||p())&&n()}),setTimeout(function(){var e=$("#wmd-image-button"+t),r=$("<li class='wmd-button wmd-"+i+"-button' id='wmd-"+i+"-button"+t+"' title='"+c+" Ctrl-M'>").insertAfter(e),o=!1;$("<span>").css({"backgroundImage":"url("+u+")"}).appendTo(r).on("touchend",function(){o=!0}).click(function(){return o?(alert(y),o=!1,void 0):(o=!1,(!p||p())&&n(),void 0)})},0)}function r(e){return('\n\n<!-- Begin {THING}: In order to preserve an editable {THING}, please\n     don\'t edit this section directly.\n     Click the "edit" link below the image in the preview instead. -->\n\n![{THING}]('+e+")\n\n<!-- End {THING} -->\n\n").replace(/{THING}/g,i)}var i=t.thingName,o=e(t.thingFinder||t.thingName),a=t.getIframeUrl,s=t.getDivContent,c=t.buttonTooltip,u=t.buttonImageUrl,l=t.onShow,d=t.onRemove||function(){},f=t.editLabel||"edit the above "+i,p=t.checkSupport;StackExchange.MarkdownEditor.creationCallbacks.add(n)}return{"init":t}}(),function(e,t){function n(t){return e("<div>").addClass(t)}function r(){var e="sif"+E;return E++,e}function i(){return e("<iframe>").attr({"name":r(),"sandbox":"allow-forms allow-modals allow-scripts","class":"snippet-box-edit","frameBorder":0})}function o(t){return e("<pre>").addClass("prettyprint-override lang-"+t+" snippet-code-"+t)}function a(t){return e("<a>").text(t)}function s(t,n){return e("<textarea>").attr("name",t).val(n)}function c(t,n,r){return e("<form>").css("display","none").attr({"action":t,"method":n,"target":r})}function u(t,n){return e("<input>").attr({"type":"text","name":t,"value":n})}function l(){return e('<button type="button">')}function d(t){return e("<code>").text(t)}function f(n,r){r=r||{},n.each(function(){var n=e(this),i=n.data("_snippet");if(!i){var o=r.markdownPluginMode;if(i=o?p():h(),o){var a=function(){i&&(i.setUIInnerHtml(S),i.generate(n),i.resize(),e(t).resize(function(){i&&i.resize()}),n.data("_snippet",i),r.state&&i.load(r.state))};StackExchange.using("snippetsJsCodeMirror",function(){setTimeout(function(){C().then(a)},1)})}else i.generate(n),n.data("_snippet",i),r.state&&i.load(r.state)}})}function p(){function n(e){q=e}function r(n,r,i){function o(){var e=i.getValue(),t=e.match(s);t&&t.length>2?n.val(t[1]+":"+t[2]):n.val("")}var a="function"==typeof r?r:function(e,t){return r.replace(/\*version\*/g,e).replace(/\*file\*/g,t)},s=a("##version##","##file##").replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&").replace("cdnjs\\.cloudflare\\.com","(?:cdnjs\\.cloudflare\\.com|ajax\\.googleapis\\.com)").replace(/##version##/g,"(.*?)").replace(/##file##/g,"(.*?)");n.change(function(){var t=e(this).val().split(":"),n=t.length>1?t[1]:"";t=t[0];var r=i.getValue(),o=!1,c=""===t?"":a(t,n);return r=r.replace(new RegExp(s,"g"),function(){return o=!0,c}),r=r.trim(),o?(i.setValue(r),void 0):(""!==t&&(i.setValue(c+"\n"+r),i.save()),void 0)});var c;i.on("change",function(){t.clearTimeout(c),c=t.setTimeout(o,1e3)})}function i(n){function i(e,n,r){var i,o=CodeMirror.fromTextArea(e,{"electricChars":!1,"smartIndent":!1,"lineNumbers":!0,"lineWrapping":!0,"mode":n,"tabSize":2,"indentWithTabs":!1,"readOnly":!1});return o.on("change",function(){w=!0,t.clearTimeout(i),i=t.setTimeout(function(){o.save()},500)}),o.beautify=function(){o.setValue(r(o.getValue().trim(),{"indent_size":o.options.tabSize,"indent_char":" ","unformatted":["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","address","big","dt","ins","strike","tt"]}))},o}function a(e){return'<script src="https://cdnjs.cloudflare.com/ajax/libs/'+e+'/*version*/*file*"></script>'}return g?g:(g=e(q),e(g).find("#snpte-close-button").click(function(t){return StackExchange.helpers.closePopups(e(this).closest(".snippet-modal"),"esc"),t.preventDefault(),!1}),m=g.find("#snpte-jquery-select"),v=g.find("#snpte-d3-select"),b=g.find("#snpte-knockout-select"),y=g.find("#snpte-angular-select"),k=g.find("#snpte-vue-select"),$=g.find("#snpte-react-select"),S=g.find("#snpte-react-dom-select"),C=g.find("#snpte-hide-snippet"),E=g.find("#snpte-show-console"),j=g.find("#snpte-use-babel"),g.find("#snpte-button-run").click(function(){o()}),g.find("#snpte-button-tidy").click(function(){I.beautify(),_.beautify(),M.beautify()}),g.find("#snpte-button-insert").click(function(){StackExchange.helpers.closePopups(e(".snippet-modal"))}),g.find("#snpte-button-reset").click(function(){l()}),n.empty().append(g),T=g.find("#snpte-box-edit-html"),O=g.find("#snpte-box-edit-css"),A=g.find("#snpte-box-edit-js"),P=g.find("#snpte-box-edit-result"),CodeMirror.commands.insertTab=CodeMirror.commands.insertSoftTab,CodeMirror.keyMap.default["Shift-Tab"]="indentLess",CodeMirror.commands.indentAuto=function(e){e.beautify()},I=i(T[0],"htmlmixed",html_beautify),_=i(O[0],"css",css_beautify),M=i(A[0],"javascript",js_beautify),r(m,a("jquery"),I),r(v,a("d3"),I),r(b,a("knockout"),I),r(y,a("angular.js"),I),r(k,a("vue"),I),r($,function(e,t){var n=(S.find("option[value^='"+e+"']").attr("value")||"").split(":"),r=n[1]||t;return'<script src="https://cdnjs.cloudflare.com/ajax/libs/react/'+e+"/"+t+'"></script>\n<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/'+e+"/"+r+'"></script>'},I),g.find("#snpte-button-extlib").click(function(){function e(e,t){return e.length<t.length?!1:(e=e.toLowerCase(),0!=e.indexOf("https://")&&0!=e.indexOf("http://")&&0!=e.indexOf("//")?!1:e.substr(e.length-t.length,t.length).toLowerCase()==t.toLowerCase()?!0:!1)}var t=prompt("Please enter the URL of an external JS or CSS file");if(null!=t&&""!=t&&""!=t.trim()){var n=I.getValue();if(e(t,".css")){var r='<link href="'+t+'" rel="stylesheet"/>';I.setValue(r+"\n"+n)}else if(e(t,".js")){var r='<script src="'+t+'"></script>';I.setValue(r+"\n"+n)}else alert("Sorry, but that resource is invalid. Resources must begin with http:// or https:// and allowed extensions are: .css, .js")}}),e.each([I,_,M],function(t,n){n.on("focus",function(){e(n.getInputField()).parent().parent().parent().children(".-name").hide()}),n.on("blur",function(){e(n.getInputField()).parent().parent().parent().children(".-name").show()})}),void 0)}function o(){d(),f()}function a(e){var t=e.html,n=e.css,r=e.js,i=e.console,o=e.hide,a=e.babel;null!=t&&(h.html=t,T.val(t)),null!=n&&(h.css=n,O.val(n)),null!=r&&(h.js=r,A.val(r)),null!=i&&(h.console=i,i===!1&&E.prop("checked",i)),o&&(h.hide=o,C.prop("checked",!0)),a&&(h.babel=a,j.prop("checked",!0)),I.setValue(t),_.setValue(n),M.setValue(r),w=!1}function l(){T.val(""),O.val(""),A.val(""),m.val(""),v.val(""),b.val(""),y.val(""),k.val(""),$.val(""),E.prop("checked",!0),C.prop("checked",!1),j.prop("checked",!1);var e="";x&&(e="//"+x);var t=e+"/js",n=c(t,"GET",P.attr("name")).appendTo("body");n.submit(),I.setValue(""),_.setValue(""),M.setValue("")
}function d(){return h.html=T.val(),h.css=O.val(),h.js=A.val(),h.console=E.prop("checked"),h.hide=C.prop("checked"),h.babel=j.prop("checked"),h}function f(){var e=h.css,t=h.js,n=h.html,r=h.console,i=h.babel;if(""!=e||""!=t||""!=n){var o="";x&&(o="//"+x);var a=o+"/js",l=c(a,"POST",P.attr("name"));s("js",t).appendTo(l),s("css",e).appendTo(l),s("html",n).appendTo(l),u("console",""+(r===!0)).appendTo(l),u("babel",""+(i===!0)).appendTo(l),l.appendTo("body"),l.submit().remove()}}function p(){var e=w;I.refresh(),_.refresh(),M.refresh(),w=e}var h={"html":null,"css":null,"js":null,"console":!0,"hide":!1,"babel":null},g=null,m=null,v=null,b=null,y=null,k=null,$=null,S=null,C=!1,E=!0,j=null,T=null,O=null,A=null,P=null,I=null,_=null,M=null,q=null;return{"setUIInnerHtml":n,"resize":p,"writeResult":f,"save":d,"clear":l,"load":a,"run":o,"generate":i,"registerExternalLibChange":r}}function h(){function r(r){var s=null;if(v)return v;k=null,y=i(),v=!0;var c=l().append(e('<span class="icon-play-white _hover">'),e("<span>").text(" Run code snippet")).click(function(){o(),s.hide()}),u=l().addClass("hideResults btn-clear").text("Hide results").click(function(){d(),s.show()});u.hide(),StackExchange.options.isMobile||(s=n("popout-code").append(a("Expand snippet").addClass("snippet-expand-link")).click(function(){var n=k;if(n){var r=n.element;r.removeClass("expanded-snippet"),r.find(".snippet-expand-link").text("Expand snippet"),r.find(".snippet-show-link, .snippet-show-link-chevron").show();var i=n.parent,o=i.children();o.length?e(o[n.indexWithinParent]).before(r):e(i).append(r),k=null,e(".topbar, .container, .top-bar, #footer").show(),f.show(),e(t).scrollTop($)}else{$=e(t).scrollTop();var r=e(this).closest(".snippet");k={"element":r,"indexWithinParent":r.index(),"parent":r.parent()},r.addClass("expanded-snippet"),r.find(".snippet-expand-link").text("Return to post"),r.find(".snippet-show-link, .snippet-show-link-chevron").hide(),e(".topbar, .container, .top-bar, #footer").hide(),e("body").append(r),f.hide()}}));var f=e('<input class="copySnippet btn-secondary" type="button">').click(function(){var t=e("#show-editor-button"),n=e("#post-editor").find("textarea.wmd-input");if(t.is(":visible")){var r=t.offset().top;e("html").animate({"scrollTop":r-60}),e("body").animate({"scrollTop":r-60},{"complete":function(){t.children("input").click()}})}else{var i=n.offset().top;e("html, body").animate({"scrollTop":i-60})}var o=m(g);n.val(n.val()+"\n\n"+o),StackExchange.MarkdownEditor.refreshAllPreviews()});f.val("Copy snippet to answer");var p=n("snippet-ctas").append(c,f,u);StackExchange.options.isMobile||p.append(s),b=n("snippet-result-code").append(y).hide();var h=n("snippet-result").append(p,b);return r.append(h),v}function o(){y||(y=i(),b.append(y)),y.parent().is(":hidden")&&(y.closest(".snippet-result").find(".hideResults").css("display",""),y.parent().slideDown(200,function(){if(!k){var t=n("popout").append(a("Full page")),r=n("popin").append(a("Close")).hide();t.click(function(){y.data("_style",y.attr("style")),y.css({"position":"fixed","top":0,"left":0,"width":"100%","height":"100%","background-color":"#FFFFFF","z-index":9e3}),y.parent().css("position",""),e(this).hide(),r.show(),e("body").css("overflow","hidden")}),r.click(function(){y.removeAttr("style"),y.attr("style",y.data("_style")),y.parent().css("position","relative"),e(this).hide(),t.show(),e("body").css("overflow","")}),e(this).append(t,r)}})),p()}function d(){var t=y.parent();t.is(":visible")&&(y.closest(".snippet-result").find(".hideResults").hide(),t.children(".popout, .popin").remove(),t.slideUp(200,function(){e(this).hide(),y.remove(),y=null}))}function f(e){var t=e.css,n=e.js,r=e.html,i=e.console,o=e.hide,a=e.babel;null!=t&&(g.css=t),null!=n&&(g.js=n),null!=r&&(g.html=r),i&&(g.console=i),o&&(g.hide=o),a&&(g.babel=a)}function p(){var e=g.css,t=g.js,n=g.html,r=g.console,i=g.babel;if(""!=e||""!=t||""!=n){var o="";x&&(o="//"+x);var a=o+"/js",l=c(a,"POST",y.attr("name")).append(s("js",t),s("css",e),s("html",n),u("console",""+(r===!0)),u("babel",""+(i===!0)));l.appendTo("body").submit().remove()}}function h(){}var g={"html":null,"css":null,"js":null,"console":!1,"hide":!1,"babel":null},v=null,b=null,y=null,k=null;return{"resize":h,"writeResult":p,"load":f,"hide":d,"run":o,"generate":r}}function g(e,t,n){return e.replace(/^(?=.)/gm,new Array(t*n+1).join(" "))}function m(e){var t="\n\n<!-- begin snippet: js hide: "+e.hide+" console: "+e.console+" babel: "+e.babel+" -->\n\n",n=e.js,r=e.css,i=e.html;return""!=n&&(t+="<!-- language: lang-js -->\n\n"+g(n,1,4)+"\n\n"),""!=r&&(t+="<!-- language: lang-css -->\n\n"+g(r,1,4)+"\n\n"),""!=i&&(t+="<!-- language: lang-html -->\n\n"+g(i,1,4)+"\n\n"),t+="<!-- end snippet -->\n\n"}function v(e,t,n,r){var i=/<!--\s+language:\s*lang-js\s+-->([\s\S]*?)(?:<!--\s+language:|$)/gi,o=/<!--\s+language:\s*lang-css\s+-->([\s\S]*?)(?:<!--\s+language:|$)/gi,a=/<!--\s+language:\s*lang-html\s+-->([\s\S]*?)(?:<!--\s+language:|$)/gi;try{var s=i.exec(e),c=o.exec(e),u=a.exec(e),l="",d="",f="";if(s&&(l=s[1].trim().replace(/^    /gm,"")),c&&(d=c[1].trim().replace(/^    /gm,"")),u&&(f=u[1].trim().replace(/^    /gm,"")),""==l&&""==d&&""==f)return null;var p={"js":l,"css":d,"html":f,"console":n,"hide":t,"babel":r};return p}catch(h){return null}}function b(e){var t=StackExchange.snippets.renderer;if(!t)return e;var n=t,r="sandbox"in document.createElement("iframe");if(!r)return e;var i=/<!--\s+begin snippet:\s*[a-z]+\s*(?:hide:\s*([a-zA-Z]+))?\s*(?:console:\s*([a-zA-Z]+))?\s*(?:babel:\s*([a-zA-Z]+))?\s+-->([\s\S]*?)<!--\s+end snippet\s+-->/gi;return e=e.replace(i,function(e,t,r,i,o){return n(o,t,r,i)})}function y(){StackExchange.snippets.renderer&&StackExchange.snippets.redraw||(StackExchange.snippets.redraw=function(){e("div.snippet").each(function(){var t=e(this);return t.closest(".downvoted-answer").length>0?!0:(k(t),void 0)})},StackExchange.snippets.renderer=function(e,t,i,a){t=t===!0||"true"===(t||"").toLowerCase(),i=i===!0||"true"===(i||"").toLowerCase(),a=a===!0||"true"===(a||"").toLowerCase();var s=v(e,t,i,a);if(!s)return e;var c=n("snippet").data({"lang":"js","hide":t,"console":i}),u=n("snippet-code");t&&u.addClass("snippet-currently-hidden"),c.append(u);var l=s.js,p=s.css,h=s.html;l&&u.append(o("js").append(d(l))),p&&u.append(o("css").append(d(p))),h&&u.append(o("html").append(d(h)));var g=r();return f(u,{"state":s}),j[g]=c,"<pre>"+g+"</pre>"},StackExchange.snippets.redraw())}function k(t){var r=t.find(".snippet-code");0==r.length&&(r=t);var i=r.find("pre.snippet-code-js").text(),o=r.find("pre.snippet-code-css").text(),a=r.find("pre.snippet-code-html").text(),s={"js":i,"css":o,"html":a,"console":t.data("console")===!0,"hide":t.data("hide")===!0,"babel":t.data("babel")===!0};if(f(r,{"state":s}),(StackExchange.options.user.isAnonymous||0==t.parent().length||0==e("textarea#wmd-input").length||e(".popup-suggested-edit").length)&&t.find(".copySnippet").hide(),t.data("hide")===!0){r.hide(),r.addClass("snippet-currently-hidden"),t.find(".snippet-display").remove();var c=n("snippet-display").attr("style","vertical-align: center").append(e("<p>").append(e('<a class="snippet-show-link-chevron"><span class="expander-arrow-hide" style="vertical-align: middle;"></span><a class="snippet-show-link"><span class="show-hide" data-ishidden="true" style="vertical-align: middle"></span></a>')));c.find("span.show-hide").text("Show code snippet"),c.click(function(){r.toggle();var t=e(this),n=t.find(".show-hide");n.data("ishidden")===!0?(n.text("Hide code snippet"),t.find(".expander-arrow-hide").removeClass("expander-arrow-hide").addClass("expander-arrow-show"),n.data("ishidden",!1)):(n.text("Show code snippet"),t.find(".expander-arrow-show").removeClass("expander-arrow-show").addClass("expander-arrow-hide"),n.data("ishidden",!0))}),t.prepend(c)}else r.show().removeClass("snippet-currently-hidden"),t.find(".snippet-display").remove()}var $,w=!1,x=StackExchange.settings.snippets.renderDomain,S=null,C=function(){return S?e.when():e.ajax("/snippets/editor-ui",{"success":function(e){S=e}})},E=1,j={};StackExchange.snippets=function(){function t(e,t,n,r,i){function o(e,t,n){for(var r=-1,i=-1;;){if(i=t.indexOf(e,i+1),-1==i)break;(0>r||Math.abs(i-n)<Math.abs(i-r))&&(r=i)}return r}return e.replace(/<!--\s+begin snippet:\s*[a-z]+\s*(?:hide:\s*([a-zA-Z]+))?\s*(?:console:\s*([a-zA-Z]+))?\s*(?:babel:\s*([a-zA-Z]+))?\s+-->([\s\S]*?)<!--\s+end snippet\s+-->/gi,function(e,a,s,c,u,l){var d={"payload":{"code":u,"hide":"true"===(a||"").toLowerCase(),"console":"true"===(s||"").toLowerCase(),"babel":"true"===(c||"").toLowerCase()},"pos":o(e,t,l),"len":e.length};return-1===d.pos?e:(i.push(d),e+"\n\n"+n+r+"-"+(i.length-1)+"%")})}function r(){y();var r=StackExchange.MarkdownEditor&&StackExchange.externalEditor;r&&i&&(i=!1,StackExchange.externalEditor.init({"thingName":"snippet","thingFinder":t,"editLabel":"edit the above snippet","getDivContent":function(e){var t=e?v(e.code,e.hide,e.console,e.babel):null,r=n("modal auto-center snippet-modal");return f(r,{"markdownPluginMode":!0,"state":t}),r},"buttonTooltip":"JavaScript/HTML/CSS snippet","buttonImageUrl":"/content/Shared/balsamiq/wmd-mockup-button.png","onShow":function(t){var n=e(".snippet-modal"),r=function(e){var r=n.data("_snippet").save();if(e||""==r.html&&""==r.css&&""==r.js)t(null);else{var i=m(r);t(i,i)}};n.on("popupClosing",function(e){var t="esc"==e.closeTrigger;if(!t||w)return t&&!confirm("Are you sure you want to abandon any changes?")?(e.preventDefault(),void 0):(r(t),void 0)})}})),StackExchange.MarkdownEditor&&StackExchange.MarkdownEditor.creationCallbacks.add(function(t,n){var r=t.getConverter().hooks;r.chain("preConversion",b);var i=e("#wmd-preview"+n);i.on("wmdrefresh",function(){i.find("pre").each(function(){var t=e(this),n=t.text();if(j[n]){var r=j[n];delete j[n],k(r),t.replaceWith(e("<p>").append(r))}})})})}var i=!0;return{"init":r,"initSnippetRenderer":y,"makeSnippets":b}}()}(jQuery,window),StackExchange.ga=function(){function e(e){try{if(!StackExchange.options.enableLogging)return;console.log("StackExchange.ga: "+e)}catch(t){}}var t,n=0,r={},i=function(e){e.find("[data-ga]").each(function(){var e=$(this),t=e.is("form"),n=t?"submit":"click";e.on(n,function(){var n=h(e);null!==n&&(l(e,n),t&&f(e,n))})}),e.find("[data-ga-action]").each(function(){var e=$(this);e.on("change",function(){return p(e)})})},o=function(e,n,r){if(t)for(var i=0;i<t.trackingCodes.length;i++){var o=m(i,"set");e&&t.tracker(o,"campaignMedium",e),n&&t.tracker(o,"campaignName",n),r&&t.tracker(o,"campaignSource",r)}},a=function(e,n){if(t)for(var r=0;r<t.trackingCodes.length;r++)t.tracker(m(r,"set"),e,n)},s=function(e){if(t)for(var n=0;n<t.trackingCodes.length;n++)t.tracker(m(n,"set"),"page",e)},c=function(e){if(t)for(var n=0;n<t.trackingCodes.length;n++)t.tracker(m(n,"set"),"title",e)},u=function(n,r,i,o){if(e("track: category: '"+n+"', action: '"+r+"', label: '"+i+"'"),t&&null!=n&&null!=r)for(var a=0;a<t.trackingCodes.length;a++)t.sendTitles||t.tracker(m(a,"set"),"title","Channel Page"),t.tracker(m(a,"send"),"event",n,r,i,void 0,o)},l=function(e,n){t&&(void 0===n&&(n=h(e)),null!==n&&u(n.category,n.action,n.label,n.fields))},d=function(){if(t)for(var e=0;e<t.trackingCodes.length;e++)t.sendTitles||t.tracker(m(e,"set"),"title","Channel Page"),t.tracker(m(e,"send"),"pageview")},f=function(e,n){if(t&&(void 0===n&&(n=h(e)),null!==n)){var i=e.attr("id"),o=r[i];if(void 0!==o){for(var a in o){var s=n.inputActionPrefix+" | "+a,c=o[a];u(n.category,s,c,{"nonInteraction":!1})}r[i]={}}}},p=function(e){if(t){var i;i=e.is(":checkbox")?e.is(":checked"):e.is("select")?e.find(":selected").toArray().map(function(e){return $(e).data("ga-value")||$(e).val()}).join(" "):e.data("ga-value")||e.val();var o=e.closest("form");if(0!==o.length&&null!==i){var a=o.attr("id");void 0===a&&(a="ga-form-"+n++,o.attr("id",a));var s=r[a];void 0===s&&(s=r[a]={});var c=e.attr("data-ga-action"),u="false"===e.attr("data-ga-is-pii")?!1:!0,l=u?"PII Omitted":i;s[c]=l}}},h=function(e){var t=e.data("ga");return void 0===t?null:{"category":t[0],"action":t[1],"label":t[2],"inputActionPrefix":t[3],"fields":t[4]}},g=function(e){return"tracker_"+e},m=function(e,t){if(0==e)return t;var n=g(e);return n+"."+t};return{"init":function(e){if(e&&e.tracker&&e.trackingCodes&&0!==e.trackingCodes.length){t=e;var n={},r="auto";window.location.host.indexOf("stackexchange.com")>=0&&(r="stackexchange.com"),StackExchange.options.user.accountId&&(n.userId=StackExchange.options.user.accountId.toString()),t.tracker("create",e.trackingCodes[0],r,n),t.tracker("set","transport","beacon");for(var o=1;o<e.trackingCodes.length;o++)t.tracker("create",e.trackingCodes[o],r,g(o),n);i($(document)),StackExchange.gaInitialized.resolve()}},"bindHandlers":i,"setCampaign":o,"setDimension":a,"setTitle":c,"setUrl":s,"track":u,"trackElement":l,"trackFormInputs":f,"trackPageView":d,"recordInputChange":p}}();var Svg=function(){function e(){}return e.GetImage=function(){return e._placeholder||(e._placeholder=function(){throw"Svg icon getters must be initialized before an icon can be retrieved"},e._placeholder.With=e._placeholder),e._placeholder},e.init=function(t,n){function r(t){var n=function(){return e.get(t)};return n.With=function(n){var r=e.get(t);return r.addClass(n),r},n}"/"!==t[t.length-1]&&(t+="/"),e.rootPath=t,e.cacheBreaker=n;var i=[];for(var o in e)e.hasOwnProperty(o)&&e[o]===e._placeholder&&i.push(o);for(var a=0;a<i.length;a++)e[i[a]]=r(i[a])},e.ensureCSS=function(){if(!e.cssAdded){var t=document.createElement("style");t.setAttribute("type","text/css"),t.textContent=".svg-skeleton-element-during-loading { display: none !important; }",document.head&&(document.head.appendChild(t),e.cssAdded=!0)}},e.get=function(t){e.ensureCSS();var n,r=e.cache[t];if("string"==typeof r){var i=document.createElement("div");i.innerHTML=r;var o=i.children[0];return i.removeChild(o),$(o)}r&&r.done?n=r:(n=$.ajax({"url":e.rootPath+t+".svg","data":{"v":e.cacheBreaker},"cache":!0,"dataType":"text"}),e.cache[t]=n);var a=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=$(a);return s.addClass("svg-skeleton-element-during-loading"),n.done(function(n){n=n||"",e.cache[t]=n;for(var r=$("<div>"+n+"</div>"),i=r.children()[0];i.attributes.length;){var o=i.attributes[0];if(i.removeAttributeNode(o),"class"===o.name)s.addClass(o.value);else{var c=o.namespaceURI?a.hasAttributeNS(o.namespaceURI,o.name):a.hasAttribute(o.name);c||a.setAttributeNodeNS(o)}}for(;i.childNodes.length;){var u=i.childNodes[0];i.removeChild(u),a.appendChild(u)}s.removeClass("svg-skeleton-element-during-loading")}),s},e.Alert=e.GetImage(),e.AlertCircle=e.GetImage(),e.AlertSm=e.GetImage(),e.AchievementsSm=e.GetImage(),e.Checkmark=e.GetImage(),e.ClearSm=e.GetImage(),e.ShareSm=e.GetImage(),e.TrendingUp=e.GetImage(),e.TrendingDown=e.GetImage(),e.TrendingNone=e.GetImage(),e.UndoSm=e.GetImage(),e.cache=Object.create(null),e.cssAdded=!1,e}();$(document).on("click",".js-feed-link",function(e){var t=$(this),n=t.siblings(".js-feed-link-modal").clone();n.length>0&&(e.preventDefault(),StackExchange.helpers.showModal(n,{"returnElements":t,"shown":function(){n.find(".s-input").focus().select()}}))}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.Stimulus={})}(this,function(e){function t(e){if("immediatePropagationStopped"in e)return e;var t=e.stopImmediatePropagation;return Object.assign(e,{"immediatePropagationStopped":!1,"stopImmediatePropagation":function(){this.immediatePropagationStopped=!0,t.call(this)}})}function n(e){var t=e.trim(),n=t.match(j)||[];return{"eventTarget":r(n[4]),"eventName":n[2],"identifier":n[5],"methodName":n[7]}}function r(e){return"window"==e?window:"document"==e?document:void 0}function i(e){return e==window?"window":e==document?"document":void 0}function o(e){var t=e.tagName.toLowerCase();return t in O?O[t](e):void 0}function a(e){throw new Error(e)}function s(e,t,n){u(e,t).add(n)}function c(e,t,n){u(e,t).delete(n),l(e,t)}function u(e,t){var n=e.get(t);return n||(n=new Set,e.set(t,n)),n}function l(e,t){var n=e.get(t);null!=n&&0==n.size&&e.delete(t)}function d(e,t,n){return e.trim().split(/\s+/).filter(function(e){return e.length}).map(function(e,r){return{"element":t,"attributeName":n,"content":e,"index":r}})}function f(e,t){var n=Math.max(e.length,t.length);return Array.from({"length":n},function(n,r){return[e[r],t[r]]})}function p(e,t){return e&&t&&e.index==t.index&&e.content==t.content}function h(e){return{"identifier":e.identifier,"controllerConstructor":g(e.controllerConstructor)}}function g(e){var t=U(e);return t.bless(),t}function m(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}function v(e,t){return"["+e+'~="'+t+'"]'}function b(){return new Promise(function(e){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e):e()})}function y(e){var t=e.prototype,n=k(e);n.forEach(function(e){var n;return x(t,(n={},n[e+"Target"]={"get":function(){var t=this.targets.find(e);if(t)return t;throw new Error('Missing target element "'+this.identifier+"."+e+'"')}},n[e+"Targets"]={"get":function(){return this.targets.findAll(e)}},n["has"+S(e)+"Target"]={"get":function(){return this.targets.has(e)}},n))})}function k(e){var t=$(e);return Array.from(t.reduce(function(e,t){return w(t).forEach(function(t){return e.add(t)}),e},new Set))}function $(e){for(var t=[];e;)t.push(e),e=Object.getPrototypeOf(e);return t}function w(e){var t=e.targets;return Array.isArray(t)?t:[]}function x(e,t){Object.keys(t).forEach(function(n){if(!(n in e)){var r=t[n];Object.defineProperty(e,n,r)}})}function S(e){return e.charAt(0).toUpperCase()+e.slice(1)}var C=function(){function e(e,t){this.eventTarget=e,this.eventName=t,this.unorderedBindings=new Set}return e.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,!1)},e.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,!1)},e.prototype.bindingConnected=function(e){this.unorderedBindings.add(e)},e.prototype.bindingDisconnected=function(e){this.unorderedBindings.delete(e)},e.prototype.handleEvent=function(e){for(var n=t(e),r=0,i=this.bindings;r<i.length;r++){var o=i[r];if(n.immediatePropagationStopped)break;o.handleEvent(n)}},Object.defineProperty(e.prototype,"bindings",{"get":function(){return Array.from(this.unorderedBindings).sort(function(e,t){var n=e.index,r=t.index;return r>n?-1:n>r?1:0})},"enumerable":!0,"configurable":!0}),e}(),E=function(){function e(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}return e.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach(function(e){return e.connect()}))},e.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach(function(e){return e.disconnect()}))},Object.defineProperty(e.prototype,"eventListeners",{"get":function(){return Array.from(this.eventListenerMaps.values()).reduce(function(e,t){return e.concat(Array.from(t.values()))},[])},"enumerable":!0,"configurable":!0}),e.prototype.bindingConnected=function(e){this.fetchEventListenerForBinding(e).bindingConnected(e)},e.prototype.bindingDisconnected=function(e){this.fetchEventListenerForBinding(e).bindingDisconnected(e)},e.prototype.handleError=function(e,t,n){void 0===n&&(n={}),this.application.handleError(e,"Error "+t,n)},e.prototype.fetchEventListenerForBinding=function(e){var t=e.eventTarget,n=e.eventName;return this.fetchEventListener(t,n)},e.prototype.fetchEventListener=function(e,t){var n=this.fetchEventListenerMapForEventTarget(e),r=n.get(t);return r||(r=this.createEventListener(e,t),n.set(t,r)),r},e.prototype.createEventListener=function(e,t){var n=new C(e,t);return this.started&&n.connect(),n},e.prototype.fetchEventListenerMapForEventTarget=function(e){var t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t},e}(),j=/^((.+?)(@(window|document))?->)?(.+?)(#(.+))?$/,T=function(){function e(e,t,n){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||o(e)||a("missing event name"),this.identifier=n.identifier||a("missing identifier"),this.methodName=n.methodName||a("missing method name")}return e.forToken=function(e){return new this(e.element,e.index,n(e.content))},e.prototype.toString=function(){var e=this.eventTargetName?"@"+this.eventTargetName:"";return""+this.eventName+e+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(e.prototype,"eventTargetName",{"get":function(){return i(this.eventTarget)},"enumerable":!0,"configurable":!0}),e}(),O={"a":function(){return"click"},"button":function(){return"click"},"form":function(){return"submit"},"input":function(e){return"submit"==e.getAttribute("type")?"click":"change"},"select":function(){return"change"},"textarea":function(){return"change"}},A=function(){function e(e,t){this.context=e,this.action=t}return Object.defineProperty(e.prototype,"index",{"get":function(){return this.action.index},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"eventTarget",{"get":function(){return this.action.eventTarget},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.context.identifier},"enumerable":!0,"configurable":!0}),e.prototype.handleEvent=function(e){this.willBeInvokedByEvent(e)&&this.invokeWithEvent(e)},Object.defineProperty(e.prototype,"eventName",{"get":function(){return this.action.eventName},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"method",{"get":function(){var e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},"enumerable":!0,"configurable":!0}),e.prototype.invokeWithEvent=function(e){try{this.method.call(this.controller,e)}catch(t){var n=this,r=n.identifier,i=n.controller,o=n.element,a=n.index,s={"identifier":r,"controller":i,"element":o,"index":a,"event":e};this.context.handleError(t,'invoking action "'+this.action+'"',s)}},e.prototype.willBeInvokedByEvent=function(e){var t=e.target;return this.element===t?!0:t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):!0},Object.defineProperty(e.prototype,"controller",{"get":function(){return this.context.controller},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"methodName",{"get":function(){return this.action.methodName},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"element",{"get":function(){return this.scope.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"scope",{"get":function(){return this.context.scope},"enumerable":!0,"configurable":!0}),e}(),P=function(){function e(e,t){var n=this;this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(function(e){return n.processMutations(e)})}return e.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{"attributes":!0,"childList":!0,"subtree":!0}),this.refresh())},e.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},e.prototype.refresh=function(){if(this.started){for(var e=new Set(this.matchElementsInTree()),t=0,n=Array.from(this.elements);t<n.length;t++){var r=n[t];e.has(r)||this.removeElement(r)}for(var i=0,o=Array.from(e);i<o.length;i++){var r=o[i];this.addElement(r)}}},e.prototype.processMutations=function(e){if(this.started)for(var t=0,n=e;t<n.length;t++){var r=n[t];this.processMutation(r)}},e.prototype.processMutation=function(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))},e.prototype.processAttributeChange=function(e,t){var n=e;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,t):this.removeElement(n):this.matchElement(n)&&this.addElement(n)},e.prototype.processRemovedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var r=n[t],i=this.elementFromNode(r);i&&this.processTree(i,this.removeElement)}},e.prototype.processAddedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var r=n[t],i=this.elementFromNode(r);i&&this.elementIsActive(i)&&this.processTree(i,this.addElement)}},e.prototype.matchElement=function(e){return this.delegate.matchElement(e)},e.prototype.matchElementsInTree=function(e){return void 0===e&&(e=this.element),this.delegate.matchElementsInTree(e)},e.prototype.processTree=function(e,t){for(var n=0,r=this.matchElementsInTree(e);n<r.length;n++){var i=r[n];t.call(this,i)}},e.prototype.elementFromNode=function(e){return e.nodeType==Node.ELEMENT_NODE?e:void 0},e.prototype.elementIsActive=function(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)},e.prototype.addElement=function(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))},e.prototype.removeElement=function(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))},e}(),I=function(){function e(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new P(e,this)}return Object.defineProperty(e.prototype,"element",{"get":function(){return this.elementObserver.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"selector",{"get":function(){return"["+this.attributeName+"]"},"enumerable":!0,"configurable":!0}),e.prototype.start=function(){this.elementObserver.start()},e.prototype.stop=function(){this.elementObserver.stop()},e.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(e.prototype,"started",{"get":function(){return this.elementObserver.started},"enumerable":!0,"configurable":!0}),e.prototype.matchElement=function(e){return e.hasAttribute(this.attributeName)},e.prototype.matchElementsInTree=function(e){var t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)},e.prototype.elementMatched=function(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)},e.prototype.elementUnmatched=function(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)},e.prototype.elementAttributeChanged=function(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)},e}(),_=function(){function e(){this.valuesByKey=new Map}return Object.defineProperty(e.prototype,"values",{"get":function(){var e=Array.from(this.valuesByKey.values());return e.reduce(function(e,t){return e.concat(Array.from(t))},[])},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"size",{"get":function(){var e=Array.from(this.valuesByKey.values());return e.reduce(function(e,t){return e+t.size},0)},"enumerable":!0,"configurable":!0}),e.prototype.add=function(e,t){s(this.valuesByKey,e,t)},e.prototype.delete=function(e,t){c(this.valuesByKey,e,t)},e.prototype.has=function(e,t){var n=this.valuesByKey.get(e);return null!=n&&n.has(t)},e.prototype.hasKey=function(e){return this.valuesByKey.has(e)},e.prototype.hasValue=function(e){var t=Array.from(this.valuesByKey.values());return t.some(function(t){return t.has(e)})},e.prototype.getValuesForKey=function(e){var t=this.valuesByKey.get(e);return t?Array.from(t):[]},e.prototype.getKeysForValue=function(e){return Array.from(this.valuesByKey).filter(function(t){var n=(t[0],t[1]);return n.has(e)}).map(function(e){{var t=e[0];e[1]}return t})},e}(),M=void 0||function(){var e=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=(function(e){function t(){var t=e.call(this)||this;return t.keysByValue=new Map,t}return M(t,e),Object.defineProperty(t.prototype,"values",{"get":function(){return Array.from(this.keysByValue.keys())},"enumerable":!0,"configurable":!0}),t.prototype.add=function(t,n){e.prototype.add.call(this,t,n),s(this.keysByValue,n,t)},t.prototype.delete=function(t,n){e.prototype.delete.call(this,t,n),c(this.keysByValue,n,t)},t.prototype.hasValue=function(e){return this.keysByValue.has(e)},t.prototype.getKeysForValue=function(e){var t=this.keysByValue.get(e);return t?Array.from(t):[]},t}(_),function(){function e(e,t,n){this.attributeObserver=new I(e,t,this),this.delegate=n,this.tokensByElement=new _}return Object.defineProperty(e.prototype,"started",{"get":function(){return this.attributeObserver.started},"enumerable":!0,"configurable":!0}),e.prototype.start=function(){this.attributeObserver.start()},e.prototype.stop=function(){this.attributeObserver.stop()},e.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(e.prototype,"element",{"get":function(){return this.attributeObserver.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"attributeName",{"get":function(){return this.attributeObserver.attributeName},"enumerable":!0,"configurable":!0}),e.prototype.elementMatchedAttribute=function(e){this.tokensMatched(this.readTokensForElement(e))},e.prototype.elementAttributeValueChanged=function(e){var t=this.refreshTokensForElement(e),n=t[0],r=t[1];this.tokensUnmatched(n),this.tokensMatched(r)},e.prototype.elementUnmatchedAttribute=function(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))},e.prototype.tokensMatched=function(e){var t=this;e.forEach(function(e){return t.tokenMatched(e)})},e.prototype.tokensUnmatched=function(e){var t=this;e.forEach(function(e){return t.tokenUnmatched(e)})},e.prototype.tokenMatched=function(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)},e.prototype.tokenUnmatched=function(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)},e.prototype.refreshTokensForElement=function(e){var t=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),r=f(t,n).findIndex(function(e){var t=e[0],n=e[1];return!p(t,n)});return-1==r?[[],[]]:[t.slice(r),n.slice(r)]},e.prototype.readTokensForElement=function(e){var t=this.attributeName,n=e.getAttribute(t)||"";return d(n,e,t)},e}()),D=function(){function e(e,t,n){this.tokenListObserver=new q(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}return Object.defineProperty(e.prototype,"started",{"get":function(){return this.tokenListObserver.started},"enumerable":!0,"configurable":!0}),e.prototype.start=function(){this.tokenListObserver.start()},e.prototype.stop=function(){this.tokenListObserver.stop()},e.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(e.prototype,"element",{"get":function(){return this.tokenListObserver.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"attributeName",{"get":function(){return this.tokenListObserver.attributeName},"enumerable":!0,"configurable":!0}),e.prototype.tokenMatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))},e.prototype.tokenUnmatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,n))},e.prototype.fetchParseResultForToken=function(e){var t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t},e.prototype.fetchValuesByTokenForElement=function(e){var t=this.valuesByTokenByElement.get(e);
return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t},e.prototype.parseToken=function(e){try{var t=this.delegate.parseValueForToken(e);return{"value":t}}catch(n){return{"error":n}}},e}(),N=function(){function e(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}return e.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new D(this.element,this.actionAttribute,this),this.valueListObserver.start())},e.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(e.prototype,"element",{"get":function(){return this.context.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.context.identifier},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"actionAttribute",{"get":function(){return this.schema.actionAttribute},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"schema",{"get":function(){return this.context.schema},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"bindings",{"get":function(){return Array.from(this.bindingsByAction.values())},"enumerable":!0,"configurable":!0}),e.prototype.connectAction=function(e){var t=new A(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)},e.prototype.disconnectAction=function(e){var t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))},e.prototype.disconnectAllActions=function(){var e=this;this.bindings.forEach(function(t){return e.delegate.bindingDisconnected(t)}),this.bindingsByAction.clear()},e.prototype.parseValueForToken=function(e){var t=T.forToken(e);return t.identifier==this.identifier?t:void 0},e.prototype.elementMatchedValue=function(e,t){this.connectAction(t)},e.prototype.elementUnmatchedValue=function(e,t){this.disconnectAction(t)},e}(),L=function(){function e(e,t){this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new N(this,this.dispatcher);try{this.controller.initialize()}catch(n){this.handleError(n,"initializing controller")}}return e.prototype.connect=function(){this.bindingObserver.start();try{this.controller.connect()}catch(e){this.handleError(e,"connecting controller")}},e.prototype.disconnect=function(){try{this.controller.disconnect()}catch(e){this.handleError(e,"disconnecting controller")}this.bindingObserver.stop()},Object.defineProperty(e.prototype,"application",{"get":function(){return this.module.application},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.module.identifier},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"schema",{"get":function(){return this.application.schema},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"dispatcher",{"get":function(){return this.application.dispatcher},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"element",{"get":function(){return this.scope.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"parentElement",{"get":function(){return this.element.parentElement},"enumerable":!0,"configurable":!0}),e.prototype.handleError=function(e,t,n){void 0===n&&(n={});var r=this,i=r.identifier,o=r.controller,a=r.element;n=Object.assign({"identifier":i,"controller":o,"element":a},n),this.application.handleError(e,"Error "+t,n)},e}(),F=void 0||function(){var e=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),U=function(){function e(e){function t(){var n=this&&this instanceof t?this.constructor:void 0;return Reflect.construct(e,arguments,n)}return t.prototype=Object.create(e.prototype,{"constructor":{"value":t}}),Reflect.setPrototypeOf(t,e),t}function t(){var t=function(){this.a.call(this)},n=e(t);return n.prototype.a=function(){},new n}try{return t(),e}catch(n){return function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return F(t,e),t}(e)}}}(),R=function(){function e(e,t){this.application=e,this.definition=h(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}return Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.definition.identifier},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"controllerConstructor",{"get":function(){return this.definition.controllerConstructor},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"contexts",{"get":function(){return Array.from(this.connectedContexts)},"enumerable":!0,"configurable":!0}),e.prototype.connectContextForScope=function(e){var t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()},e.prototype.disconnectContextForScope=function(e){var t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())},e.prototype.fetchContextForScope=function(e){var t=this.contextsByScope.get(e);return t||(t=new L(this,e),this.contextsByScope.set(e,t)),t},e}(),B=function(){function e(e){this.scope=e}return Object.defineProperty(e.prototype,"element",{"get":function(){return this.scope.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.scope.identifier},"enumerable":!0,"configurable":!0}),e.prototype.get=function(e){return e=this.getFormattedKey(e),this.element.getAttribute(e)},e.prototype.set=function(e,t){return e=this.getFormattedKey(e),this.element.setAttribute(e,t),this.get(e)},e.prototype.has=function(e){return e=this.getFormattedKey(e),this.element.hasAttribute(e)},e.prototype.delete=function(e){return this.has(e)?(e=this.getFormattedKey(e),this.element.removeAttribute(e),!0):!1},e.prototype.getFormattedKey=function(e){return"data-"+this.identifier+"-"+m(e)},e}(),V=function(){function e(e){this.scope=e}return Object.defineProperty(e.prototype,"element",{"get":function(){return this.scope.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.scope.identifier},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"schema",{"get":function(){return this.scope.schema},"enumerable":!0,"configurable":!0}),e.prototype.has=function(e){return null!=this.find(e)},e.prototype.find=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getSelectorForTargetNames(e);return this.scope.findElement(n)},e.prototype.findAll=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getSelectorForTargetNames(e);return this.scope.findAllElements(n)},e.prototype.getSelectorForTargetNames=function(e){var t=this;return e.map(function(e){return t.getSelectorForTargetName(e)}).join(", ")},e.prototype.getSelectorForTargetName=function(e){var t=this.identifier+"."+e;return v(this.schema.targetAttribute,t)},e}(),W=function(){function e(e,t,n){this.schema=e,this.identifier=t,this.element=n,this.targets=new V(this),this.data=new B(this)}return e.prototype.findElement=function(e){return this.findAllElements(e)[0]},e.prototype.findAllElements=function(e){var t=this.element.matches(e)?[this.element]:[],n=this.filterElements(Array.from(this.element.querySelectorAll(e)));return t.concat(n)},e.prototype.filterElements=function(e){var t=this;return e.filter(function(e){return t.containsElement(e)})},e.prototype.containsElement=function(e){return e.closest(this.controllerSelector)===this.element},Object.defineProperty(e.prototype,"controllerSelector",{"get":function(){return v(this.schema.controllerAttribute,this.identifier)},"enumerable":!0,"configurable":!0}),e}(),z=function(){function e(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new D(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}return e.prototype.start=function(){this.valueListObserver.start()},e.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(e.prototype,"controllerAttribute",{"get":function(){return this.schema.controllerAttribute},"enumerable":!0,"configurable":!0}),e.prototype.parseValueForToken=function(e){var t=e.element,n=e.content,r=this.fetchScopesByIdentifierForElement(t),i=r.get(n);return i||(i=new W(this.schema,n,t),r.set(n,i)),i},e.prototype.elementMatchedValue=function(e,t){var n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),1==n&&this.delegate.scopeConnected(t)},e.prototype.elementUnmatchedValue=function(e,t){var n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),1==n&&this.delegate.scopeDisconnected(t))},e.prototype.fetchScopesByIdentifierForElement=function(e){var t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t},e}(),H=function(){function e(e){this.application=e,this.scopeObserver=new z(this.element,this.schema,this),this.scopesByIdentifier=new _,this.modulesByIdentifier=new Map}return Object.defineProperty(e.prototype,"element",{"get":function(){return this.application.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"schema",{"get":function(){return this.application.schema},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"controllerAttribute",{"get":function(){return this.schema.controllerAttribute},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"modules",{"get":function(){return Array.from(this.modulesByIdentifier.values())},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"contexts",{"get":function(){return this.modules.reduce(function(e,t){return e.concat(t.contexts)},[])},"enumerable":!0,"configurable":!0}),e.prototype.start=function(){this.scopeObserver.start()},e.prototype.stop=function(){this.scopeObserver.stop()},e.prototype.loadDefinition=function(e){this.unloadIdentifier(e.identifier);var t=new R(this.application,e);this.connectModule(t)},e.prototype.unloadIdentifier=function(e){var t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)},e.prototype.getContextForElementAndIdentifier=function(e,t){var n=this.modulesByIdentifier.get(t);return n?n.contexts.find(function(t){return t.element==e}):void 0},e.prototype.handleError=function(e,t,n){this.application.handleError(e,t,n)},e.prototype.scopeConnected=function(e){this.scopesByIdentifier.add(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)},e.prototype.scopeDisconnected=function(e){this.scopesByIdentifier.delete(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)},e.prototype.connectModule=function(e){this.modulesByIdentifier.set(e.identifier,e);var t=this.scopesByIdentifier.getValuesForKey(e.identifier);t.forEach(function(t){return e.connectContextForScope(t)})},e.prototype.disconnectModule=function(e){this.modulesByIdentifier.delete(e.identifier);var t=this.scopesByIdentifier.getValuesForKey(e.identifier);t.forEach(function(t){return e.disconnectContextForScope(t)})},e}(),G={"controllerAttribute":"data-controller","actionAttribute":"data-action","targetAttribute":"data-target"},J=void 0||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r["throw"](e))}catch(t){o(t)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},K=void 0||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{"value":n[1],"done":!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(r){n=[6,r],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{"value":n[0]?n[1]:void 0,"done":!0}}var i,o,a,s,c={"label":0,"sent":function(){if(1&a[0])throw a[1];return a[1]},"trys":[],"ops":[]};return s={"next":n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},Q=function(){function e(e,t){void 0===e&&(e=document.documentElement),void 0===t&&(t=G),this.element=e,this.schema=t,this.dispatcher=new E(this),this.router=new H(this)}return e.start=function(t,n){var r=new e(t,n);return r.start(),r},e.prototype.start=function(){return J(this,void 0,void 0,function(){return K(this,function(e){switch(e.label){case 0:return[4,b()];case 1:return e.sent(),this.router.start(),this.dispatcher.start(),[2]}})})},e.prototype.stop=function(){this.router.stop(),this.dispatcher.stop()},e.prototype.register=function(e,t){this.load({"identifier":e,"controllerConstructor":t})},e.prototype.load=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=Array.isArray(e)?e:[e].concat(n);i.forEach(function(e){return t.router.loadDefinition(e)})},e.prototype.unload=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=Array.isArray(e)?e:[e].concat(n);i.forEach(function(e){return t.router.unloadIdentifier(e)})},Object.defineProperty(e.prototype,"controllers",{"get":function(){return this.router.contexts.map(function(e){return e.controller})},"enumerable":!0,"configurable":!0}),e.prototype.getControllerForElementAndIdentifier=function(e,t){var n=this.router.getContextForElementAndIdentifier(e,t);return n?n.controller:null},e.prototype.handleError=function(e,t,n){console.error("%s\n\n%o\n\n%o",t,e,n)},e}(),Y=function(){function e(e){this.context=e}return e.bless=function(){y(this)},Object.defineProperty(e.prototype,"application",{"get":function(){return this.context.application},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"scope",{"get":function(){return this.context.scope},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"element",{"get":function(){return this.scope.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.scope.identifier},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"targets",{"get":function(){return this.scope.targets},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"data",{"get":function(){return this.scope.data},"enumerable":!0,"configurable":!0}),e.prototype.initialize=function(){},e.prototype.connect=function(){},e.prototype.disconnect=function(){},e.targets=[],e}();e.Application=Q,e.Context=L,e.Controller=Y,e.defaultSchema=G,Object.defineProperty(e,"__esModule",{"value":!0})}),function(){function e(){Stimulus.Controller.apply(this,arguments)}function t(t,n){var r=function(){e.apply(this,arguments)};r.prototype=Object.create(e.prototype,{"constructor":{"value":r,"enumerable":!1,"writable":!0}}),Object.setPrototypeOf(r,e);var i;for(var o in n)n.hasOwnProperty(o)&&("targets"===o?(i=n[o],Object.defineProperty(r,"targets",{"get":function(){return i},"enumerable":!1})):Object.defineProperty(r.prototype,o,Object.getOwnPropertyDescriptor(n,o)));return r}window.Stacks=window.Stacks||Object.create(null),Stacks._initializing=!0;var n=Stacks.stimulusApplication=Stimulus.Application.start();Stacks.controllers=Object.create(null),e.prototype=Object.create(Stimulus.Controller.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0}}),e.prototype.getElementData=function(e,t){return e.getAttribute("data-"+this.identifier+"-"+t)},e.prototype.setElementData=function(e,t,n){e.setAttribute("data-"+this.identifier+"-"+t,n)},e.prototype.removeElementData=function(e,t){e.removeAttribute("data-"+this.identifier+"-"+t)},e.prototype.triggerEvent=function(e,t,n){var r,i=this.identifier+":"+e;try{r=new CustomEvent(i,{"bubbles":!0,"detail":t})}catch(o){r=document.createEvent("CustomEvent"),r.initCustomEvent(i,!0,!0,t)}(n||this.element).dispatchEvent(r)},Object.setPrototypeOf(e,Stimulus.Controller),Stacks.addController=function(e,r){var i=/^s-/.test(e);if(Stacks._initializing&&!i)throw'Stacks-created Stimulus controller names must start with "s-".';if(!Stacks._initializing&&i)throw'The "s-" prefix on Stimulus controller names is reserved for Stacks-created controllers.';var o=t(e,r);n.register(e,o),Stacks._initializing&&(Stacks.controllers[e]=o)}}(),function(){function e(e){"INPUT"===e.target.nodeName&&"radio"===e.target.type&&document.querySelectorAll('input[type="radio"][name="'+e.target.name+'"]').forEach(function(t){if(t!==e.target){var r;try{r=new Event(n)}catch(i){r=document.createEvent("Event"),r.initEvent(n,!0,!0)}t.dispatchEvent(r)}})}function t(t){t?(r++,1===r&&document.body.addEventListener("change",e)):(r--,0===r&&document.body.removeEventListener("change",e))}var n="s-expandable-control:radio-off",r=0;Stacks.addController("s-expandable-control",{"initialize":function(){"INPUT"===this.element.nodeName&&["radio","checkbox"].indexOf(this.element.type)>=0?(this.isCollapsed=this._isCollapsedForCheckable,this.events=["change",n],this.isCheckable=!0,this.isRadio="radio"===this.element.type):(this.isCollapsed=this._isCollapsedForClickable,this.events=["click","keydown"]),this.listener=this.listener.bind(this)},"_isCollapsedForClickable":function(){var e=this.controlledCollapsible;return e?!e.classList.contains("is-expanded"):"false"===this.element.getAttribute("aria-expanded")},"_isCollapsedForCheckable":function(){return!this.element.checked},get controlledCollapsible(){return document.getElementById(this.element.getAttribute("aria-controls"))},"_dispatchShowHideEvent":function(e){this.triggerEvent(e?"show":"hide")},"_toggleClass":function(e){if(this.data.has("toggle-class")){var t=this.element.classList;this.data.get("toggle-class").split(/\s+/).forEach(function(n){t.toggle(n,!!e)})}},"listener":function(e){var t;if(this.isCheckable)t=!this.element.checked;else{if("keydown"==e.type&&13!=e.keyCode&&32!=e.keyCode)return;if(e.target!==e.currentTarget&&["A","BUTTON"].indexOf(e.target.nodeName)>=0)return;t="true"===this.element.getAttribute("aria-expanded"),e.preventDefault(),"click"===e.type&&this.element.blur()}this.element.setAttribute("aria-expanded",t?"false":"true"),this.controlledCollapsible.classList.toggle("is-expanded",!t),this._dispatchShowHideEvent(!t),this._toggleClass(!t)},"connect":function(){if(this.events.forEach(function(e){this.element.addEventListener(e,this.listener)},this),this.isRadio&&t(!0),this.element.setAttribute("aria-expanded",this.isCollapsed()?"false":"true"),this.isCheckable){var e=this.controlledCollapsible;if(e){var n=!this.isCollapsed(),r=e.classList.contains("is-expanded");n!==r&&(e.classList.toggle("is-expanded",n),this._dispatchShowHideEvent(n),this._toggleClass(n))}}},"disconnect":function(){this.events.forEach(function(e){this.element.removeEventListener(e,this.listener)},this),this.isRadio&&t(!1)}})}(),function(){function e(e){return n(e)}function t(e){return n(e.parentElement.parentElement,e)}function n(e,t){for(var n=[],r=e.children[0],i=[],o=[];r||o.some(function(e){return e});){var a=[];n.push(a);var s=0;if(r)for(var c=0;c<r.children.length;c++){for(;o[s];)o[s]--,a[s]=i[s],s++;var u=r.children[c];if("none"!==getComputedStyle(u).display){if(u===t)return s;for(var l=s+u.colSpan;l>s;s++)o[s]=u.rowSpan-1,i[s]=u,a[s]=u}}for(;s<i.length;)o[s]&&(o[s]--,a[s]=i[s]),s++;r&&(r=r.nextElementSibling)}return t?-1:n}Stacks.addController("s-table",{"targets":["column"],"setCurrentSort":function(e,t){if(["asc","desc","none"].indexOf(t)<0)throw"direction must be one of asc, desc, or none";var n=this;this.columnTargets.forEach(function(r){var i=r===e;r.classList.toggle("is-sorted",i&&"none"!==t),r.querySelectorAll(".js-sorting-indicator").forEach(function(e){var n=i?t:"none";e.classList.toggle("d-none",!e.classList.contains("js-sorting-indicator-"+n))}),i&&"none"!==t?n.setElementData(r,"sort-direction",t):n.removeElementData(r,"sort-direction")})},"sort":function(n){var r=this,i=n.currentTarget,o=this.element,a=o.tBodies[0],s=t(i);if(!(0>s)){var c,u=e(a),l="asc"===this.getElementData(i,"sort-direction")?-1:1,d=Array.from(o.tBodies[0].rows),f=!1,p=[];d.forEach(function(e,t){var n=r.getElementData(e,"sort-to");if("top"!==n){if("bottom"===n)return c||(c=e),void 0;var i=u[t][s];if(!i)return p.push(["",t]),void 0;var o=r.getElementData(i,"sort-val"),a="string"==typeof o?o:i.textContent.trim();""!==a&&parseInt(a,10)+""!==a&&(f=!0),p.push([a,t])}}),f||p.forEach(function(e){e[0]=""===e[0]?Number.MIN_VALUE:parseInt(e[0],10)}),p.sort(function(e,t){return e[0]>t[0]?1*l:e[0]<t[0]?-1*l:e[1]>t[1]?1:-1}),p.forEach(function(e){var t=d[e[1]];t.parentElement.removeChild(t),c?a.insertBefore(t,c):a.appendChild(t)}),this.setCurrentSort(i,1===l?"asc":"desc")}}})}(),function(){delete Stacks._initializing}(),function(){var e,t,n,r=function(){e=t=null,$("body").removeClass("c-move")};Stacks.addController("se-draggable",{"targets":["handle"],"connect":function(){if(!StackExchange.options.isMobile&&this.hasHandleTarget){var i=$(this.element),o=$(this.handleTarget);o.hasClass("c-move")||o.addClass("c-move"),o.unbind("mousedown").bind("mousedown",function(n){i.css({"minWidth":i.outerWidth()});var r=i.offset();t={"x":r.left-n.pageX,"y":r.top-n.pageY},e=i;var o=e.offset();e.offset(o).offset(o),$("body").addClass("c-move"),n.preventDefault()}),n||(n=!0,$(document).on("mousemove",function(n){if(e){e.removeClass("responsively-horizontally-centered-legacy-popup");var r=n.pageY+t.y,i=n.pageX+t.x;e.offset({"top":r,"left":i})}}).on("keypress",r).on("mouseup",r))}}})}(),function(){var e=8,t=4,n=12,r=n+e,i="is-visible",o=".s-modal:not([aria-hidden=false]), .s-toast:not([aria-hidden=false])",a=0;Stacks.addController("se-popover",{"initialize":function(){this.eventSuffix=".se-popover-"+a++,this.visibleEventsBound=!1},get $source(){return $(this.element)},get $popover(){return $("#"+$(this.element).attr("aria-controls"))},get isVisible(){return this.$popover.hasClass(i)},"_updateAria":function(){this.$source.attr("aria-expanded",this.isVisible?"true":"false")},"_reposition":function(){function n(){var e=$.map(arguments,function(e){return".s-popover--arrow__"+e}).join(",");return 1===o.find(e).length}var i,o=this.$popover,a=this.$source,s=a.position(),c=s.left,u=s.top,l=c+a.outerWidth(),d=u+a.outerHeight(),f=(c+l)/2,p=(u+d)/2,h=o.outerHeight(),g=o.outerWidth();n("tl","bl")?i=f-r:n("tc","bc")?i=f-g/2:n("tr","br")?i=f-g+r:n("lt","lc","lb")?i=l+(e+t):n("rt","rc","rb")&&(i=c-g-(e+t));var m;n("tl","tc","tr")?m=d+(e+t):n("bl","bc","br")?m=u-h-(e+t):n("lt","rt")?m=p-r:n("lc","rc")?m=p-h/2:n("lb","rb")&&(m=p-h+r),o.css({"top":(0|m)+"px","left":(0|i)+"px"})},"toggle":function(e){e.preventDefault(),this._toggle()},"_toggle":function(){this.isVisible||(this.$source.trigger(this.identifier+":show"),this._reposition(),this.bindVisibleEvents()),this.$popover.toggleClass(i),this._updateAria(),this.isVisible||(this.$source.trigger(this.identifier+":hide"),this.unbindVisibleEvents())},"documentClick":function(e){var t=e.target;!$.contains(document.documentElement,t)||!this.isVisible||this.$popover.has(t).length>0||this.$popover.is(t)||this.$source.has(t).length>0||this.$source.is(t)||$(t).parents(o).length>0||$(t).is(o)||this._toggle()},"documentKeyup":function(e){var t=e.target;27===e.which&&this.isVisible&&0===$(o).length&&((this.$popover.has(t).length>0||this.$popover.is(t))&&this.$source.focus(),this._toggle())},"windowResize":function(){this.isVisible&&this._reposition()},"connect":function(){this.isVisible&&(this.bindVisibleEvents(),this._reposition())},"disconnect":function(){this.unbindVisibleEvents()},"bindVisibleEvents":function(){this.visibleEventsBound||($(document).on("click"+this.eventSuffix,this.documentClick.bind(this)),$(document).on("keyup"+this.eventSuffix,this.documentKeyup.bind(this)),$(window).on("resize"+this.eventSuffix,this.windowResize.bind(this)),this.visibleEventsBound=!0)},"unbindVisibleEvents":function(){$(document).off(this.eventSuffix),$(window).off(this.eventSuffix),this.visibleEventsBound=!1}})}(),StackExchange.loggedIn={},StackExchange.tagPreferences=function(){function e(e){return $(".js-tag-preferences-container").find(e)}function t(e){m!==g.Full&&m!==e&&(m=m===g.None?e:g.Full,i())}function n(){m!==g.None&&(m=g.None,i(),r())}function r(){v&&(v.remove(),v=null)}function i(){function t(t,n){n?e(t).removeClass("d-none"):e(t).addClass("d-none")}var n=m==g.Full,r=n||m==g.Watching,i=n||m==g.Ignored,s=e(".js-watched-tag-list .post-tag").length>0,u=e(".js-ignored-tag-list .post-tag").length>0;t(".js-watched-tag-list",s),t(".js-ignored-tag-list",u),r?(a(".js-watched-tag-list"),o(".js-add-watched-container",function(e){O(".js-ignored-tag-list",e),S(e,".js-watched-tag-list",20,!0,!1,!0)}),e(".js-watched-tag-list.js-has-subscriptions").addClass("fd-column")):(e(".js-add-watched-container form, .js-watched-tag-list .delete-tag").remove(),e(".js-watched-tag-list.js-has-subscriptions").removeClass("fd-column"),e(".js-watched-tag-list .dropdown").addClass("d-none")),i?(c(),a(".js-ignored-tag-list"),o(".js-add-ignored-container",function(e){b(),O(".js-watched-tag-list",e),S(e,".js-ignored-tag-list",25,!0,!1,!0)})):e(".js-add-ignored-container form, .js-ignored-tag-list .delete-tag").remove(),t(".js-edit-all-tags",!n),t(".js-edit-watched-tags",!r&&s),t(".js-show-add-watched, .js-show-add-watched-container",!r&&!s),t(".js-edit-ignored-tags",!i&&u),t(".js-show-add-ignored, .js-show-add-ignored-container",!i&&!u),t(".js-full-edit-visible",n),t(".js-watched-edit-visible",r),t(".js-ignored-edit-visible",i),e(".post-tag").addClass("user-tag"),$(document).off("click",h),m!=g.None&&$(document).on("click",h)}function o(t,n){var r=e(t);if(!(r.children("form").length>0)){var i=$('\n            <form class="mt8 grid">\n                <input type="text" class="grid--cell fl1 m0 mrn1 s-input s-input__sm brr0">\n                <button type="submit" class="grid--cell s-btn s-btn__primary blr0 m0">Add</button>\n            </form>'),o=i.find("input[type=text]");StackExchange.using("tagAutocomplete",function(){bindTagFilterAutoComplete(o)}),i.on("submit",function(e){e.preventDefault(),n(o)}),r.append(i)}}function a(t){e(t).find(".post-tag").each(function(){var e=$(this);0===e.children(".delete-tag").length&&$("<span>").addClass("delete-tag").attr("title","Remove tag").appendTo(e).click(function(t){s(e),t.preventDefault()})})}function s(e){var t=e.closest(".js-tag"),n=e.closest(".js-ignored-tag-list, .js-watched-tag-list");if(0!==n.length){t.remove();var r=n.is(".js-ignored-tag-list")?25:20,o=E(n).join(" ");l(r,o),p(),i()}}function c(){e(".js-ignored-section").removeClass("d-none")}function u(e){return e=e.replace(/#/g,"").replace(/\+/g,"").replace(/\./g,""),/\*/.test(e)?e.indexOf("*")==e.length-1?"[class*=' t-"+e.substr(0,e.length-1)+"']":":regex(class, t-"+e.replace(/\*/g,".*")+")":".t-"+e}function l(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=!1);var i="";"undefined"!=typeof w&&(i=String(w));var o={"fkey":StackExchange.options.user.fkey,"key":e,"value":t,"forUserId":i};return r&&(o.render=1),$.post("/users/save-preference",o,n)}function d(e){e.each(function(e,t){var n=$(t);n.is(".post-tag")&&(x[n.text()]=n)})}function f(e,t,n,r){if(window.performance&&window.performance.now){var i=window.performance.now();t();var o=window.performance.now()-i,a=StackExchange.options&&StackExchange.options.user&&StackExchange.options.user.isDeveloper;(a||o>n)&&(console.log("'"+e+"' took "+o.toString()+"ms"),a&&r&&o>n&&console.log(r))}else t()}function p(t,n,r){if(void 0===t&&(t=!1),void 0===n&&(n=[]),void 0===r&&(r=void 0),w=r,n)for(var i=0;i<n.length;i++)-1==y.indexOf(n[i])&&y.push(n[i]);n=y;var o=e(".js-ignored-tag-list .post-tag"),a=e(".js-watched-tag-list .post-tag");if(!t||0!=o.length||0!=a.length){$("div.question-summary").removeClass("tagged-ignored tagged-ignored-hidden tagged-interesting");var s=k(o,n),c=k(a,n);if(s.length>0){var u=j()?"tagged-ignored-hidden":"tagged-ignored";f("ignored",function(){$("div.tags").filter(s).closest("div.question-summary").addClass(u)},1500,s)}c.length>0&&f("interesting",function(){$("div.tags").filter(c).closest("div.question-summary").addClass("tagged-interesting")},1500,c)}}function h(e){!$.contains(document.documentElement,e.target)||$(e.target).closest(".js-tag-preferences-container, .js-edit-interesting, .s-modal, .message").length>0||n()}var g;!function(e){e[e.Full=0]="Full",e[e.Watching=1]="Watching",e[e.Ignored=2]="Ignored",e[e.None=3]="None"}(g||(g={}));var m=g.None,v=null,b=function(){$(".js-show-remaining-ignored").addClass("d-none"),$(".js-ignored-tag-list .js-tag").removeClass("d-none")},y=[],k=function(e,t){return e.map(function(e,t){return $(t).text()}).filter(function(e,n){if(!t)return!0;var r;/\*/.test(n)&&(r=new RegExp(n.replace(/([.+])/g,"\\$1").replace(/\*/g,".*")));for(var i=0;i<t.length;i++){var o=t[i];if(n===o)return!1;if(r&&r.test(o))return!1}return!0}).map(function(e,t){return u(t)}).get().join(",")},w=void 0,x={},S=function(e,t,n,o,a,s){void 0===o&&(o=!1),void 0===a&&(a=!1),void 0===s&&(s=!1);var c=$(e),u=$(t),d=c.val(),f=StackExchange.helpers.sanitizeAndSplitTags(d,!0,!1),h=!1;r();for(var g,m,v,b,y=function(e){if(0==$.trim(e).length)return"continue";var t=u.find(".post-tag");t.each(function(){return $(this).text()==e?($(this).fadeTo(500,.1).fadeTo(500,1),h=!0,void 0):void 0}),h||(g=encodeURIComponent(e),m=$(u.find(".js-tag-template").html()),v=x[e],v?m.find(".post-tag").replaceWith(v):m.find(".post-tag").attr({"href":(StackExchange.options.site.routePrefix||"")+"/questions/tagged/"+g,"title":function(e){return"show questions tagged '"+e.tag+"'"}({"tag":e})}).text(e),/~\*/.test(e)&&m.find(".js-tag-frequency-menu-toggle").remove(),b=u.children(".js-tag").filter(function(t,n){var r=$(n).find(".post-tag").text();return r&&e.localeCompare(r)<0}).first(),b.length>0?m.insertBefore(b):u.append(m)),h=!1},k=0,w=f;k<w.length;k++){var S=w[k];y(S)}c.val(""),o&&c.focus();var j=E(u),T=j.join(" ");a||l(n,T,function(e){e&&s&&(e.html&&(u.find(".js-tag").remove(),u.append(e.html),p(),i()),e.error&&C(c,e.error))},s).fail(function(){C(c,"An error occurred; please try again")}),p(),i()},C=function(e,t){m!==g.None&&e.parents("html").length>0&&(v=StackExchange.helpers.showErrorMessage(e,t,{"position":{"my":"top left","at":"bottom left","offsetLeft":10}}))},E=function(e){var t=Array();return e.find(".post-tag").each(function(e,n){var r=$(n).text().trim();r&&t.push(r)}),t},j=function(){return e(".js-hide-ignored").is(":checked")},T=function(t){if(!j())return!1;var n=e(".js-ignored-tag-list .post-tag"),r=k(n,!0);return r.length>0&&$(t).find("div.tags").filter(r).length>0},O=function(t,n){var r=StackExchange.helpers.sanitizeAndSplitTags($(n).val(),!0,!1);e(t).find(".js-tag").filter(function(){return-1!==r.indexOf($(this).data("tag-name")||$(this).find(".post-tag").text())}).remove()},A=function(e,t){var n=$("<input>").val(e);"favorite"==t&&(O(".js-ignored-tag-list",n),S(n,".js-watched-tag-list",20,!1,!0)),"ignore"==t&&(O(".js-watched-tag-list",n),c(),b(),S(n,".js-ignored-tag-list",25,!1,!0)),"clear"==t&&(O(".js-watched-tag-list, .js-ignored-tag-list",n),p(),i())},P=function(){var r=$(".js-tag-preferences-container");r.on("click",".js-show-add-ignored, .js-edit-ignored-tags",function(e){e.preventDefault(),t(g.Ignored),r.find(".js-add-ignored-container input[type=text]").focus()
}),r.on("click",".js-show-add-watched, .js-edit-watched-tags",function(e){e.preventDefault(),t(g.Watching),r.find(".js-add-watched-container input[type=text]").focus()}),r.on("click",".js-edit-all-tags",function(e){t(g.Full),e.preventDefault()}),r.on("click",".js-show-remaining-ignored",function(){return b()}),r.on("click",".js-hide-ignored, .js-dim-ignored",function(){l(30,j()),p()}),r.on("click",".js-hide-editor",function(){return n()}),r.on("click",".js-tag-frequency-menu-toggle",function(){var e=$(this);e.find(".dropdown").toggleClass("d-none").find("a").each(function(t,n){var r=$(n);r.data("frequency")===e.find(".js-tag-frequency-label").data("frequency")?r.addClass("selected"):r.removeClass("selected")})}),r.on("click",".dropdown a",function(){var e=$(this),t=e.closest(".js-tag").find(".post-tag").text(),n=e.data("frequency");return t&&_(t,n,function(){e.closest(".dropdown").addClass("d-none")}),!1}),r.on("click",function(t){var n=$(t.target).closest(".js-tag-frequency-menu-toggle").find(".dropdown").get(0);e(".dropdown").filter(function(e,t){return t!=n}).addClass("d-none")}),$(".js-edit-interesting").on("click",function(e){e.preventDefault(),r.length&&(t(g.Watching),$("html, body").animate({"scrollTop":r.offset().top},400,function(){return r.find(".js-add-watched-container input[type=text]").focus()}))})},I=function(){StackExchange.tagmenu.init(),L(),P(),i()},_=function(t,n,r){var i=null;"undefined"!=typeof forUserId&&(i=String(forUserId));var o={"fkey":StackExchange.options.user.fkey,"tagName":t,"notificationFrequencyId":n,"forUserId":i};$.post("/users/tags/subscribe",o,function(i,o,a){i&&e(".js-watched-tag-list.js-has-subscriptions .js-tag").each(function(){var e=$(this);e.find(".post-tag").text()===t&&e.find(".js-tag-frequency-label").text(M(n)).data("frequency",n)}),r&&r(i,o,a)})},M=function(e){switch(e){case StackOverflow.Models.NotificationFrequencyTypeId.None:return"None";case StackOverflow.Models.NotificationFrequencyTypeId.Daily:return"Daily";case StackOverflow.Models.NotificationFrequencyTypeId.FifteenMinutes:return"15 min";default:return"Unknown"}},q=function(e,t){var n=e.data("tag-name"),r=e.data("slug").toString();d(e.find(".js-templates .post-tag")),A(n,t),$.ajax({"type":"POST","url":"/tags/"+encodeURIComponent(r)+"/prefs","data":{"action":t,"fkey":StackExchange.options.user.fkey},"dataType":"html","success":function(e){$(".js-embedded-tag-preferences").each(function(t,n){var i=$(n);if(i.data("slug").toString()===r){var o=$(""+e).addClass(n.className);o.find(".js-tag-frequency-popup").remove(),i.replaceWith(o)}}),D(n,e)},"error":function(){},"complete":function(){e.find(".is-loading").removeClass("is-loading")}})},D=function(e,t){var n=$(""+t),r=n.find(".js-tag-frequency-popup").remove(),i=n.data("new-frequency");r.length>0?(StackExchange.helpers.showModal(r,{"dismissing":function(){_(e,StackOverflow.Models.NotificationFrequencyTypeId.None)}}),r.find(".js-frequency").click(function(){var t=StackOverflow.Models.NotificationFrequencyTypeId[$(this).val()];_(e,t,function(n){n&&(r.fadeOutAndRemove(),N(e,t))})}),r.find(".js-frequency:checked + .s-label").click(function(){r.fadeOutAndRemove(),N(e,i)})):N(e,i)},N=function(e,t){var n=null;if(t==StackOverflow.Models.NotificationFrequencyTypeId.Daily)n="You'll receive daily emails when there is new activity in this tag.";else{if(t!=StackOverflow.Models.NotificationFrequencyTypeId.FifteenMinutes)return;n="You'll receive an email within 15 minutes when there is new activity in this tag."}var r=function(e){return"You&#39;re now watching "+e.tag+"."}({"tag":'<span class="d-inline-block bg-green-200 px4 py2 bar-sm">'+e+"</span>"}),i=StackExchange.helpers.showToast(r+" "+n,{"type":"success","actions":[{"labelContents":Svg.UndoSm().add($("<span/>").text("Undo")),"click":function(){return _(e,StackOverflow.Models.NotificationFrequencyTypeId.None,function(e){e&&i.fadeOutAndRemove()})}}]})},L=function(){$(document).on("click",".js-embedded-tag-preferences button",function(){var e=$(this),t=e.closest(".js-embedded-tag-preferences"),n=e.data("action");e.is(".is-loading")||(e.addClass("is-loading"),q(t,n))})};return{"applyPrefs":p,"isIgnored":T,"resetDontApplyCache":function(){y=[]},"init":I}}();var StackOverflow;!function(e){var t;!function(e){var t;!function(e){e[e.None=0]="None",e[e.FifteenMinutes=1]="FifteenMinutes",e[e.Daily=2]="Daily"}(t=e.NotificationFrequencyTypeId||(e.NotificationFrequencyTypeId={}))}(t=e.Models||(e.Models={}))}(StackOverflow||(StackOverflow={})),StackExchange.question.fullInit=function(e){if(window.votesCast=e.votesCast,StackExchange.vote.init(e.questionId),StackExchange.question.bindSuggestedEditPopupLinks(),StackExchange.vote_bounty.init(e),$(document).on("click",".post-menu .js-error-click",function(){var e=$(this);return e.parent().showErrorMessage(e.data("error-message")),!1}),/^#autocomment/.test(window.location.hash)){var t=$(".comments-link:first"),n="#comment-"+window.location.hash.substring(12),r=function(){var e=$(n),t=$("<span><b>Trivial answer converted to comment</b></span>");e.find(".comment-date").append($("<br>")).append(t),StackExchange.comments.flashHighlight(e),e[0].scrollIntoView(!0)};e.totalCommentCount&&e.shownCommentCount&&e.totalCommentCount!=e.shownCommentCount?StackExchange.comments.loadAll(t).done(r):r()}},StackExchange.question.bindSuggestedEditPopupLinks=function(){function e(e){var t=e.parent(),n=e.attr("id").substring("edit-pending-".length);e.data("working")||e.data("working",!0).loadPopup({"url":"/review/suggested-edit-popup/"+n,"lightbox":!0,"dontShow":!0,"target":t,"defaultErrorMessage":"Unable to load suggested edit - please try again"}).done(function(e,t){t.fadeIn("fast");{var n=$(window).height();e.find(".popup-suggested-edit").css({"max-height":n-100})}e.css("height","600px").center().css("height","").fadeIn("fast")}).always(function(){e.removeData("working")})}$('div.post-menu a[id^="edit-pending-"]').each(function(){$(this).unbind("click").click(function(){return e($(this)),!1})})},StackExchange.vote=function(){var e=StackExchange.helpers,t={"informModerator":-1,"undoMod":0,"acceptedByOwner":1,"upMod":2,"downMod":3,"offensive":4,"favorite":5,"close":6,"reopen":7,"bountyClose":9,"deletion":10,"undeletion":11,"spam":12},n="View upvote and downvote totals",r="This is one of your favorite questions (click to undo)",i="Click to mark as favorite question (click again to undo)",o=function(e){var t=e?b(e):y(),n=$("body.read-only").length>0;t.find(".js-vote-down-btn, .js-vote-up-btn").each(function(){var e,r,i,o=$(this);if(n)e="Voting is disabled while the site is in readonly mode";else{if(t.data("is-election"))return;r=o.hasClass("js-vote-up-btn"),i=o.closest(".answer").length>0,e=i?r?"This answer is useful":"This answer is not useful":r?"This question shows research effort; it is useful and clear":"This question does not show any research effort; it is unclear or not useful",StackExchange.loggedIn&&m(o)&&(e+=" (click again to undo)")}o.attr("title",e)})},a=function(e){var t=e?b(e):y();s(e),t.find(".js-vote-up-btn").unadornedButtonClick(function(){d($(this))},{"namespace":"vote"}),t.find(".js-vote-down-btn").unadornedButtonClick(function(){f($(this))},{"namespace":"vote"})},s=function(e){var t=e?b(e):y();return t.find(".js-vote-down-btn, .js-vote-up-btn").unbind("keypress.vote click.vote")},c=function(e){$.each(e,function(){var e=this.PostId,n=y().filter(function(){return k($(this))===e});switch(this.VoteTypeId){case t.upMod:v(n.find(".js-vote-up-btn"),!0);break;case t.downMod:v(n.find(".js-vote-down-btn"),!0);break;case t.favorite:var i=n.find(".js-favorite-btn");v(i,!0),i.attr("title",r);break;default:StackExchange.debug.log("site.vote.js > highlightExistingVotes has no case for "+this.VoteTypeId)}}),votesCast=null},u=function(e){$.ajax({"type":"GET","url":"/posts/"+e+"/votes","dataType":"json","success":c})},l=function(e){null==window.votesCast?u(e):c(window.votesCast),a(),o()},d=function(e){var n=b(e),r=n.find(".js-vote-up-btn"),i=n.find(".js-vote-down-btn"),o=!m(r),a=m(i),s=o?a?2:1:-1;C(n,s),v(r,o),v(i,!1),E(e,o?t.upMod:t.undoMod)},f=function(e){var n=b(e),r=n.find(".js-vote-up-btn"),i=n.find(".js-vote-down-btn"),o=!m(i),a=m(r),s=o?a?-2:-1:1;C(n,s),v(i,o),v(r,!1),E(e,o?t.downMod:t.undoMod)},p=function(){return y().find(".js-accept-answer-btn")},h=function(){return $("div.post-menu a[id^='protect-post-']")},g=function(){return $("div.post-menu a[id^='unprotect-post-']")},m=function(e){return"true"===e.attr("aria-pressed")},v=function(e,t){e.attr("aria-pressed",t?"true":"false").each(function(){var e=$(this).data("selected-classes");e&&$(this).toggleClass(e,t)})},b=function(e){return e.closest(".js-voting-container")},y=function(){return $(".js-voting-container")},k=function(e){return b(e).data("post-id")},w=function(e){return b(e).data("ltu")},x=function(t,n,r){var i={"dismissable":!0,"transient":!1,"transientTimeout":e.suggestedTransientTimeout(n,!0),"type":"danger","actions":[]},o=$.extend({},i,r);StackExchange.helpers.showToast(n,o)},S=function(e,t,n){StackExchange.helpers.showToast(t,n)},C=function(e,t){var n=e.find(".js-vote-count"),r=n.data("value")+t;n.data("value",r).text(r),n.data("had-split")&&R(n)},E=function(e,t){s(e),StackExchange.realtime.pauseQuestionNotifications=!0;var n=k(e);j({"$target":e,"postId":n,"voteTypeId":t,"success":T,"data":{"ltu":w(e)}})},j=function(e){var t=e.$target,n=e.postId,r=e.data,i=e.voteTypeId,o=function(r){r.Warning?confirm(r.Message)&&(c.ignoreWarnings="true",d()):e.success&&e.success(t,n,r),e.complete&&e.complete()},a=function(r){x(t,"An error has occurred - please retry your request."),e.error&&e.error(t,n,r),e.complete&&e.complete()},s=t.data("vote-stub");if(s)return setTimeout(function(){o(s)},0),void 0;var c={"fkey":StackExchange.options.user.fkey};if(r)for(var u in r)c[u]=r[u];var l="/posts/"+n+"/vote/"+i;e.undo&&(l+="?undo=true");var d=function(){$.ajax({"type":"POST","url":l,"data":c,"dataType":"json","success":o,"error":a})};d()},T=function(e,n,r){if(r.Success){if(r.Message&&S(e,r.Message,{"transient":r.Transient}),r.ShowShareTip){var i=$(e).closest(".question,.answer").find('div.post-menu a:contains("link")');StackExchange.question.showShareTip(i)}r.LastVoteTypeId==t.upMod?$(document).trigger("upVote",n):r.LastVoteTypeId==t.downMod?$(document).trigger("downVote",n):$(document).trigger("undoVote",n)}else r.Message?r.Info?S(e,r.Message,{"transient":!0}):x(e,r.Message,{"transient":!0}):x(e,"An error has occurred - please retry your request.",{"transient":!0}),v(e,!1),b(e).find(".js-vote-count").data("value",r.NewScore).text(r.NewScore),r.LastVoteTypeId&&O(e,r.LastVoteTypeId);a(e.parent()),StackExchange.realtime.pauseQuestionNotifications=!1,o(e)},O=function(e,n){var r=b(e);n===t.upMod?v(r.find(".js-vote-up-btn"),!0):n===t.downMod&&v(r.find(".js-vote-down-btn"),!0)},A=function(){y().find(".js-favorite-btn").each(function(){var e=$(this);e.attr("title",m(e)?r:i)}),$(document).unadornedButtonClick(function(){P($(this))},{"selector":".js-favorite-btn:not(.disabled)"})},P=function(e){if(!e.data("loading")){e.data("loading",!0);var n=k(e),o=b(e).find(".js-favorite-count"),a=m(e),s=o.data("value")||0,c=!a,u=c?s+1:s-1,l=function(t,n){v(e,t),e.attr("aria-label",n?"favorite("+n+")":"favorite"),e.attr("title",t?r:i),o.data("value",n).text(n).toggleClass("d-none",0===n)};l(c,u),j({"$target":e,"postId":n,"voteTypeId":t.favorite,"undo":a,"success":function(t,n,r){e.data("loading",!1),r.Success||(l(a,s),x(e,r.Message))}})}},I=function(e,t){var n="div.post-menu *[id^='delete-post-'], table.flagged-posts *[id^='delete-post-']",r=$(document);r.off("click",n),r.on("click",n,function(n){n.preventDefault(),M($(this),e,t)}),r.off("mouseenter mouseleave",n),r.on("mouseenter mouseleave",n,function(){var e=$(this);if(e.hasClass("load-tooltip-on-hover")){e.removeClass("load-tooltip-on-hover");var t=e.attr("id").substring("delete-post-".length),n="/posts/"+t+"/delete-tooltip";$.get(n,function(t){e.attr("title",t)})}})},_=function(e,n,r,i){e.loadPopup({"url":"/posts/{postId}/fancy-deletion-prompt".formatUnicorn({"postId":n}),"loaded":function(o){StackExchange.helpers.bindMovablePopups(),$(o).find("a").each(function(e,t){var n=$(t).attr("href");n&&n.length>1&&$(t).attr("target","__blank")}),$(o).find(".cancel-delete").click(function(e){return StackExchange.helpers.closePopups(o),e.preventDefault(),!1}),$(o).find(".delete-question").click(function(a){return StackExchange.helpers.closePopups(o),j({"$target":e,"postId":n,"voteTypeId":t.deletion,"success":r,"data":i}),a.preventDefault(),!1})}})},M=function(e,n,r){var i=e.attr("id").substring("delete-post-".length),o=e.text().indexOf("undelete")>-1,a=e.data(o?"undelete-prompt":"delete-prompt");a||(a=StackExchange.options.user.isModerator?o?"Undelete this post?":"Delete this post?":o?"Vote to undelete this post?":"Vote to delete this post?");var s=o?!1:!!e.data("fancy-delete"),c=n||q;return s?(_(e,i,c,r),void 0):(confirm(a)&&(StackExchange.realtime.pauseQuestionNotifications=!0,j({"$target":e,"postId":i,"voteTypeId":o?t.undeletion:t.deletion,"success":c,"data":r})),void 0)},q=function(e,t,n){var r=e.text().indexOf("undelete")>-1;if(n&&n.Success)if(e.html(n.Message),e.addClass("load-tooltip-on-hover"),n.NewScore<0){var i=$(".question:has(a[id='delete-post-"+t+"'])").length>0,o=i?".question, div.answer":"#answer-"+t;D($(o),!r)}else S(e,r?"Your undelete vote has been recorded":"Your delete vote has been recorded");else{var a=n&&n.Message?n.Message:r?"A problem occurred during undeletion":"A problem occurred during deletion";x(e,a)}StackExchange.realtime.pauseQuestionNotifications=!1},D=function(e,t){t?($("div.question-status:has(span:contains('delete'))").show(),e.addClass("deleted-answer").find("a[id^='delete-post-']").addClass("deleted-post").end().find("div[id^='comments-']").addClass("comments-container-deleted").end().find("div[id^='comments-link-']>a").addClass("comments-link-deleted")):document.location.reload(!0)},N=function(){var e=$(this),n=k(e),r=p();if(!e.is(":working")){var i=$('<div class="grid--cell as-center" />').addStacksSpinner("sm").appendTo(b(e));r.working(!0),j({"$target":e,"postId":n,"voteTypeId":t.acceptedByOwner,"success":function(n,o,a){a.Success?(v(r,!1),parseInt(a.Message,10)==t.acceptedByOwner&&v(e,!0)):x(e,a.Message,{"transient":a.Transient}),i.remove(),r.working(!1).trigger("update")}})}},L=function(){var e=$(this),t=m(e)?"unaccept":"accept";e.attr("title",e.data("title-"+t));var n=e.data("verb-"+t);n&&e.text(n)},F=!1,U=function(e){if(!F){F=!0;var t=k(e);e.addStacksSpinner("sm","fc-black-200"),$.ajax({"type":"GET","url":"/posts/{postId}/vote-counts".formatUnicorn({"postId":t}),"dataType":"json","success":function(t){StackExchange.helpers.removeMessages();var n='<div style="color:green">'+t.up+'</div><div class="vote-count-separator"></div><div style="color:maroon">'+t.down+"</div>",r=function(e){return 1==e.upCount&&1==e.downCount?e.upCount+" up / "+e.downCount+" down":1==e.upCount?e.upCount+" up / "+e.downCount+" down":(1==e.downCount,e.upCount+" up / "+e.downCount+" down")}({"upCount":Math.abs(+t.up),"downCount":Math.abs(+t.down)});e.html(n).data("value",Math.abs(+t.up)-Math.abs(+t.down)).off("keypress click").data("bound",!1).data("had-split",!0).removeClass("c-pointer").removeAttr("tabindex").attr({"title":r,"aria-label":r})},"error":function(t){e.removeSpinner(),x(e,t.responseText&&t.responseText.length<100?t.responseText:"An error occurred during vote count fetch",{"transient":409==t.status})},"complete":function(){F=!1}})}},R=function(e){(e||$(".js-vote-count")).not(".mobile-vote-count").not(":data(bound)").filter(function(){return k($(this))}).attr({"title":n,"tabindex":"0"}).addClass("c-pointer").unadornedButtonClick(function(){U($(this))}).data("bound",!0)},B=function(e){l(e),h().unbind("click").click(function(e){e.preventDefault();var t=this.id.substring("protect-post-".length);return confirm("Are you sure you want to protect this question?")&&$.ajax({"type":"POST","url":"/question/protect","data":{"id":t,"fkey":StackExchange.options.user.fkey},"success":function(){location.reload(!0)}}),!1}),g().unbind("click").click(function(e){e.preventDefault();var t=this.id.substring("unprotect-post-".length);return confirm("Are you sure you want to unprotect this question?")&&$.ajax({"type":"POST","url":"/question/unprotect","data":{"id":t,"fkey":StackExchange.options.user.fkey},"success":function(){location.reload(!0)}}),!1}),StackExchange.vote_closingAndFlagging.init(),A()};return{"init":function(e){var t=!StackExchange.options.user.isRegistered;t?StackExchange.question.bindAnonymousVoteDisclaimers():B(e),p().not(":data(bound)").unadornedButtonClick(N).on("update",L).data("bound",!0).trigger("update"),StackExchange.question.bindFetchAcceptedAnswerDates(),StackExchange.question.canViewVoteCounts()&&R(),I()},"election_init":function(e,t){e&&(c(t),R()),a()},"up":d,"down":f,"vote_init":l,"favorite_init":A,"delete_init":I,"bindFetchVoteCounts":R,"highlightExistingVotes":c,"submit":j,"voteTypeIds":t,"getPostId":k}}(),StackExchange.vote_closingAndFlagging=function(){function e(){O=A=P=I=_=null}function t(t,r){e(),O=t.data("questionid"),A=t,t.data("isclosed")?(r||confirm("Nominate this question for reopening?"))&&g():n(!0)}function n(e){StackExchange.helpers.closePopups($("#popup-close-question"));var t=A.closest(".post-menu");0==t.length&&(t=A.parent());var n={"loadedTimestamp":A.data(q)};j&&j.reviewTaskIdGetter&&(n.reviewTaskId=j.reviewTaskIdGetter());var i=A.loadPopup({"url":"/flags/questions/{questionId}/close/popup".formatUnicorn({"questionId":O}),"data":n,"dontShow":!0,"target":t,"errorTarget":j?j.errorTarget:null}).done(function(n){P=n,P.appendTo(t),r(),j&&j.closeShowPopup?j.closeShowPopup(P,A):e&&P.center().fadeIn("fast")});return i}function r(){P.on("popupClose",function(){I&&StackExchange.helpers.closePopups(I)}),P.find("input[type=radio]").closest("li").bind("show-action",function(){a($(this))}),$("#close-question-form").submit(function(e){return e.preventDefault(),h(),!1}),$(".retract-close-vote").click(function(){k($(this))}),$(".action-list a").attr("target","_blank"),i(),o()}function i(){var e=$(".close-as-duplicate-pane"),t=e.find("#search-text");e.on("show",function(){$("#search-text").focus(),$("#close-question-form .popup-submit").enable($("#original-question-id").val())}).addClass("handles-submit-button-enabling"),t.typeWatch({"highlight":!1,"wait":750,"captureLength":-1,"callback":function(){f(t)}})}function o(){var e=P.find(".off-topic-other-comment-container"),t=e.find("textarea"),n=e.closest("li").find("input[type=radio]"),r=$.trim(t.val()),i=function(){return $.trim(t.val())!=r},o=function(e){var n=e&&i();t.is(":focus")&&P.find(".popup-submit").enable(n)};t.charCounter({"target":e.find(".text-counter"),"min":30,"max":500,"setIsValid":o}),n.click(function(){e.show(),t.focus();var n=t.val();t.val("").val(n)}),t.focus(function(){n.is(":checked")||n.attr("checked","checked")})}function a(e){var t=e.find("input:radio"),n=P.find(".popup-subpane").filter(function(){var e=t.data("subpane-name");return e&&e==$(this).data("subpane-name")}),r=P.find(".popup-submit");n.length?(s(n,$(".popup-active-pane"),!0),n.hasClass("handles-submit-button-enabling")||r.disable()):r.enable()}function s(e,t,n){if(P.find(".popup-active-pane").removeClass("popup-active-pane").hide(),P.find(".popup-title").html(e.data("title")),n){var r=t.data("breadcrumb")||t.data("title");u(r,function(){s(t,e,!1)})}if(c(e),t.data("clear-input-selector")){t.find(t.data("clear-input-selector")).val("");var i=P.find(".popup-submit");i.attr("disabled","disabled")}e.addClass("popup-active-pane").show().trigger("show").asyncLoad()}function c(e){e.find("input[type=radio]:checked").removeAttr("checked"),e.find("li.action-selected").removeClass("action-selected"),P.find(".popup-submit").disable()}function u(e,t){var n=$(".popup-title-container .popup-breadcrumbs"),r=$("<span>").addClass("breadcrumb");$("<a>").text(e).click(function(){r.nextAll().andSelf().remove(),t()}).appendTo(r),$("<span>").addClass("arrow").html("&gt;").appendTo(r),r.appendTo(n)}function l(){u("Flagging",function(){var e=P.position();StackExchange.options.isMobile||I.css({"top":e.top,"left":e.left}),P.hide(),I.fadeIn("fast"),s(P.find("#pane-main"),P.find(".popup-active-pane"),!1)})}function d(e){var t=e.find(".list-originals");return 0==t.children().length?(t.hide(),void 0):(t.show(),p(t,!0),styleCode(),t.find(".item").click(function(){var e=$(this).find(" .post-link > a").addSpinner({"padding-left":"3px"}),t=$("#search-text").val(e.attr("href"));return f(t,e),!1}).hover(function(){$(this).toggleClass("hover")}),void 0)}function f(e,t){var n=e.closest(".popup-subpane"),r=n.find(".preview"),i=n.find(".list-container"),o=n.find(".search-errors").empty(),a=$("#original-question-id"),s=n.closest("#popup-close-question").find(".popup-submit");if(s.disable(),r.html("").hide(),0!=$.trim(e.val()).length){t||n.find(".search-spinner").addSpinner();var c={"q":e.val()};j&&j.reviewTaskIdGetter&&(c.reviewTaskId=j.reviewTaskIdGetter()),$.ajax({"type":"GET","url":"/posts/popup/close/search-originals/"+$("#popup-close-question").data("questionid"),"data":c,"dataType":"html"}).done(function(e){var t=$(e).elementNodesOnly().mathjax();if(t.hasClass("show-original"))i.hide(),p(t),r.empty().append(t).show(),t.find(".question .show-title a").attr("target","_blank"),t.find(".post-tag").addClass("user-tag"),a.val(t.find(".question").data("questionid")),s.enable();else{if(!t.hasClass("list-originals"))throw"these are not the results you were looking for";i.empty().append(t).show(),d(i)}}).fail(function(e){var t=e.responseText&&e.responseText.length<100?e.responseText:"An error occurred while searching; please try again";o.text(t),s.disable(),a.val(""),n.find(".navi-container .instructions").remove()}).always(function(){StackExchange.helpers.removeSpinner()})}}function p(e,t){var n=$(".close-as-duplicate-pane .original-display").find(".navi-container"),r=e.find(".navi"),i=$("#search-text");if(t)n.empty();else{var o=n.find(".navi");if(1!=o.length)return;o.empty(),$("<a>").text(o.data("abbr")).click(function(){o.html(o.data("text")).siblings().remove(),n.siblings(".preview").hide(),n.siblings(".list-container").show(),$("#original-question-id").val(""),$("#popup-close-question").find(".popup-submit").disable(),$(".close-as-duplicate-pane").find(".search-errors").empty(),i.val(o.data("search-text")).focus()}).appendTo(o)}r.data("search-text",i.val()).text(r.data("text")).prependTo(n)}function h(){var e=P.find(".popup-submit");if(!e.attr("disabled")){$(".remaining-votes").addSpinner({"position":"absolute","margin":"18px 0 0 3px"}),e.disable();var t=function(e,t){return P.find(e+' input[type=radio][name="'+t+'"]:checked').val()};return j&&j.closeSubmitting&&j.closeSubmitting()===!1?(StackExchange.helpers.closePopups(P),void 0):($.ajax({"type":"POST","url":"/flags/questions/{questionId}/close/add".formatUnicorn({"questionId":O}),"dataType":"json","data":{"fkey":StackExchange.options.user.fkey,"closeReasonId":t("#pane-main","close-reason"),"duplicateOfQuestionId":$("#original-question-id").val(),"closeAsOffTopicReasonId":t(".close-as-off-topic-pane","close-as-off-topic-reason"),"belongsOnBaseHostAddress":t(".migration-pane","migration"),"offTopicOtherText":P.find(".off-topic-other-comment-container textarea").val(),"offTopicOtherCommentId":P.find(".close-as-off-topic-pane input[type=radio]:checked").data("other-comment-id"),"originalOffTopicOtherText":P.find('.off-topic-other-comment-container input[name="original_text"]').val()}}).done(function(e){m(e)}).fail(function(){C(A,"An error occurred; please try again")}).always(function(){StackExchange.helpers.closePopups(P)}),void 0)}}function g(){A.is(":working")||(A.working(!0).addSpinner({"margin":"0 3px"}),$.ajax({"type":"POST","url":"/flags/questions/{questionId}/reopen/add".formatUnicorn({"questionId":O}),"dataType":"json","data":{"fkey":StackExchange.options.user.fkey}}).done(function(e){m(e)}).fail(function(){A.working(!1),C(A,"An error occurred; please try again")}).always(function(){StackExchange.helpers.removeSpinner()}))}function m(e){e.isClose="QuestionClose"==e.FlagType,e.isRecommendClose="QuestionRecommendClose"==e.FlagType,e.isReopen="QuestionReopen"==e.FlagType,e.verb=e.isRecommendClose?"flag":e.isReopen?"reopen":"close";var t=A;e.isClose&&A.is('[class*="flag-post-"]')&&(t=A.parent().find("a[class*='close-question']")),e.Success?v(e,t):y(e,t)}function v(e,t){if(!(j&&j.closeCallback&&j.closeCallback(t,e,e.isRecommendClose))){var n=function(){var e=window.location.href.splitOnLast("#")[0],t="noredirect=1";e.indexOf(t)<0&&(e+=(e.indexOf("?")<0?"?":"&")+"noredirect=1"),window.location.href=e};return e.ResultChangedState?(n(),void 0):("Duplicate"!=e.CloseReason&&e.CloseAsOffTopicReasonId!=M||0!=t.closest(".mod-post-header").length||StackExchange.comments.loadAll(t),e.Tooltip&&t.attr("title",e.Tooltip),e.Message?(b(e,t),void 0):(n(),void 0))}}function b(e,t){var n=(e.Message||"").length<150,r={"transient":n,"css":{"max-width":"600px","line-height":n?"inherit":"25px"}};if(t.parent().showInfoMessage(e.Message,r),!e.isRecommendClose){t=t.closest(".post-menu").find(".close-question-link");var i=t.find(".existing-flag-count");e.Count>0?(0==i.length&&(t.text(t.text()+" "),i=$('<span class="existing-flag-count">').appendTo(t)),i.text(e.Count)):0===e.Count&&i&&(i.remove(),t.attr("title","You retracted your close vote for this question"))}}function y(e,t){var n=e.Message;if(!n)switch(e.verb){case"flag":n="A problem occurred when trying to flag";break;case"reopen":n="A problem occurred when trying to reopen";break;case"close":n="A problem occurred when trying to close"}j&&j.closeErrorCallback&&j.closeErrorCallback(n)||(C(t,n),e.RefreshClient&&setTimeout(function(){location.reload(!0)},2500))}function k(e){!e.is(":disabled")&&confirm("Are you sure (you cannot vote again after retracting)?")&&(e.disable().addSpinnerBefore({"position":"absolute","margin":"18px 0 0 -25px"}),$.ajax({"type":"POST","url":"/flags/questions/{questionId}/close/retract".formatUnicorn({"questionId":O}),"dataType":"json","data":{"fkey":StackExchange.options.user.fkey}}).done(function(e){b(e,A)}).fail(function(){C(A,"An error occurred; please try again")}).always(function(){StackExchange.helpers.closePopups(P)}))}function w(t){e(),O=t.data("postid"),A=t;var n={"loadedTimestamp":t.data(q)};j&&j.reviewTaskIdGetter&&(n.reviewTaskId=j.reviewTaskIdGetter()),t.loadPopup({"url":"/flags/posts/{postId}/popup".formatUnicorn({"postId":O}),"loaded":x,"data":n,"hideDescriptions":!1,"subformShow":N,"dontShow":j&&j.flagShowPopup,"errorTarget":j?j.errorTarget:null})}function x(e){I=e,D(),I.find(".js-flag-load-close").unbind("click").click(function(){T?T(I,$(this)):L($(this))});var t=I.find("form"),n=StackExchange.settings.flags.allowRetractingFlags?t.attr("data-showretract"):null;t.submit(function(e){return e.preventDefault(),n?F(n):U(),!1}),S(),j&&j.flagShowPopup&&j.flagShowPopup(e,A)}function S(){I.find(".action-list > .disabled-action").each(function(){var e=$(this);e.find("input[type=radio]").attr("disabled","disabled"),e.find(".action-name").addClass("disabled-button")})}function C(e,t,n){var r=j&&j.errorTarget?j.errorTarget:e.parent();n?r.showInfoMessage(t):r.showErrorMessage(t)}function E(e,t){var n=j&&j.errorTarget?j.errorTarget:e.parent();n.showErrorMessage(t,{"type":"warning"})}var j,T,O,A,P,I,_,M=3,q="loaded-timestamp",D=function(){var e=I.find(".popup-submit"),t=I.find('textarea[name="otherText"]'),n=I.find('input[value="PostOther"]');t.focus(function(){n.is(":checked")||n.attr("checked","checked")}).charCounter({"min":10,"max":500,"setIsValid":function(t){n.is(":checked")&&e.enable(t)}}),n.click(function(){t.focus()})},N=function(e){if(e.is(".mod-attention-subform")){var t=e.find('textarea[name="otherText"]');e.find('input[value="PostOther"]:checked').length>0?t.focus():0==e.find("input:radio:checked").length&&e.closest(".popup").find(".popup-submit").disable()}},L=function(e){var t=I.position(),r=I.fadeOut("fast").promise();P||(e.siblings(".action-name").addSpinner({"margin":"0 5px"}),r=n(!1)),r.done(function(){l(),e.is(".js-flag-load-close-duplicate")&&P.find("input[value=Duplicate]").click(),StackExchange.options.isMobile||P.css({"top":t.top,"left":t.left}),P.fadeIn("fast")}),I.find(".popup-submit").disable(),e.removeAttr("checked"),I.find(".action-list li").trigger("hide-action")},F=function(e){R("/flags/posts/{postId}/retract/{flagType}",e,"")},U=function(){var e=I.find('textarea[name="otherText"]'),t=function(t){return t.Success?(StackExchange.helpers.closePopups(I),t.Message&&C(A,t.Message,t.Success),!1):(1===t.Outcome?E(e,t.Message):C(I.find(".popup-actions"),t.Message),!0)},n=I.find('input[name="top-form"]:checked').val(),r="";"PostOther"==n&&(r=e.val());var i=_===r;return _=r,j&&j.flagSubmitting&&j.flagSubmitting()===!1?(StackExchange.helpers.closePopups(I),void 0):(R("/flags/posts/{postId}/add/{flagType}",n,r,i,t),void 0)},R=function(e,t,n,r,i){I.find(".popup-submit").disable().siblings(".spinner-container").addSpinner(),$.ajax({"type":"POST","url":e.formatUnicorn({"postId":O,"flagType":t}),"dataType":"json","data":{"fkey":StackExchange.options.user.fkey,"otherText":n,"overrideWarning":r}}).always(function(){i||StackExchange.helpers.closePopups(I),I.find(".popup-submit").enable().siblings(".spinner-container").removeSpinner()}).done(function(e){i&&i(e)||j&&j.flagCallback&&j.flagCallback(A,e)||(e.ResultChangedState?location.reload(!0):e.Message&&C(A,e.Message,e.Success))}).fail(function(e){var t=e.responseText&&e.responseText.length<100?e.responseText:"An error occurred during flagging";C(I.find(".popup-actions"),t)})};return{"close_afterLoadListOriginals":d,"close_initDuplicateSubPane":i,"updateCloseLinkCount":b,"init":function(e){j||(j=e);var n=".close-question-link, .close-question-button",r=function(e,n){e.preventDefault(),t($(this),!!n)};$("body").off("click",n).on("click",n,r);var i=".flag-post-link, .flag-post-button",o=function(e){e.preventDefault(),w($(this))};$("body").off("click",i).on("click",i,o);var a=Date.now();$(n).add(i).each(function(){var e=$(this);e.data(q)||e.data(q,a)})}}}(),function(){function e(e,t){this.commentId=e,this.jComment=t,this.postUi=u(t)}function t(t,n){n||(d=t),t=t||d||{};for(var r in t)t.hasOwnProperty(r)&&(e.prototype[r]=t[r])}function n(e,t){if(!e)throw new Error("$txt is required");e instanceof $||(e=$(e));var n=StackExchange.helpers.hasContentEditable(e);return 1===arguments.length?n?e.html():e.val():(n?e.html($("<div/>").text(t).html()):e.val(t),void 0)}function r(e,t,n,r,o,a){var c,u=t.hasClass("mobile-comment-form");c=u?'<div class="js-comment-text-input-container"></div><button type="submit" class="s-btn s-btn__primary"></button> <button type="button" class="js-edit-comment-cancel s-btn d-none"></button><span class="comment-text"><span class="text-counter"></span></span>':'<div class="js-comment-form-layout d-flex fw-wrap jc-end mt8"><div class="w75 fl-grow1"><div class="js-comment-text-input-container"/><span class="text-counter"></span> <span class="form-error"></span></div><div class="d-flex fd-column jc-space-between pb4 mb16 ml8"><button type="submit"></button><button type="button" class="js-edit-comment-cancel s-btn s-btn__link ta-left px2 mt4"></button><br/><button type="button" class="js-comment-help-link s-btn s-btn__link ta-left px2"></button></div></div>',t.append(c).find("[type=submit]").text(n);var l=e.renderTextInput(t,u),d=t.find(".js-comment-text-input-container");o&&(d.append('<div class="new-contributor-indicator fc-black py12 btr-sm ta-center">'+o+"</div>"),l.addClass("btr0")),d.append(l),r&&(t.find(".js-edit-comment-cancel").text("cancel").removeClass("d-none").click(function(){i(t).cancelEdit()}),t.keyup(function(e){27!==e.which||0!==t.find("#tabcomplete > li:visible").length||t.hasClass("js-prevent-submit-form-on-enter-press")||i(t).cancelEdit()}));var p=!1,h=function(e){p=e};return l.attr("placeholder",t.data("placeholdertext")).charCounter({"min":15,"max":600,"setIsValid":h}).focus(function(){StackExchange.comments.tabCompleter.init($(this))
}),s&&l.one("focus",f),t.find(".js-comment-help-link").text("help").click(f),t.submit(function(){return p?(StackExchange.helpers.disableSubmitButton(t),a(t)):t.find("span.text-counter").animate({"opacity":0},100,function(){$(this).animate({"opacity":1},100)}),!1}),StackExchange.settings.comments.doNotSubmitOnEnter||StackExchange.helpers.submitFormOnEnterPress(t),l}function i(t){var n=$(t).closest(".js-comment"),r=(n.data("comment-id")||"").toString();return new e(r,n)}function o(e,t,n){/Android/.test(navigator.userAgent)&&$(t,e).bind("touchstart",function(e){var t=$(e.target);if(!t.is(n))return!0;var r=t.length?$._data(t[0],"events"):null;return r&&r.click&&r.click.length?!0:(t.click(function(){}).attr("data-nothing-to-see-here","X"),!0)})}function a(e,t,n){var r=function(e){e.preventDefault();var t=i(this),r=t[n];r.apply(t)};$(".js-comments-container",e).delegate(t,"click",r),o(e,".js-comments-container",t)}var s,c=StackExchange.comments,u=c.uiForPost;c.extendPostUi({"ensureInput":function(){var e=this.jDiv.find('form[id^="add-comment-"]'),t=this;return e.children().length?(e.add(e.prev()).show(),e.find(".js-comment-text-input")):r(t,e,"Add Comment",!1,this.jDiv.find(".js-add-comment-message").html(),function(){t.submitNewComment()})},"renderTextInput":function(e,t){var n=$('<textarea name="comment" class="s-textarea js-comment-text-input"></textarea>');return t?n.attr("rows",2):n.attr("rows",3).attr("cols",68),n},"saveEditingComments":function(e){var t=this.editingComments=[];this.jDiv.find(".js-edit-comment-form:visible").each(function(){var n=i(this);if(n.commentId!==e){var r=$(this).find("textarea");t.push([n.commentId,r.val()])}})},"restoreEditingComments":function(){if(this.editingComments){var e=this.jDiv;$.each(this.editingComments,function(t,n){var r=n[0],o=n[1],a=e.find("#comment-"+r);a.length&&i(a).edit(o,!0)}),delete this.editingComments}},"commentsShown":function(){try{var e=this.jDiv.find("form[id^='add-comment-'] .js-comment-text-input:focus");e.length&&StackExchange.comments.tabCompleter.init(e),this.remainingCommentsCount(0)}catch(t){}},"submitNewComment":function(){var e=this.jDiv.find('form[id^="add-comment-"]'),t=e.find(".js-comment-text-input"),r=this;if(!e.is(":working")){e.working(!0);var i={"comment":n(t),"fkey":StackExchange.options.user.fkey};this.alterAddEditDataBeforeSubmit(i),this.ajax({"type":"POST","url":"/posts/"+this.postId+"/comments","dataType":"html","data":i},"An error occurred while adding this comment",e).done(function(i){n(t,""),t.keyup().blur(),StackExchange.helpers.enableSubmitButton(e),e.add(e.prev()).hide(),e.find(".message-dismissable").fadeOutAndRemove(),r.showComments(i,null,!1,!0),r.jCommentsLinkContainer.show(),$(document).trigger("comment",r.postId)}).fail(function(){StackExchange.helpers.enableSubmitButton(e)}).always(function(){e.working(!1)})}},"checkDiscussion":function(){var e=this.jDiv.find(".is-comment-discussion"),t=this;if(e.length){e.remove();var n=this.jDiv.find(".comment-form");if(!n.find(".discussion-info").length){{$("<div style='margin:12px 0 3px; font-weight:bold' class='discussion-info'>"+function(e){return"Please avoid extended discussions in comments. Would you like to "+e.aStart+"automatically move this discussion to chat?"}({"aStart":"<a href='#'>"})+"</a></div>").find("a").click(function(e){$(this).unbind("click"),e.preventDefault(),t.ajax({"url":"/posts/"+t.postId+"/move-discussion-to-chat","data":{"fkey":StackExchange.options.user.fkey},"type":"POST"},"An error occurred when trying to move the discussion to chat",n).done(function(e){e.success?window.location.href=e.message:StackExchange.helpers.showErrorMessage(n,e.message)})}).end().prependTo(n)}e.remove()}}}});var l=function(){};e.prototype={"undoVoteUp":l,"voteUp":l,"delete":l,"flag":l,"submitFlag":l,"edit":l,"cancelEdit":l,"submitEdit":l,"submitVote":l,"renderScore":l,"showEdits":l};var d;t({"undoVoteUp":function(){if(confirm("Are you sure you want to undo your upvote on this comment? You will not be able to upvote it again.")){var e=this.jComment.find(".comment-up-on").addClass("comment-up comment-up-off").removeClass("comment-up-on comment-up-undo"),t=this;this.submitVote(0).done(function(n){return n.Success?(t.renderScore(n.NewScore),e.prop("title","this comment adds something useful to the post").attr("aria-label","Upvote Comment"),$(document).trigger("undoUpVoteComment",t.postUi.postId),void 0):(e.removeClass("comment-up-off comment-up").addClass("comment-up-on"),void 0)}).fail(function(t){409===t.status&&e.addClass("comment-up-undo"),e.removeClass("comment-up").addClass("comment-up-on")})}},"voteUp":function(){var e=this.jComment.find(".comment-up").addClass("comment-up-on").removeClass("comment-up"),t=this;this.submitVote(2).done(function(n){if(!n.Success)return e.removeClass("comment-up-on").addClass("comment-up"),void 0;e.removeClass("comment-up-off"),e.addClass("comment-up-undo"),t.renderScore(n.NewScore);var r="you've voted for this as a useful comment (click again to undo)";e.prop("title",r).attr("aria-label",r),$(document).trigger("upVoteComment",t.postUi.postId)}).fail(function(){e.removeClass("comment-up-on").addClass("comment-up")})},"delete":function(){var e=this.jComment,t=this.postUi.jDiv,n=this.commentId;confirm("Really delete this comment?")&&this.submitVote(10).done(function(r){r.Success&&(e.remove(),0===t.find(".js-comment, textarea:visible").length&&t.addClass("dno"),t.trigger("comment:deleted",[+n]))})},"flag":function(e){function t(e){function t(e){var t=!1;a.each(function(){var n=$(this),r=n.closest(".js-comment-flag-option").find(".js-required-comment"),i=r.find("textarea").val()||"",o=n.is(":checked");r.toggleClass("d-none",!o),o&&(0==r.length||i.length>=6&&i.length<=200)&&(t=!0),e&&r.find("textarea").focus()}),s.enable(t)}var a=e.find('input[name="comment-flag-type"]'),s=e.find(".js-modal-submit"),c="";e.find(".js-comment-flag-option a").attr("target","_blank"),e.find(".js-required-comment").each(function(){$(this).find("textarea").charCounter({"min":6,"max":200,"setIsValid":function(){t(!1)},"target":$(this).find(".js-input-message")})}),a.click(function(){t(!0)}),t(!1),e.find("form").submit(function(t){t.preventDefault();var u=a.filter(":checked"),l=u.val(),d=u.closest(".js-comment-flag-option").find(".js-required-comment textarea").val()||"",f=d===c;c=d,s.addClass("is-loading"),$.ajax({"type":"POST","url":"/flags/comments/{commentId}/add/{flagTypeId}".formatUnicorn({"commentId":r,"flagTypeId":l}),"data":{"fkey":StackExchange.options.user.fkey,"otherText":d,"overrideWarning":f},"dataType":"json"}).done(function(t){if(!t.Success){var a={"closeOthers":!1};return 1===t.Outcome&&(a.type="warning"),s.removeClass("is-loading").parent().showErrorMessage(t.Message||"An error occurred during flagging",a),void 0}if(StackExchange.helpers.closePopups(e,"submit"),StackExchange.helpers.showToast("Thanks for flagging! We take your reports seriously.",{"type":"success","transientTimeout":3e3}),t.ResultChangedState)n.remove(),i.jDiv.trigger("comment:deleted",[+r]);else{n.find(".comment-voting").remove();var c="You have already flagged this comment";o.addClass("flag-on js-flag-disabled").prop("title",c).attr("aria-label",c)}}).fail(function(e){var t=e.responseText;(!t||t.indexOf("<html")>=0)&&(t="An error occurred during flagging"),s.removeClass("is-loading").parent().showErrorMessage(t,{"transient":409==e.status,"closeOthers":!1})})}),e.focus()}var n=this.jComment,r=this.commentId,i=this.postUi,o=n.find(".comment-flag"),a=e&&o.is(":focus")?o.addAtEnd(n.next().find(".comment-flag")).addAtEnd(i.jCommentsLinkContainer.find(".js-add-link, .js-show-link")):null;o.addSpinnerAfter({}),StackExchange.helpers.loadModal("/flags/comments/{commentId}/popup".formatUnicorn({"commentId":this.commentId}),{"returnElements":a}).done(t).fail(function(e){o.parent().showErrorMessage(e)}).always(function(){StackExchange.helpers.removeSpinner()})},"edit":function(e,t){var i=this.jComment,o=i.find(".js-edit-comment-form"),a=o.find(".js-comment-text-input"),s=this,c=s.postUi;"string"!=typeof e&&(e=null),o.length&&(i.find(".js-comment-edit-hide").addClass("d-none"),i.find(".js-comment-text-and-form").addClass("comment-form"),o.removeClass("d-none").toggleClass("mobile-comment-form",StackExchange.options.isMobile||!1),a.length||(a=r(c,o,"Save Edits",!0,"",function(){s.submitEdit()}),n(a,e||o.data("markdown")||"")),a.trigger("charCounterUpdate").trigger("editReady"),t||(a.focus(),StackExchange.helpers.hasContentEditable(a)&&StackExchange.helpers.placeCaretAtEnd(a[0])))},"cancelEdit":function(){var e=this.jComment,t=e.find(".js-edit-comment-form");e.find(".js-comment-edit-hide").removeClass("d-none"),e.find(".js-comment-text-and-form").removeClass("comment-form"),t.addClass("d-none").removeClass("mobile-comment-form"),t.children().remove(),t.unbind("submit"),e.find(".js-comment-edit.js-return-focus").removeClass("js-return-focus").focus()},"submitEdit":function(){var e=this.jComment,t=e.find(".js-edit-comment-form"),r=t.find(".js-comment-text-input"),i=n(r),o=this.commentId,a=this.postUi,s=e.find(".js-comment-edit.js-return-focus").length>0,c={"comment":i,"fkey":StackExchange.options.user.fkey};a.alterAddEditDataBeforeSubmit(c),a.ajax({"type":"POST","url":"/posts/comments/"+o+"/edit","dataType":"html","data":c},"An error occurred while editing this comment",t).done(function(e){r.val("").keyup().blur(),StackExchange.helpers.enableSubmitButton(t),a.showComments(e,o,!1,!0),a.jDiv.trigger("comment:edited",[+o,e]);var n=a.jDiv.find(".js-comment[data-comment-id="+o+"]");s&&n.find(".js-comment-edit").focus()}).fail(function(){StackExchange.helpers.enableSubmitButton(t)})},"submitVote":function(e,t){var n=this.jComment.find(".js-comment-actions"),r={"fkey":StackExchange.options.user.fkey};if(t)for(var i in t)r[i]=t[i];var o={"type":"POST","url":"/posts/comments/"+this.commentId+"/vote/"+e,"dataType":"json","data":r,"success":function(e){!e.Success&&e.Message&&StackExchange.helpers.showErrorMessage(n,e.Message)}};return this.postUi.ajax(o,"An error occurred during voting",n,!0)},"renderScore":function(e){var t="";if(e&&e>0){var n=5>e?"":15>=e?"warm":30>=e?"hot":"supernova";t+='<span title="number of \'useful comment\' votes received" class="'+n+'">'+e+"</span>"}this.jComment.find(".comment-score").html(t)},"showEdits":function(){var e=this.jComment,t=$("#comment-"+this.commentId+" .js-show-edits"),n={"type":"GET","url":"/posts/comments/{commentId}/edit-history".formatUnicorn({"commentId":this.commentId}),"dataType":"html"};this.postUi.ajax(n,null,t.parent()).done(function(t){StackExchange.helpers.showMessage(e.find(".js-comment-text-and-form"),null,{"messageElement":t,"type":"config","relativeToBody":!0,"position":{"my":"top center","at":"bottom center","offsetTop":-10,"offsetLeft":60},"fixedTo$elem":!0})})}});var f=function(e){var t,n=$(this).closest(".js-comment-form-layout"),r=n.find(".comment-help-link"),i=$(".comment-help",n);if("click"==e.type)t=0==i.length||!i.is(":visible"),t||(f.manualOnly=!0);else{if(f.manualOnly)return;t=!0}var o=function(){r.text(t?"hide help":"help")};if(i.length>0)return t?i.slideDown(o):i.slideUp(o),void 0;if(t){var a=$("<div class='w100' />").appendTo(n);if(f.helpText)a.html(f.helpText),$(".comment-help",a).slideDown(o);else{if(f.inProgress)return;f.inProgress=!0,StackExchange.helpers.addSpinner(r),a.load("/posts/comment-help",function(e){f.helpText=e,StackExchange.helpers.removeSpinner(),$(".comment-help",this).slideDown(o),f.inProgress=!1})}}},p=c.init;c.init=function(e){p(e),s=e&&e.autoShowCommentHelp;var n=e&&e.post||document;a(n,".comment-up","voteUp"),a(n,".js-comment-delete","delete"),a(n,".comment-flag:not(.js-flag-disabled)","flag"),a(n,".js-comment-edit","edit"),a(n,".comment-up-undo","undoVoteUp"),a(n,".js-show-edits","showEdits"),$(".js-comments-container",n).on("keypress",".js-comment-edit",function(e){(32===e.keyCode||13===e.keyCode)&&$(this).addClass("js-return-focus")}),$("form.comment-form-expanded",n).each(function(){u(this).addShow(!0,!0)}),t(null,!0)},c.extendCommentUi=t}(),StackExchange.comments.tabCompleter=function(){function e(e){return StackExchange.helpers.noDiacritics(e.replace(/ /g,"").toLowerCase())}function t(e){var t=$("#tabcomplete");t.empty(),e.length>5||!e.length||$.each(e,function(e,n){var r=$("<li/>").text(n).appendTo(t);n.toLowerCase()==d.toLowerCase()&&r.addClass("chosen")})}function n(){var e=l.caret().start,t=l.val(),n=!1;if(/@[^\s!?();:+"].*@/.test(t)){if(!/`/.test(t))return null;n=!0}var r=t.substring(e).search(/[\s!?();:+"\[\]\\]/);-1==r&&(r=t.length-e),StackExchange.options.site.insertSpaceAfterNameTabCompletion&&0===r&&" "===t.substring(e-1,e)&&(r=-1);var i=t.substring(0,e+r).match(/@[^\s!?();:+"\[\]\\]*$/);if(!i)return null;var o=i[0].substr(1),a=e+r,s=a-o.length;return n&&/@[^\s!?();:+"]/.test(t.substr(0,s-1))?null:{"start":s,"pos":e,"end":a,"name":o}}function r(e){var t=n();if(t.name===e)return l.is(":focus")||l.focus(),void 0;StackExchange.options.site.insertSpaceAfterNameTabCompletion&&(e+=" ");var r=l.val();l.val(r.substring(0,t.start)+e+r.substring(t.end));var i=t.start+e.length;l.caret(i,i)}function i(e){var t,n;if(9==e.which){if(n=$("#tabcomplete li"),!n.length)return;var i=n.filter(".chosen").removeClass("chosen"),o=e.shiftKey?i.prev():i.next();o.length||(o=e.shiftKey?n.last():n.first()),t=o.addClass("chosen").text()}else{if(27!=e.which)return;if(n=$("#tabcomplete li"),!n.length)return;t=d,d=null}e.preventDefault(),r(t)}function o(r){if(r.which)switch(r.which){case 9:case 16:case 17:case 18:case 220:return}var i=n();if(!i)return d=null,t([]),void 0;if(d!=i.name){var o=[];d=i.name;var a;a=i.name?new RegExp("^"+e(i.name).replace(/\./g,"\\."),"i"):/^\W/;for(var s=u.length,c=0;s>c;c++){var l=u[c],f=l.name,p=i.name?e(f):f;p.match(a)&&o.push(f.replace(/ /g,""))}t(o)}}function a(e){if(!e)return null;var t=e.match(f);return t?parseInt(t[1],10)||null:null}function s(e){return e.closest(".question, .answer").find(".post-signature:last .user-details a[href^='/']").filter(function(){return f.test($(this).attr("href"))})}function c(e,t,n,r){if(!StackExchange.options.isMobile&&!StackExchange.helpers.hasContentEditable(e)){var c=t||e.closest("div.comments"),f=n||s(c),p=a(f.attr("href")),h=[];c.find("a.comment-user").each(function(e,t){var n=t.firstChild;if(3!==n.nodeType)return StackExchange.debug.log("unexpected structure in comment owner link"),void 0;var r=n.nodeValue,i=a($(t).attr("href"));i!==StackExchange.options.user.userId&&h.push({"id":i,"name":r})}),u=[];for(var g={},m=h.length-1;m>=0;m--){var v=h[m];g[v.id]||(u.push(v),g[v.id]=!0)}if($("#tabcomplete").remove(),l&&l.unbind($.browser.opera?"keypress":"keydown",i).unbind("keyup click",o),0===u.length||1===u.length&&u[0].id===p)return l=null,void 0;l=e,d=null;var b=$("<ul id='tabcomplete' />");r?r.append(b):b.insertBefore(e),e.bind("keydown",i).bind("keyup click",o)}}var u,l,d=null,f=/^(?:\/c\/[^\/]+)?\/users\/(\d+)/i;return $("body").on("mousedown","#tabcomplete > li",function(){var e=$(this);return e.parent().find("li.chosen").removeClass("chosen"),r(e.addClass("chosen").text()),!1}),{"init":c}}(),StackExchange.inlineEditing={"init":function(){function e(e,t,n,r){t.fadeIn(n,r),e.hide()}function t(e){return"string"==typeof e&&(e=e.replace(/\.{3,}/g,""),e=e.replace(/---?(\s)/g,"$1"),e=e.replace(/"(.*?)"/g,"$1")),e}document.referrer&&$("#post-form input[name='referrer']").val(document.referrer),$(document).on("click",".post-menu .edit-post",function(n){if(!(n.ctrlKey||n.altKey||n.metaKey||n.shiftKey)){var r=$(this),i=r.closest(".question, .answer");if(1==r.data("handling-event"))return!1;r.data("handling-event",1),i.find("#edit-tags-cancel").length&&StackExchange.inlineTagEditing.restoreCurrentTags(!0);var o=$("#show-editor-button"),a=o.is(":visible");a&&o.hide(),r.addSpinner();var s="",c=i.hasClass("answer");c&&(s=" class='answer'");var u=i.find(".postcell,.answercell"),l=u.find("> *"),d=$('<div class="inline-editor"/>').hide().appendTo(u);return d.load(r.attr("href")+"-inline",function(n,s){var f;if(d.find("[tabindex]").each(function(){$(this).attr("tabindex",parseInt($(this).attr("tabindex")-20))}),StackExchange.helpers.removeSpinner(),i.offset().top<$(window).scrollTop()&&$("html, body").animate({"scrollTop":$(i).offset().top-55},200),"error"==s)StackExchange.helpers.showErrorMessage(u,"The post could not be loaded"),d.remove(),r.data("handling-event",0);else{e(l,d,300);var p=function(t){if(StackExchange.navPrevention){if(!StackExchange.navPrevention.confirm("You have started editing this post. Abandon this edit?"))return!1;StackExchange.navPrevention.stop()}return StackExchange.using("beginEditEvent",function(){StackExchange.beginEditEvent.cancel()}),a&&o.show(),r.data("handling-event",0),e(d,t,300,function(){d.remove()}),t.offset().top<$(window).scrollTop()&&$("html, body").animate({"scrollTop":$(i).offset().top-55},200),!1},h="input keyup",g=function(){k.unbind(h,m),S.trigger(f)},m=function(){return S.trigger(k[0].value),!0};d.find(".cancel-edit").click(function(){g(),p(l)});var v=StackExchange.helpers.DelayedReaction(function(e){$.ajax({"type":"POST","data":{"fkey":StackExchange.options.user.fkey,"hide":e},"url":"/user/save-pref/hide-preview-for-inline-editing"})},1e3,{"sliding":!0}),b=d.find(".hide-preview");b.click(function(){var e=d.find(".wmd-preview"),t=e.is(":visible");return t?(e.slideUp(),b.text("show preview")):(e.slideDown(),b.text("hide preview")),v.trigger(t),!1});var y=d.find("form"),k=d.find("#title"),w=$("#question-header a.question-hyperlink"),x=k.data("question-state-suffix");x=x?" "+x:"",f=k.val();var S=StackExchange.helpers.DelayedReaction(function(e){"undefined"!=typeof e&&(w.text(t(e)+x),"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,w[0]]))},{"sliding":!0});k.bind(h,m),d.find("#title,.wmd-input,#tagnames,.edit-comment").keydown(function(e){return e.ctrlKey===!0&&13==e.keyCode?(y.submit(),!1):27==e.keyCode?(g(),p(l),!1):void 0}),StackExchange.using("postValidation",function(){StackExchange.postValidation.initOnBlurAndSubmit(y,c?2:1,"edit",!1,function(e){var n=e.html,r=$(n).hide();u.replaceWith(r),c||$("#question-header a.question-hyperlink").text(t(e.title)),$("html").trigger("inline-edit-complete",[r,e.title]),styleCode(),p(r)})}),StackExchange.using("beginEditEvent",function(){StackExchange.beginEditEvent.init()})}}),!1}})}},StackExchange.vote_bounty=function(){var e,t=function(t,n,r){var i=$(".bounty-vote");if(r.Success){$(".bounty-notification").remove(),e=!1;var o=t.closest(".votecell").parent().find("span.reputation-score:last");if(r.Message){var a=$(r.Message);o.text(a.text()).attr("title",a.attr("title"))}var s=t.closest("div.vote").find(".bounty-award-container");if(s.length>1){var c=s.filter(":first").find(".bounty-award"),u=parseInt(c.text(),10),l=parseInt(t.text(),10);c.text("+"+(u+l)),i.remove()}else t.unbind("mouseenter mouseleave").removeClass("bounty-vote bounty-vote-off"),i.not(t).remove()}else StackExchange.helpers.showErrorMessage(t.parent(),r.Message),i.removeClass("disabled")},n=function(){return e?confirm("Are you sure you want to award your bounty to this answer? THIS CANNOT BE UNDONE!"):!0},r=function(e){var r=StackExchange.vote.getPostId(e);n(r)&&($(".bounty-vote").addClass("disabled"),StackExchange.vote.submit({"$target":e,"postId":r,"voteTypeId":StackExchange.vote.voteTypeIds.bountyClose,"success":t}))},i=function(){$(".bounty-vote").hover(function(){$(this).removeClass("bounty-vote-off")},function(){$(this).addClass("bounty-vote-off")}),$(document).on("click",".bounty-vote:not(.disabled)",function(){r($(this))})},o=function(e,t){return t=$(t||$(".bounty-link")),t=t.off("click",a),e&&t.on("click",a),t},a=function(){var e=o(!1,this),t=$(e).closest(".question").data("questionid");e.loadPopup({"url":"/posts/bounty/"+t}).always(function(){o(!0,e)})},s=function(){o(!0)};return{"init":function(t){e=!!t.hasOpenBounty,t.canOpenBounty&&s(),t.hasOpenBounty&&i()}}}();